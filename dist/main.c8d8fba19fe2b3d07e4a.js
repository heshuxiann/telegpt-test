/*! For license information please see main.c8d8fba19fe2b3d07e4a.js.LICENSE.txt */
(()=>{var e,t,n,r,o={14:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(73767);function o(e,t=!1,n=!1){const o=(0,r.A)(e,t);return n||null!=e?e:o}},529:(e,t,n)=>{"use strict";let r;n.d(t,{A:()=>o,l:()=>s});try{r=/[^\p{L}\p{M}]+/iu}catch(e){r=/[^\wа-яёґєії]+/i}function o(e,t){if(!e||!t)return!1;const n="string"==typeof t?t.toLowerCase().split(r):t,o=e.toLowerCase();if(1===n.length&&!o.includes(n[0]))return!1;let s;return n.every((e=>!!o.includes(e)&&(s||(s=o.split(r)),s.some((t=>t.startsWith(e))))))}function s(e){const t=e.toLowerCase().split(r);return e=>o(e,t)}},672:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(84051),o=n(37836);function s(e,t,n,s=!1){const a=(0,r.hb)(e,t);return(0,r.Kr)((()=>"number"==typeof n?(0,o.nF)(a,n,!s):(0,o.nb)(n,a)),[a,n,s])}},1903:(e,t,n)=>{"use strict";n.d(t,{Ms:()=>u,R3:()=>h,V9:()=>a,_$:()=>l,_b:()=>c,dN:()=>f,gV:()=>d,gd:()=>i});var r=n(14487),o=n(46211),s=n(5056);function a(e,...[t=(0,r.g0)()]){const{storyViewer:{peerId:n,storyId:o}}=(0,s.n)(e,t);return{peerId:n,storyId:o}}function i(e,...[t=(0,r.g0)()]){const{peerId:n,storyId:o}=a(e,t);return Boolean(n)&&Boolean(o)}function c(e,t){return e.stories.byPeerId[t]}function u(e,t,n){return c(e,t)?.byId[n]}function d(e,t){const n=c(e,t);if(n?.pinnedIds?.length)return n.pinnedIds.map((e=>n.byId[e])).filter((e=>e&&"isInProfile"in e&&e.isInProfile))}function l(e,t){const n=c(e,t);if(!n)return;if(!n.lastReadId)return n.orderedIds?.[0];const r=n.orderedIds.findIndex((e=>e===n.lastReadId));return n.orderedIds?.[r+1]}function f(e,t){return c(e,t)?.orderedIds?.[0]}function h(e,t,n,r,s,a,i){const c=n||l(e,t)||f(e,t);if(!c)return;if(r)return{peerIds:[t],storyIdsByPeerId:{[t]:[c]}};const d=(0,o.PV)(e,t),h=u(e,t,c);if(!d||!h)return;const p=(e.stories.byPeerId[t].lastReadId||0)<h.id;if(s){const n=m(e,t,p,i,a);return n?.length?{peerIds:[t],storyIdsByPeerId:{[t]:n}}:void 0}const{orderedPeerIds:{active:g,archived:y}}=e.stories,b=(d.areStoriesHidden?y:g)??[],v=[],w={};for(const t of b){const n=m(e,t,p,i,a);n?.length&&(v.push(t),w[t]=n)}return v.length?{peerIds:v,storyIdsByPeerId:w}:void 0}function m(e,t,n,r,o){const s=c(e,t),a=r?"archiveIds":o?"profileIds":"orderedIds",i=s?.[a];if(!s||!i?.length)return;if(!s.lastReadId||!n)return i.slice();const u=i.indexOf(s.lastReadId);return i.length>u+1?i.slice(u+1):void 0}},2188:(e,t,n)=>{"use strict";n.d(t,{H:()=>u});var r=n(31481),o=n(14487),s=n(37836);let a,i=!0;window.addEventListener("error",d),window.addEventListener("unhandledrejection",d),r.Oig&&(window.addEventListener("focus",(()=>{(0,o.ve)()&&(i=!0,a&&(window.alert(l(a)),a=void 0))})),window.addEventListener("blur",(()=>{(0,o.ve)()&&(i=!1)})));const c=(0,s.nF)((e=>{i?window.alert(l(e)):a=e}),1500);function u(e){console.error(e),r.Oig&&c(e)}function d(e){e instanceof ErrorEvent&&"ResizeObserver loop limit exceeded"===e.message||(e.preventDefault(),u(e instanceof ErrorEvent?e.error||e.message:e.reason))}function l(e){return`${r.FHx}\n\n${e?.message||e}\n${e?.stack}`}},2543:function(e,t,n){var r;e=n.nmd(e),function(){var o,s="Expected a function",a="__lodash_hash_undefined__",i="__lodash_placeholder__",c=32,u=128,d=1/0,l=9007199254740991,f=NaN,h=4294967295,m=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],p="[object Arguments]",g="[object Array]",y="[object Boolean]",b="[object Date]",v="[object Error]",w="[object Function]",I="[object GeneratorFunction]",A="[object Map]",C="[object Number]",S="[object Object]",E="[object Promise]",k="[object RegExp]",P="[object Set]",T="[object String]",M="[object Symbol]",x="[object WeakMap]",N="[object ArrayBuffer]",L="[object DataView]",_="[object Float32Array]",B="[object Float64Array]",F="[object Int8Array]",D="[object Int16Array]",O="[object Int32Array]",R="[object Uint8Array]",j="[object Uint8ClampedArray]",U="[object Uint16Array]",$="[object Uint32Array]",z=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,J=RegExp(H.source),K=RegExp(G.source),q=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,Y=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,oe=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,ie=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ue=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,le=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fe=/\w*$/,he=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,pe=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ve=/($^)/,we=/['\n\r\u2028\u2029\\]/g,Ie="\\ud800-\\udfff",Ae="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="\\u2700-\\u27bf",Se="a-z\\xdf-\\xf6\\xf8-\\xff",Ee="A-Z\\xc0-\\xd6\\xd8-\\xde",ke="\\ufe0e\\ufe0f",Pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Te="["+Ie+"]",Me="["+Pe+"]",xe="["+Ae+"]",Ne="\\d+",Le="["+Ce+"]",_e="["+Se+"]",Be="[^"+Ie+Pe+Ne+Ce+Se+Ee+"]",Fe="\\ud83c[\\udffb-\\udfff]",De="[^"+Ie+"]",Oe="(?:\\ud83c[\\udde6-\\uddff]){2}",Re="[\\ud800-\\udbff][\\udc00-\\udfff]",je="["+Ee+"]",Ue="\\u200d",$e="(?:"+_e+"|"+Be+")",ze="(?:"+je+"|"+Be+")",Ve="(?:['’](?:d|ll|m|re|s|t|ve))?",We="(?:['’](?:D|LL|M|RE|S|T|VE))?",He="(?:"+xe+"|"+Fe+")?",Ge="["+ke+"]?",Je=Ge+He+"(?:"+Ue+"(?:"+[De,Oe,Re].join("|")+")"+Ge+He+")*",Ke="(?:"+[Le,Oe,Re].join("|")+")"+Je,qe="(?:"+[De+xe+"?",xe,Oe,Re,Te].join("|")+")",Xe=RegExp("['’]","g"),Ye=RegExp(xe,"g"),Ze=RegExp(Fe+"(?="+Fe+")|"+qe+Je,"g"),Qe=RegExp([je+"?"+_e+"+"+Ve+"(?="+[Me,je,"$"].join("|")+")",ze+"+"+We+"(?="+[Me,je+$e,"$"].join("|")+")",je+"?"+$e+"+"+Ve,je+"+"+We,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ne,Ke].join("|"),"g"),et=RegExp("["+Ue+Ie+Ae+ke+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,ot={};ot[_]=ot[B]=ot[F]=ot[D]=ot[O]=ot[R]=ot[j]=ot[U]=ot[$]=!0,ot[p]=ot[g]=ot[N]=ot[y]=ot[L]=ot[b]=ot[v]=ot[w]=ot[A]=ot[C]=ot[S]=ot[k]=ot[P]=ot[T]=ot[x]=!1;var st={};st[p]=st[g]=st[N]=st[L]=st[y]=st[b]=st[_]=st[B]=st[F]=st[D]=st[O]=st[A]=st[C]=st[S]=st[k]=st[P]=st[T]=st[M]=st[R]=st[j]=st[U]=st[$]=!0,st[v]=st[w]=st[x]=!1;var at={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},it=parseFloat,ct=parseInt,ut="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,dt="object"==typeof self&&self&&self.Object===Object&&self,lt=ut||dt||Function("return this")(),ft=t&&!t.nodeType&&t,ht=ft&&e&&!e.nodeType&&e,mt=ht&&ht.exports===ft,pt=mt&&ut.process,gt=function(){try{return ht&&ht.require&&ht.require("util").types||pt&&pt.binding&&pt.binding("util")}catch(e){}}(),yt=gt&&gt.isArrayBuffer,bt=gt&&gt.isDate,vt=gt&&gt.isMap,wt=gt&&gt.isRegExp,It=gt&&gt.isSet,At=gt&&gt.isTypedArray;function Ct(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function St(e,t,n,r){for(var o=-1,s=null==e?0:e.length;++o<s;){var a=e[o];t(r,a,n(a),e)}return r}function Et(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function kt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Tt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,s=[];++n<r;){var a=e[n];t(a,n,e)&&(s[o++]=a)}return s}function Mt(e,t){return!(null==e||!e.length)&&jt(e,t,0)>-1}function xt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Lt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function _t(e,t,n,r){var o=-1,s=null==e?0:e.length;for(r&&s&&(n=e[++o]);++o<s;)n=t(n,e[o],o,e);return n}function Bt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Dt=Vt("length");function Ot(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function Rt(e,t,n,r){for(var o=e.length,s=n+(r?1:-1);r?s--:++s<o;)if(t(e[s],s,e))return s;return-1}function jt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Rt(e,$t,n)}function Ut(e,t,n,r){for(var o=n-1,s=e.length;++o<s;)if(r(e[o],t))return o;return-1}function $t(e){return e!=e}function zt(e,t){var n=null==e?0:e.length;return n?Gt(e,t)/n:f}function Vt(e){return function(t){return null==t?o:t[e]}}function Wt(e){return function(t){return null==e?o:e[t]}}function Ht(e,t,n,r,o){return o(e,(function(e,o,s){n=r?(r=!1,e):t(n,e,o,s)})),n}function Gt(e,t){for(var n,r=-1,s=e.length;++r<s;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function Jt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Kt(e){return e?e.slice(0,fn(e)+1).replace(re,""):e}function qt(e){return function(t){return e(t)}}function Xt(e,t){return Nt(t,(function(t){return e[t]}))}function Yt(e,t){return e.has(t)}function Zt(e,t){for(var n=-1,r=e.length;++n<r&&jt(t,e[n],0)>-1;);return n}function Qt(e,t){for(var n=e.length;n--&&jt(t,e[n],0)>-1;);return n}var en=Wt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tn=Wt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(e){return"\\"+at[e]}function rn(e){return et.test(e)}function on(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function sn(e,t){return function(n){return e(t(n))}}function an(e,t){for(var n=-1,r=e.length,o=0,s=[];++n<r;){var a=e[n];a!==t&&a!==i||(e[n]=i,s[o++]=n)}return s}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function dn(e){return rn(e)?function(e){for(var t=Ze.lastIndex=0;Ze.test(e);)++t;return t}(e):Dt(e)}function ln(e){return rn(e)?function(e){return e.match(Ze)||[]}(e):function(e){return e.split("")}(e)}function fn(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var hn=Wt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),mn=function e(t){var n,r=(t=null==t?lt:mn.defaults(lt.Object(),t,mn.pick(lt,nt))).Array,oe=t.Date,Ie=t.Error,Ae=t.Function,Ce=t.Math,Se=t.Object,Ee=t.RegExp,ke=t.String,Pe=t.TypeError,Te=r.prototype,Me=Ae.prototype,xe=Se.prototype,Ne=t["__core-js_shared__"],Le=Me.toString,_e=xe.hasOwnProperty,Be=0,Fe=(n=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",De=xe.toString,Oe=Le.call(Se),Re=lt._,je=Ee("^"+Le.call(_e).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=mt?t.Buffer:o,$e=t.Symbol,ze=t.Uint8Array,Ve=Ue?Ue.allocUnsafe:o,We=sn(Se.getPrototypeOf,Se),He=Se.create,Ge=xe.propertyIsEnumerable,Je=Te.splice,Ke=$e?$e.isConcatSpreadable:o,qe=$e?$e.iterator:o,Ze=$e?$e.toStringTag:o,et=function(){try{var e=us(Se,"defineProperty");return e({},"",{}),e}catch(e){}}(),at=t.clearTimeout!==lt.clearTimeout&&t.clearTimeout,ut=oe&&oe.now!==lt.Date.now&&oe.now,dt=t.setTimeout!==lt.setTimeout&&t.setTimeout,ft=Ce.ceil,ht=Ce.floor,pt=Se.getOwnPropertySymbols,gt=Ue?Ue.isBuffer:o,Dt=t.isFinite,Wt=Te.join,pn=sn(Se.keys,Se),gn=Ce.max,yn=Ce.min,bn=oe.now,vn=t.parseInt,wn=Ce.random,In=Te.reverse,An=us(t,"DataView"),Cn=us(t,"Map"),Sn=us(t,"Promise"),En=us(t,"Set"),kn=us(t,"WeakMap"),Pn=us(Se,"create"),Tn=kn&&new kn,Mn={},xn=Os(An),Nn=Os(Cn),Ln=Os(Sn),_n=Os(En),Bn=Os(kn),Fn=$e?$e.prototype:o,Dn=Fn?Fn.valueOf:o,On=Fn?Fn.toString:o;function Rn(e){if(ei(e)&&!Va(e)&&!(e instanceof zn)){if(e instanceof $n)return e;if(_e.call(e,"__wrapped__"))return Rs(e)}return new $n(e)}var jn=function(){function e(){}return function(t){if(!Qa(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function Un(){}function $n(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function zn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Hn;++t<n;)this.add(e[t])}function Jn(e){var t=this.__data__=new Wn(e);this.size=t.size}function Kn(e,t){var n=Va(e),r=!n&&za(e),o=!n&&!r&&Ja(e),s=!n&&!r&&!o&&ci(e),a=n||r||o||s,i=a?Jt(e.length,ke):[],c=i.length;for(var u in e)!t&&!_e.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||gs(u,c))||i.push(u);return i}function qn(e){var t=e.length;return t?e[Hr(0,t-1)]:o}function Xn(e,t){return Ls(Po(e),sr(t,0,e.length))}function Yn(e){return Ls(Po(e))}function Zn(e,t,n){(n!==o&&!ja(e[t],n)||n===o&&!(t in e))&&rr(e,t,n)}function Qn(e,t,n){var r=e[t];_e.call(e,t)&&ja(r,n)&&(n!==o||t in e)||rr(e,t,n)}function er(e,t){for(var n=e.length;n--;)if(ja(e[n][0],t))return n;return-1}function tr(e,t,n,r){return dr(e,(function(e,o,s){t(r,e,n(e),s)})),r}function nr(e,t){return e&&To(t,xi(t),e)}function rr(e,t,n){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var n=-1,s=t.length,a=r(s),i=null==e;++n<s;)a[n]=i?o:Ei(e,t[n]);return a}function sr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function ar(e,t,n,r,s,a){var i,c=1&t,u=2&t,d=4&t;if(n&&(i=s?n(e,r,s,a):n(e)),i!==o)return i;if(!Qa(e))return e;var l=Va(e);if(l){if(i=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&_e.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return Po(e,i)}else{var f=fs(e),h=f==w||f==I;if(Ja(e))return Io(e,c);if(f==S||f==p||h&&!s){if(i=u||h?{}:ms(e),!c)return u?function(e,t){return To(e,ls(e),t)}(e,function(e,t){return e&&To(t,Ni(t),e)}(i,e)):function(e,t){return To(e,ds(e),t)}(e,nr(i,e))}else{if(!st[f])return s?e:{};i=function(e,t,n){var r,o=e.constructor;switch(t){case N:return Ao(e);case y:case b:return new o(+e);case L:return function(e,t){var n=t?Ao(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case _:case B:case F:case D:case O:case R:case j:case U:case $:return Co(e,n);case A:return new o;case C:case T:return new o(e);case k:return function(e){var t=new e.constructor(e.source,fe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case P:return new o;case M:return r=e,Dn?Se(Dn.call(r)):{}}}(e,f,c)}}a||(a=new Jn);var m=a.get(e);if(m)return m;a.set(e,i),si(e)?e.forEach((function(r){i.add(ar(r,t,n,r,e,a))})):ti(e)&&e.forEach((function(r,o){i.set(o,ar(r,t,n,o,e,a))}));var g=l?o:(d?u?ns:ts:u?Ni:xi)(e);return Et(g||e,(function(r,o){g&&(r=e[o=r]),Qn(i,o,ar(r,t,n,o,e,a))})),i}function ir(e,t,n){var r=n.length;if(null==e)return!r;for(e=Se(e);r--;){var s=n[r],a=t[s],i=e[s];if(i===o&&!(s in e)||!a(i))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new Pe(s);return Ts((function(){e.apply(o,n)}),t)}function ur(e,t,n,r){var o=-1,s=Mt,a=!0,i=e.length,c=[],u=t.length;if(!i)return c;n&&(t=Nt(t,qt(n))),r?(s=xt,a=!1):t.length>=200&&(s=Yt,a=!1,t=new Gn(t));e:for(;++o<i;){var d=e[o],l=null==n?d:n(d);if(d=r||0!==d?d:0,a&&l==l){for(var f=u;f--;)if(t[f]===l)continue e;c.push(d)}else s(t,l,r)||c.push(d)}return c}Rn.templateSettings={escape:q,evaluate:X,interpolate:Y,variable:"",imports:{_:Rn}},Rn.prototype=Un.prototype,Rn.prototype.constructor=Rn,$n.prototype=jn(Un.prototype),$n.prototype.constructor=$n,zn.prototype=jn(Un.prototype),zn.prototype.constructor=zn,Vn.prototype.clear=function(){this.__data__=Pn?Pn(null):{},this.size=0},Vn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vn.prototype.get=function(e){var t=this.__data__;if(Pn){var n=t[e];return n===a?o:n}return _e.call(t,e)?t[e]:o},Vn.prototype.has=function(e){var t=this.__data__;return Pn?t[e]!==o:_e.call(t,e)},Vn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pn&&t===o?a:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=er(t,e);return!(n<0||(n==t.length-1?t.pop():Je.call(t,n,1),--this.size,0))},Wn.prototype.get=function(e){var t=this.__data__,n=er(t,e);return n<0?o:t[n][1]},Wn.prototype.has=function(e){return er(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,r=er(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(Cn||Wn),string:new Vn}},Hn.prototype.delete=function(e){var t=is(this,e).delete(e);return this.size-=t?1:0,t},Hn.prototype.get=function(e){return is(this,e).get(e)},Hn.prototype.has=function(e){return is(this,e).has(e)},Hn.prototype.set=function(e,t){var n=is(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Gn.prototype.add=Gn.prototype.push=function(e){return this.__data__.set(e,a),this},Gn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Jn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Jn.prototype.get=function(e){return this.__data__.get(e)},Jn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!Cn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(e,t),this.size=n.size,this};var dr=No(br),lr=No(vr,!0);function fr(e,t){var n=!0;return dr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function hr(e,t,n){for(var r=-1,s=e.length;++r<s;){var a=e[r],i=t(a);if(null!=i&&(c===o?i==i&&!ii(i):n(i,c)))var c=i,u=a}return u}function mr(e,t){var n=[];return dr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function pr(e,t,n,r,o){var s=-1,a=e.length;for(n||(n=ps),o||(o=[]);++s<a;){var i=e[s];t>0&&n(i)?t>1?pr(i,t-1,n,r,o):Lt(o,i):r||(o[o.length]=i)}return o}var gr=Lo(),yr=Lo(!0);function br(e,t){return e&&gr(e,t,xi)}function vr(e,t){return e&&yr(e,t,xi)}function wr(e,t){return Tt(t,(function(t){return Xa(e[t])}))}function Ir(e,t){for(var n=0,r=(t=yo(t,e)).length;null!=e&&n<r;)e=e[Ds(t[n++])];return n&&n==r?e:o}function Ar(e,t,n){var r=t(e);return Va(e)?r:Lt(r,n(e))}function Cr(e){return null==e?e===o?"[object Undefined]":"[object Null]":Ze&&Ze in Se(e)?function(e){var t=_e.call(e,Ze),n=e[Ze];try{e[Ze]=o;var r=!0}catch(e){}var s=De.call(e);return r&&(t?e[Ze]=n:delete e[Ze]),s}(e):function(e){return De.call(e)}(e)}function Sr(e,t){return e>t}function Er(e,t){return null!=e&&_e.call(e,t)}function kr(e,t){return null!=e&&t in Se(e)}function Pr(e,t,n){for(var s=n?xt:Mt,a=e[0].length,i=e.length,c=i,u=r(i),d=1/0,l=[];c--;){var f=e[c];c&&t&&(f=Nt(f,qt(t))),d=yn(f.length,d),u[c]=!n&&(t||a>=120&&f.length>=120)?new Gn(c&&f):o}f=e[0];var h=-1,m=u[0];e:for(;++h<a&&l.length<d;){var p=f[h],g=t?t(p):p;if(p=n||0!==p?p:0,!(m?Yt(m,g):s(l,g,n))){for(c=i;--c;){var y=u[c];if(!(y?Yt(y,g):s(e[c],g,n)))continue e}m&&m.push(g),l.push(p)}}return l}function Tr(e,t,n){var r=null==(e=Es(e,t=yo(t,e)))?e:e[Ds(qs(t))];return null==r?o:Ct(r,e,n)}function Mr(e){return ei(e)&&Cr(e)==p}function xr(e,t,n,r,s){return e===t||(null==e||null==t||!ei(e)&&!ei(t)?e!=e&&t!=t:function(e,t,n,r,s,a){var i=Va(e),c=Va(t),u=i?g:fs(e),d=c?g:fs(t),l=(u=u==p?S:u)==S,f=(d=d==p?S:d)==S,h=u==d;if(h&&Ja(e)){if(!Ja(t))return!1;i=!0,l=!1}if(h&&!l)return a||(a=new Jn),i||ci(e)?Qo(e,t,n,r,s,a):function(e,t,n,r,o,s,a){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N:return!(e.byteLength!=t.byteLength||!s(new ze(e),new ze(t)));case y:case b:case C:return ja(+e,+t);case v:return e.name==t.name&&e.message==t.message;case k:case T:return e==t+"";case A:var i=on;case P:var c=1&r;if(i||(i=cn),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var d=Qo(i(e),i(t),r,o,s,a);return a.delete(e),d;case M:if(Dn)return Dn.call(e)==Dn.call(t)}return!1}(e,t,u,n,r,s,a);if(!(1&n)){var m=l&&_e.call(e,"__wrapped__"),w=f&&_e.call(t,"__wrapped__");if(m||w){var I=m?e.value():e,E=w?t.value():t;return a||(a=new Jn),s(I,E,n,r,a)}}return!!h&&(a||(a=new Jn),function(e,t,n,r,s,a){var i=1&n,c=ts(e),u=c.length;if(u!=ts(t).length&&!i)return!1;for(var d=u;d--;){var l=c[d];if(!(i?l in t:_e.call(t,l)))return!1}var f=a.get(e),h=a.get(t);if(f&&h)return f==t&&h==e;var m=!0;a.set(e,t),a.set(t,e);for(var p=i;++d<u;){var g=e[l=c[d]],y=t[l];if(r)var b=i?r(y,g,l,t,e,a):r(g,y,l,e,t,a);if(!(b===o?g===y||s(g,y,n,r,a):b)){m=!1;break}p||(p="constructor"==l)}if(m&&!p){var v=e.constructor,w=t.constructor;v==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof w&&w instanceof w||(m=!1)}return a.delete(e),a.delete(t),m}(e,t,n,r,s,a))}(e,t,n,r,xr,s))}function Nr(e,t,n,r){var s=n.length,a=s,i=!r;if(null==e)return!a;for(e=Se(e);s--;){var c=n[s];if(i&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<a;){var u=(c=n[s])[0],d=e[u],l=c[1];if(i&&c[2]){if(d===o&&!(u in e))return!1}else{var f=new Jn;if(r)var h=r(d,l,u,e,t,f);if(!(h===o?xr(l,d,3,r,f):h))return!1}}return!0}function Lr(e){return!(!Qa(e)||(t=e,Fe&&Fe in t))&&(Xa(e)?je:pe).test(Os(e));var t}function _r(e){return"function"==typeof e?e:null==e?nc:"object"==typeof e?Va(e)?Rr(e[0],e[1]):Or(e):lc(e)}function Br(e){if(!Is(e))return pn(e);var t=[];for(var n in Se(e))_e.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e,t){return e<t}function Dr(e,t){var n=-1,o=Ha(e)?r(e.length):[];return dr(e,(function(e,r,s){o[++n]=t(e,r,s)})),o}function Or(e){var t=cs(e);return 1==t.length&&t[0][2]?Cs(t[0][0],t[0][1]):function(n){return n===e||Nr(n,e,t)}}function Rr(e,t){return bs(e)&&As(t)?Cs(Ds(e),t):function(n){var r=Ei(n,e);return r===o&&r===t?ki(n,e):xr(t,r,3)}}function jr(e,t,n,r,s){e!==t&&gr(t,(function(a,i){if(s||(s=new Jn),Qa(a))!function(e,t,n,r,s,a,i){var c=ks(e,n),u=ks(t,n),d=i.get(u);if(d)Zn(e,n,d);else{var l=a?a(c,u,n+"",e,t,i):o,f=l===o;if(f){var h=Va(u),m=!h&&Ja(u),p=!h&&!m&&ci(u);l=u,h||m||p?Va(c)?l=c:Ga(c)?l=Po(c):m?(f=!1,l=Io(u,!0)):p?(f=!1,l=Co(u,!0)):l=[]:ri(u)||za(u)?(l=c,za(c)?l=gi(c):Qa(c)&&!Xa(c)||(l=ms(u))):f=!1}f&&(i.set(u,l),s(l,u,r,a,i),i.delete(u)),Zn(e,n,l)}}(e,t,i,n,jr,r,s);else{var c=r?r(ks(e,i),a,i+"",e,t,s):o;c===o&&(c=a),Zn(e,i,c)}}),Ni)}function Ur(e,t){var n=e.length;if(n)return gs(t+=t<0?n:0,n)?e[t]:o}function $r(e,t,n){t=t.length?Nt(t,(function(e){return Va(e)?function(t){return Ir(t,1===e.length?e[0]:e)}:e})):[nc];var r=-1;t=Nt(t,qt(as()));var o=Dr(e,(function(e,n,o){var s=Nt(t,(function(t){return t(e)}));return{criteria:s,index:++r,value:e}}));return function(e){var t=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,s=t.criteria,a=o.length,i=n.length;++r<a;){var c=So(o[r],s[r]);if(c)return r>=i?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));t--;)e[t]=e[t].value;return e}(o)}function zr(e,t,n){for(var r=-1,o=t.length,s={};++r<o;){var a=t[r],i=Ir(e,a);n(i,a)&&Xr(s,yo(a,e),i)}return s}function Vr(e,t,n,r){var o=r?Ut:jt,s=-1,a=t.length,i=e;for(e===t&&(t=Po(t)),n&&(i=Nt(e,qt(n)));++s<a;)for(var c=0,u=t[s],d=n?n(u):u;(c=o(i,d,c,r))>-1;)i!==e&&Je.call(i,c,1),Je.call(e,c,1);return e}function Wr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==s){var s=o;gs(o)?Je.call(e,o,1):co(e,o)}}return e}function Hr(e,t){return e+ht(wn()*(t-e+1))}function Gr(e,t){var n="";if(!e||t<1||t>l)return n;do{t%2&&(n+=e),(t=ht(t/2))&&(e+=e)}while(t);return n}function Jr(e,t){return Ms(Ss(e,t,nc),e+"")}function Kr(e){return qn(ji(e))}function qr(e,t){var n=ji(e);return Ls(n,sr(t,0,n.length))}function Xr(e,t,n,r){if(!Qa(e))return e;for(var s=-1,a=(t=yo(t,e)).length,i=a-1,c=e;null!=c&&++s<a;){var u=Ds(t[s]),d=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(s!=i){var l=c[u];(d=r?r(l,u,c):o)===o&&(d=Qa(l)?l:gs(t[s+1])?[]:{})}Qn(c,u,d),c=c[u]}return e}var Yr=Tn?function(e,t){return Tn.set(e,t),e}:nc,Zr=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Qi(t),writable:!0})}:nc;function Qr(e){return Ls(ji(e))}function eo(e,t,n){var o=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(n=n>s?s:n)<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var a=r(s);++o<s;)a[o]=e[o+t];return a}function to(e,t){var n;return dr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function no(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var s=r+o>>>1,a=e[s];null!==a&&!ii(a)&&(n?a<=t:a<t)?r=s+1:o=s}return o}return ro(e,t,nc,n)}function ro(e,t,n,r){var s=0,a=null==e?0:e.length;if(0===a)return 0;for(var i=(t=n(t))!=t,c=null===t,u=ii(t),d=t===o;s<a;){var l=ht((s+a)/2),f=n(e[l]),h=f!==o,m=null===f,p=f==f,g=ii(f);if(i)var y=r||p;else y=d?p&&(r||h):c?p&&h&&(r||!m):u?p&&h&&!m&&(r||!g):!m&&!g&&(r?f<=t:f<t);y?s=l+1:a=l}return yn(a,4294967294)}function oo(e,t){for(var n=-1,r=e.length,o=0,s=[];++n<r;){var a=e[n],i=t?t(a):a;if(!n||!ja(i,c)){var c=i;s[o++]=0===a?0:a}}return s}function so(e){return"number"==typeof e?e:ii(e)?f:+e}function ao(e){if("string"==typeof e)return e;if(Va(e))return Nt(e,ao)+"";if(ii(e))return On?On.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function io(e,t,n){var r=-1,o=Mt,s=e.length,a=!0,i=[],c=i;if(n)a=!1,o=xt;else if(s>=200){var u=t?null:Jo(e);if(u)return cn(u);a=!1,o=Yt,c=new Gn}else c=t?[]:i;e:for(;++r<s;){var d=e[r],l=t?t(d):d;if(d=n||0!==d?d:0,a&&l==l){for(var f=c.length;f--;)if(c[f]===l)continue e;t&&c.push(l),i.push(d)}else o(c,l,n)||(c!==i&&c.push(l),i.push(d))}return i}function co(e,t){return null==(e=Es(e,t=yo(t,e)))||delete e[Ds(qs(t))]}function uo(e,t,n,r){return Xr(e,t,n(Ir(e,t)),r)}function lo(e,t,n,r){for(var o=e.length,s=r?o:-1;(r?s--:++s<o)&&t(e[s],s,e););return n?eo(e,r?0:s,r?s+1:o):eo(e,r?s+1:0,r?o:s)}function fo(e,t){var n=e;return n instanceof zn&&(n=n.value()),_t(t,(function(e,t){return t.func.apply(t.thisArg,Lt([e],t.args))}),n)}function ho(e,t,n){var o=e.length;if(o<2)return o?io(e[0]):[];for(var s=-1,a=r(o);++s<o;)for(var i=e[s],c=-1;++c<o;)c!=s&&(a[s]=ur(a[s]||i,e[c],t,n));return io(pr(a,1),t,n)}function mo(e,t,n){for(var r=-1,s=e.length,a=t.length,i={};++r<s;){var c=r<a?t[r]:o;n(i,e[r],c)}return i}function po(e){return Ga(e)?e:[]}function go(e){return"function"==typeof e?e:nc}function yo(e,t){return Va(e)?e:bs(e,t)?[e]:Fs(yi(e))}var bo=Jr;function vo(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:eo(e,t,n)}var wo=at||function(e){return lt.clearTimeout(e)};function Io(e,t){if(t)return e.slice();var n=e.length,r=Ve?Ve(n):new e.constructor(n);return e.copy(r),r}function Ao(e){var t=new e.constructor(e.byteLength);return new ze(t).set(new ze(e)),t}function Co(e,t){var n=t?Ao(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function So(e,t){if(e!==t){var n=e!==o,r=null===e,s=e==e,a=ii(e),i=t!==o,c=null===t,u=t==t,d=ii(t);if(!c&&!d&&!a&&e>t||a&&i&&u&&!c&&!d||r&&i&&u||!n&&u||!s)return 1;if(!r&&!a&&!d&&e<t||d&&n&&s&&!r&&!a||c&&n&&s||!i&&s||!u)return-1}return 0}function Eo(e,t,n,o){for(var s=-1,a=e.length,i=n.length,c=-1,u=t.length,d=gn(a-i,0),l=r(u+d),f=!o;++c<u;)l[c]=t[c];for(;++s<i;)(f||s<a)&&(l[n[s]]=e[s]);for(;d--;)l[c++]=e[s++];return l}function ko(e,t,n,o){for(var s=-1,a=e.length,i=-1,c=n.length,u=-1,d=t.length,l=gn(a-c,0),f=r(l+d),h=!o;++s<l;)f[s]=e[s];for(var m=s;++u<d;)f[m+u]=t[u];for(;++i<c;)(h||s<a)&&(f[m+n[i]]=e[s++]);return f}function Po(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function To(e,t,n,r){var s=!n;n||(n={});for(var a=-1,i=t.length;++a<i;){var c=t[a],u=r?r(n[c],e[c],c,n,e):o;u===o&&(u=e[c]),s?rr(n,c,u):Qn(n,c,u)}return n}function Mo(e,t){return function(n,r){var o=Va(n)?St:tr,s=t?t():{};return o(n,e,as(r,2),s)}}function xo(e){return Jr((function(t,n){var r=-1,s=n.length,a=s>1?n[s-1]:o,i=s>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(s--,a):o,i&&ys(n[0],n[1],i)&&(a=s<3?o:a,s=1),t=Se(t);++r<s;){var c=n[r];c&&e(t,c,r,a)}return t}))}function No(e,t){return function(n,r){if(null==n)return n;if(!Ha(n))return e(n,r);for(var o=n.length,s=t?o:-1,a=Se(n);(t?s--:++s<o)&&!1!==r(a[s],s,a););return n}}function Lo(e){return function(t,n,r){for(var o=-1,s=Se(t),a=r(t),i=a.length;i--;){var c=a[e?i:++o];if(!1===n(s[c],c,s))break}return t}}function _o(e){return function(t){var n=rn(t=yi(t))?ln(t):o,r=n?n[0]:t.charAt(0),s=n?vo(n,1).join(""):t.slice(1);return r[e]()+s}}function Bo(e){return function(t){return _t(Xi(zi(t).replace(Xe,"")),e,"")}}function Fo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=jn(e.prototype),r=e.apply(n,t);return Qa(r)?r:n}}function Do(e){return function(t,n,r){var s=Se(t);if(!Ha(t)){var a=as(n,3);t=xi(t),n=function(e){return a(s[e],e,s)}}var i=e(t,n,r);return i>-1?s[a?t[i]:i]:o}}function Oo(e){return es((function(t){var n=t.length,r=n,a=$n.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if("function"!=typeof i)throw new Pe(s);if(a&&!c&&"wrapper"==os(i))var c=new $n([],!0)}for(r=c?r:n;++r<n;){var u=os(i=t[r]),d="wrapper"==u?rs(i):o;c=d&&vs(d[0])&&424==d[1]&&!d[4].length&&1==d[9]?c[os(d[0])].apply(c,d[3]):1==i.length&&vs(i)?c[u]():c.thru(i)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Va(r))return c.plant(r).value();for(var o=0,s=n?t[o].apply(this,e):r;++o<n;)s=t[o].call(this,s);return s}}))}function Ro(e,t,n,s,a,i,c,d,l,f){var h=t&u,m=1&t,p=2&t,g=24&t,y=512&t,b=p?o:Fo(e);return function u(){for(var v=arguments.length,w=r(v),I=v;I--;)w[I]=arguments[I];if(g)var A=ss(u),C=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(w,A);if(s&&(w=Eo(w,s,a,g)),i&&(w=ko(w,i,c,g)),v-=C,g&&v<f){var S=an(w,A);return Ho(e,t,Ro,u.placeholder,n,w,S,d,l,f-v)}var E=m?n:this,k=p?E[e]:e;return v=w.length,d?w=function(e,t){for(var n=e.length,r=yn(t.length,n),s=Po(e);r--;){var a=t[r];e[r]=gs(a,n)?s[a]:o}return e}(w,d):y&&v>1&&w.reverse(),h&&l<v&&(w.length=l),this&&this!==lt&&this instanceof u&&(k=b||Fo(k)),k.apply(E,w)}}function jo(e,t){return function(n,r){return function(e,t,n,r){return br(e,(function(e,o,s){t(r,n(e),o,s)})),r}(n,e,t(r),{})}}function Uo(e,t){return function(n,r){var s;if(n===o&&r===o)return t;if(n!==o&&(s=n),r!==o){if(s===o)return r;"string"==typeof n||"string"==typeof r?(n=ao(n),r=ao(r)):(n=so(n),r=so(r)),s=e(n,r)}return s}}function $o(e){return es((function(t){return t=Nt(t,qt(as())),Jr((function(n){var r=this;return e(t,(function(e){return Ct(e,r,n)}))}))}))}function zo(e,t){var n=(t=t===o?" ":ao(t)).length;if(n<2)return n?Gr(t,e):t;var r=Gr(t,ft(e/dn(t)));return rn(t)?vo(ln(r),0,e).join(""):r.slice(0,e)}function Vo(e){return function(t,n,s){return s&&"number"!=typeof s&&ys(t,n,s)&&(n=s=o),t=fi(t),n===o?(n=t,t=0):n=fi(n),function(e,t,n,o){for(var s=-1,a=gn(ft((t-e)/(n||1)),0),i=r(a);a--;)i[o?a:++s]=e,e+=n;return i}(t,n,s=s===o?t<n?1:-1:fi(s),e)}}function Wo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=pi(t),n=pi(n)),e(t,n)}}function Ho(e,t,n,r,s,a,i,u,d,l){var f=8&t;t|=f?c:64,4&(t&=~(f?64:c))||(t&=-4);var h=[e,t,s,f?a:o,f?i:o,f?o:a,f?o:i,u,d,l],m=n.apply(o,h);return vs(e)&&Ps(m,h),m.placeholder=r,xs(m,e,t)}function Go(e){var t=Ce[e];return function(e,n){if(e=pi(e),(n=null==n?0:yn(hi(n),292))&&Dt(e)){var r=(yi(e)+"e").split("e");return+((r=(yi(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Jo=En&&1/cn(new En([,-0]))[1]==d?function(e){return new En(e)}:ic;function Ko(e){return function(t){var n=fs(t);return n==A?on(t):n==P?un(t):function(e,t){return Nt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function qo(e,t,n,a,d,l,f,h){var m=2&t;if(!m&&"function"!=typeof e)throw new Pe(s);var p=a?a.length:0;if(p||(t&=-97,a=d=o),f=f===o?f:gn(hi(f),0),h=h===o?h:hi(h),p-=d?d.length:0,64&t){var g=a,y=d;a=d=o}var b=m?o:rs(e),v=[e,t,n,a,d,g,y,l,f,h];if(b&&function(e,t){var n=e[1],r=t[1],o=n|r,s=o<131,a=r==u&&8==n||r==u&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!s&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var c=t[3];if(c){var d=e[3];e[3]=d?Eo(d,c,t[4]):c,e[4]=d?an(e[3],i):t[4]}(c=t[5])&&(d=e[5],e[5]=d?ko(d,c,t[6]):c,e[6]=d?an(e[5],i):t[6]),(c=t[7])&&(e[7]=c),r&u&&(e[8]=null==e[8]?t[8]:yn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(v,b),e=v[0],t=v[1],n=v[2],a=v[3],d=v[4],!(h=v[9]=v[9]===o?m?0:e.length:gn(v[9]-p,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||16==t?function(e,t,n){var s=Fo(e);return function a(){for(var i=arguments.length,c=r(i),u=i,d=ss(a);u--;)c[u]=arguments[u];var l=i<3&&c[0]!==d&&c[i-1]!==d?[]:an(c,d);return(i-=l.length)<n?Ho(e,t,Ro,a.placeholder,o,c,l,o,o,n-i):Ct(this&&this!==lt&&this instanceof a?s:e,this,c)}}(e,t,h):t!=c&&33!=t||d.length?Ro.apply(o,v):function(e,t,n,o){var s=1&t,a=Fo(e);return function t(){for(var i=-1,c=arguments.length,u=-1,d=o.length,l=r(d+c),f=this&&this!==lt&&this instanceof t?a:e;++u<d;)l[u]=o[u];for(;c--;)l[u++]=arguments[++i];return Ct(f,s?n:this,l)}}(e,t,n,a);else var w=function(e,t,n){var r=1&t,o=Fo(e);return function t(){return(this&&this!==lt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return xs((b?Yr:Ps)(w,v),e,t)}function Xo(e,t,n,r){return e===o||ja(e,xe[n])&&!_e.call(r,n)?t:e}function Yo(e,t,n,r,s,a){return Qa(e)&&Qa(t)&&(a.set(t,e),jr(e,t,o,Yo,a),a.delete(t)),e}function Zo(e){return ri(e)?o:e}function Qo(e,t,n,r,s,a){var i=1&n,c=e.length,u=t.length;if(c!=u&&!(i&&u>c))return!1;var d=a.get(e),l=a.get(t);if(d&&l)return d==t&&l==e;var f=-1,h=!0,m=2&n?new Gn:o;for(a.set(e,t),a.set(t,e);++f<c;){var p=e[f],g=t[f];if(r)var y=i?r(g,p,f,t,e,a):r(p,g,f,e,t,a);if(y!==o){if(y)continue;h=!1;break}if(m){if(!Ft(t,(function(e,t){if(!Yt(m,t)&&(p===e||s(p,e,n,r,a)))return m.push(t)}))){h=!1;break}}else if(p!==g&&!s(p,g,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function es(e){return Ms(Ss(e,o,Ws),e+"")}function ts(e){return Ar(e,xi,ds)}function ns(e){return Ar(e,Ni,ls)}var rs=Tn?function(e){return Tn.get(e)}:ic;function os(e){for(var t=e.name+"",n=Mn[t],r=_e.call(Mn,t)?n.length:0;r--;){var o=n[r],s=o.func;if(null==s||s==e)return o.name}return t}function ss(e){return(_e.call(Rn,"placeholder")?Rn:e).placeholder}function as(){var e=Rn.iteratee||rc;return e=e===rc?_r:e,arguments.length?e(arguments[0],arguments[1]):e}function is(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function cs(e){for(var t=xi(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,As(o)]}return t}function us(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Lr(n)?n:o}var ds=pt?function(e){return null==e?[]:(e=Se(e),Tt(pt(e),(function(t){return Ge.call(e,t)})))}:mc,ls=pt?function(e){for(var t=[];e;)Lt(t,ds(e)),e=We(e);return t}:mc,fs=Cr;function hs(e,t,n){for(var r=-1,o=(t=yo(t,e)).length,s=!1;++r<o;){var a=Ds(t[r]);if(!(s=null!=e&&n(e,a)))break;e=e[a]}return s||++r!=o?s:!!(o=null==e?0:e.length)&&Za(o)&&gs(a,o)&&(Va(e)||za(e))}function ms(e){return"function"!=typeof e.constructor||Is(e)?{}:jn(We(e))}function ps(e){return Va(e)||za(e)||!!(Ke&&e&&e[Ke])}function gs(e,t){var n=typeof e;return!!(t=null==t?l:t)&&("number"==n||"symbol"!=n&&ye.test(e))&&e>-1&&e%1==0&&e<t}function ys(e,t,n){if(!Qa(n))return!1;var r=typeof t;return!!("number"==r?Ha(n)&&gs(t,n.length):"string"==r&&t in n)&&ja(n[t],e)}function bs(e,t){if(Va(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ii(e))||Q.test(e)||!Z.test(e)||null!=t&&e in Se(t)}function vs(e){var t=os(e),n=Rn[t];if("function"!=typeof n||!(t in zn.prototype))return!1;if(e===n)return!0;var r=rs(n);return!!r&&e===r[0]}(An&&fs(new An(new ArrayBuffer(1)))!=L||Cn&&fs(new Cn)!=A||Sn&&fs(Sn.resolve())!=E||En&&fs(new En)!=P||kn&&fs(new kn)!=x)&&(fs=function(e){var t=Cr(e),n=t==S?e.constructor:o,r=n?Os(n):"";if(r)switch(r){case xn:return L;case Nn:return A;case Ln:return E;case _n:return P;case Bn:return x}return t});var ws=Ne?Xa:pc;function Is(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||xe)}function As(e){return e==e&&!Qa(e)}function Cs(e,t){return function(n){return null!=n&&n[e]===t&&(t!==o||e in Se(n))}}function Ss(e,t,n){return t=gn(t===o?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=gn(o.length-t,0),i=r(a);++s<a;)i[s]=o[t+s];s=-1;for(var c=r(t+1);++s<t;)c[s]=o[s];return c[t]=n(i),Ct(e,this,c)}}function Es(e,t){return t.length<2?e:Ir(e,eo(t,0,-1))}function ks(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ps=Ns(Yr),Ts=dt||function(e,t){return lt.setTimeout(e,t)},Ms=Ns(Zr);function xs(e,t,n){var r=t+"";return Ms(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Et(m,(function(n){var r="_."+n[0];t&n[1]&&!Mt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(ie):[]}(r),n)))}function Ns(e){var t=0,n=0;return function(){var r=bn(),s=16-(r-n);if(n=r,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Ls(e,t){var n=-1,r=e.length,s=r-1;for(t=t===o?r:t;++n<t;){var a=Hr(n,s),i=e[a];e[a]=e[n],e[n]=i}return e.length=t,e}var _s,Bs,Fs=(_s=_a((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,o){t.push(r?o.replace(de,"$1"):n||e)})),t}),(function(e){return 500===Bs.size&&Bs.clear(),e})),Bs=_s.cache,_s);function Ds(e){if("string"==typeof e||ii(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Os(e){if(null!=e){try{return Le.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Rs(e){if(e instanceof zn)return e.clone();var t=new $n(e.__wrapped__,e.__chain__);return t.__actions__=Po(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var js=Jr((function(e,t){return Ga(e)?ur(e,pr(t,1,Ga,!0)):[]})),Us=Jr((function(e,t){var n=qs(t);return Ga(n)&&(n=o),Ga(e)?ur(e,pr(t,1,Ga,!0),as(n,2)):[]})),$s=Jr((function(e,t){var n=qs(t);return Ga(n)&&(n=o),Ga(e)?ur(e,pr(t,1,Ga,!0),o,n):[]}));function zs(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:hi(n);return o<0&&(o=gn(r+o,0)),Rt(e,as(t,3),o)}function Vs(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=r-1;return n!==o&&(s=hi(n),s=n<0?gn(r+s,0):yn(s,r-1)),Rt(e,as(t,3),s,!0)}function Ws(e){return null!=e&&e.length?pr(e,1):[]}function Hs(e){return e&&e.length?e[0]:o}var Gs=Jr((function(e){var t=Nt(e,po);return t.length&&t[0]===e[0]?Pr(t):[]})),Js=Jr((function(e){var t=qs(e),n=Nt(e,po);return t===qs(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Pr(n,as(t,2)):[]})),Ks=Jr((function(e){var t=qs(e),n=Nt(e,po);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Pr(n,o,t):[]}));function qs(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Xs=Jr(Ys);function Ys(e,t){return e&&e.length&&t&&t.length?Vr(e,t):e}var Zs=es((function(e,t){var n=null==e?0:e.length,r=or(e,t);return Wr(e,Nt(t,(function(e){return gs(e,n)?+e:e})).sort(So)),r}));function Qs(e){return null==e?e:In.call(e)}var ea=Jr((function(e){return io(pr(e,1,Ga,!0))})),ta=Jr((function(e){var t=qs(e);return Ga(t)&&(t=o),io(pr(e,1,Ga,!0),as(t,2))})),na=Jr((function(e){var t=qs(e);return t="function"==typeof t?t:o,io(pr(e,1,Ga,!0),o,t)}));function ra(e){if(!e||!e.length)return[];var t=0;return e=Tt(e,(function(e){if(Ga(e))return t=gn(e.length,t),!0})),Jt(t,(function(t){return Nt(e,Vt(t))}))}function oa(e,t){if(!e||!e.length)return[];var n=ra(e);return null==t?n:Nt(n,(function(e){return Ct(t,o,e)}))}var sa=Jr((function(e,t){return Ga(e)?ur(e,t):[]})),aa=Jr((function(e){return ho(Tt(e,Ga))})),ia=Jr((function(e){var t=qs(e);return Ga(t)&&(t=o),ho(Tt(e,Ga),as(t,2))})),ca=Jr((function(e){var t=qs(e);return t="function"==typeof t?t:o,ho(Tt(e,Ga),o,t)})),ua=Jr(ra),da=Jr((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,oa(e,n)}));function la(e){var t=Rn(e);return t.__chain__=!0,t}function fa(e,t){return t(e)}var ha=es((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,s=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&r instanceof zn&&gs(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:fa,args:[s],thisArg:o}),new $n(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(s)})),ma=Mo((function(e,t,n){_e.call(e,n)?++e[n]:rr(e,n,1)})),pa=Do(zs),ga=Do(Vs);function ya(e,t){return(Va(e)?Et:dr)(e,as(t,3))}function ba(e,t){return(Va(e)?kt:lr)(e,as(t,3))}var va=Mo((function(e,t,n){_e.call(e,n)?e[n].push(t):rr(e,n,[t])})),wa=Jr((function(e,t,n){var o=-1,s="function"==typeof t,a=Ha(e)?r(e.length):[];return dr(e,(function(e){a[++o]=s?Ct(t,e,n):Tr(e,t,n)})),a})),Ia=Mo((function(e,t,n){rr(e,n,t)}));function Aa(e,t){return(Va(e)?Nt:Dr)(e,as(t,3))}var Ca=Mo((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Sa=Jr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ys(e,t[0],t[1])?t=[]:n>2&&ys(t[0],t[1],t[2])&&(t=[t[0]]),$r(e,pr(t,1),[])})),Ea=ut||function(){return lt.Date.now()};function ka(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,qo(e,u,o,o,o,o,t)}function Pa(e,t){var n;if("function"!=typeof t)throw new Pe(s);return e=hi(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Ta=Jr((function(e,t,n){var r=1;if(n.length){var o=an(n,ss(Ta));r|=c}return qo(e,r,t,n,o)})),Ma=Jr((function(e,t,n){var r=3;if(n.length){var o=an(n,ss(Ma));r|=c}return qo(t,r,e,n,o)}));function xa(e,t,n){var r,a,i,c,u,d,l=0,f=!1,h=!1,m=!0;if("function"!=typeof e)throw new Pe(s);function p(t){var n=r,s=a;return r=a=o,l=t,c=e.apply(s,n)}function g(e){var n=e-d;return d===o||n>=t||n<0||h&&e-l>=i}function y(){var e=Ea();if(g(e))return b(e);u=Ts(y,function(e){var n=t-(e-d);return h?yn(n,i-(e-l)):n}(e))}function b(e){return u=o,m&&r?p(e):(r=a=o,c)}function v(){var e=Ea(),n=g(e);if(r=arguments,a=this,d=e,n){if(u===o)return function(e){return l=e,u=Ts(y,t),f?p(e):c}(d);if(h)return wo(u),u=Ts(y,t),p(d)}return u===o&&(u=Ts(y,t)),c}return t=pi(t)||0,Qa(n)&&(f=!!n.leading,i=(h="maxWait"in n)?gn(pi(n.maxWait)||0,t):i,m="trailing"in n?!!n.trailing:m),v.cancel=function(){u!==o&&wo(u),l=0,r=d=a=u=o},v.flush=function(){return u===o?c:b(Ea())},v}var Na=Jr((function(e,t){return cr(e,1,t)})),La=Jr((function(e,t,n){return cr(e,pi(t)||0,n)}));function _a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Pe(s);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],s=n.cache;if(s.has(o))return s.get(o);var a=e.apply(this,r);return n.cache=s.set(o,a)||s,a};return n.cache=new(_a.Cache||Hn),n}function Ba(e){if("function"!=typeof e)throw new Pe(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}_a.Cache=Hn;var Fa=bo((function(e,t){var n=(t=1==t.length&&Va(t[0])?Nt(t[0],qt(as())):Nt(pr(t,1),qt(as()))).length;return Jr((function(r){for(var o=-1,s=yn(r.length,n);++o<s;)r[o]=t[o].call(this,r[o]);return Ct(e,this,r)}))})),Da=Jr((function(e,t){var n=an(t,ss(Da));return qo(e,c,o,t,n)})),Oa=Jr((function(e,t){var n=an(t,ss(Oa));return qo(e,64,o,t,n)})),Ra=es((function(e,t){return qo(e,256,o,o,o,t)}));function ja(e,t){return e===t||e!=e&&t!=t}var Ua=Wo(Sr),$a=Wo((function(e,t){return e>=t})),za=Mr(function(){return arguments}())?Mr:function(e){return ei(e)&&_e.call(e,"callee")&&!Ge.call(e,"callee")},Va=r.isArray,Wa=yt?qt(yt):function(e){return ei(e)&&Cr(e)==N};function Ha(e){return null!=e&&Za(e.length)&&!Xa(e)}function Ga(e){return ei(e)&&Ha(e)}var Ja=gt||pc,Ka=bt?qt(bt):function(e){return ei(e)&&Cr(e)==b};function qa(e){if(!ei(e))return!1;var t=Cr(e);return t==v||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ri(e)}function Xa(e){if(!Qa(e))return!1;var t=Cr(e);return t==w||t==I||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ya(e){return"number"==typeof e&&e==hi(e)}function Za(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=l}function Qa(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ei(e){return null!=e&&"object"==typeof e}var ti=vt?qt(vt):function(e){return ei(e)&&fs(e)==A};function ni(e){return"number"==typeof e||ei(e)&&Cr(e)==C}function ri(e){if(!ei(e)||Cr(e)!=S)return!1;var t=We(e);if(null===t)return!0;var n=_e.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Le.call(n)==Oe}var oi=wt?qt(wt):function(e){return ei(e)&&Cr(e)==k},si=It?qt(It):function(e){return ei(e)&&fs(e)==P};function ai(e){return"string"==typeof e||!Va(e)&&ei(e)&&Cr(e)==T}function ii(e){return"symbol"==typeof e||ei(e)&&Cr(e)==M}var ci=At?qt(At):function(e){return ei(e)&&Za(e.length)&&!!ot[Cr(e)]},ui=Wo(Fr),di=Wo((function(e,t){return e<=t}));function li(e){if(!e)return[];if(Ha(e))return ai(e)?ln(e):Po(e);if(qe&&e[qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[qe]());var t=fs(e);return(t==A?on:t==P?cn:ji)(e)}function fi(e){return e?(e=pi(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function hi(e){var t=fi(e),n=t%1;return t==t?n?t-n:t:0}function mi(e){return e?sr(hi(e),0,h):0}function pi(e){if("number"==typeof e)return e;if(ii(e))return f;if(Qa(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Qa(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Kt(e);var n=me.test(e);return n||ge.test(e)?ct(e.slice(2),n?2:8):he.test(e)?f:+e}function gi(e){return To(e,Ni(e))}function yi(e){return null==e?"":ao(e)}var bi=xo((function(e,t){if(Is(t)||Ha(t))To(t,xi(t),e);else for(var n in t)_e.call(t,n)&&Qn(e,n,t[n])})),vi=xo((function(e,t){To(t,Ni(t),e)})),wi=xo((function(e,t,n,r){To(t,Ni(t),e,r)})),Ii=xo((function(e,t,n,r){To(t,xi(t),e,r)})),Ai=es(or),Ci=Jr((function(e,t){e=Se(e);var n=-1,r=t.length,s=r>2?t[2]:o;for(s&&ys(t[0],t[1],s)&&(r=1);++n<r;)for(var a=t[n],i=Ni(a),c=-1,u=i.length;++c<u;){var d=i[c],l=e[d];(l===o||ja(l,xe[d])&&!_e.call(e,d))&&(e[d]=a[d])}return e})),Si=Jr((function(e){return e.push(o,Yo),Ct(_i,o,e)}));function Ei(e,t,n){var r=null==e?o:Ir(e,t);return r===o?n:r}function ki(e,t){return null!=e&&hs(e,t,kr)}var Pi=jo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),e[t]=n}),Qi(nc)),Ti=jo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),_e.call(e,t)?e[t].push(n):e[t]=[n]}),as),Mi=Jr(Tr);function xi(e){return Ha(e)?Kn(e):Br(e)}function Ni(e){return Ha(e)?Kn(e,!0):function(e){if(!Qa(e))return function(e){var t=[];if(null!=e)for(var n in Se(e))t.push(n);return t}(e);var t=Is(e),n=[];for(var r in e)("constructor"!=r||!t&&_e.call(e,r))&&n.push(r);return n}(e)}var Li=xo((function(e,t,n){jr(e,t,n)})),_i=xo((function(e,t,n,r){jr(e,t,n,r)})),Bi=es((function(e,t){var n={};if(null==e)return n;var r=!1;t=Nt(t,(function(t){return t=yo(t,e),r||(r=t.length>1),t})),To(e,ns(e),n),r&&(n=ar(n,7,Zo));for(var o=t.length;o--;)co(n,t[o]);return n})),Fi=es((function(e,t){return null==e?{}:function(e,t){return zr(e,t,(function(t,n){return ki(e,n)}))}(e,t)}));function Di(e,t){if(null==e)return{};var n=Nt(ns(e),(function(e){return[e]}));return t=as(t),zr(e,n,(function(e,n){return t(e,n[0])}))}var Oi=Ko(xi),Ri=Ko(Ni);function ji(e){return null==e?[]:Xt(e,xi(e))}var Ui=Bo((function(e,t,n){return t=t.toLowerCase(),e+(n?$i(t):t)}));function $i(e){return qi(yi(e).toLowerCase())}function zi(e){return(e=yi(e))&&e.replace(be,en).replace(Ye,"")}var Vi=Bo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Wi=Bo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Hi=_o("toLowerCase"),Gi=Bo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Ji=Bo((function(e,t,n){return e+(n?" ":"")+qi(t)})),Ki=Bo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),qi=_o("toUpperCase");function Xi(e,t,n){return e=yi(e),(t=n?o:t)===o?function(e){return tt.test(e)}(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var Yi=Jr((function(e,t){try{return Ct(e,o,t)}catch(e){return qa(e)?e:new Ie(e)}})),Zi=es((function(e,t){return Et(t,(function(t){t=Ds(t),rr(e,t,Ta(e[t],e))})),e}));function Qi(e){return function(){return e}}var ec=Oo(),tc=Oo(!0);function nc(e){return e}function rc(e){return _r("function"==typeof e?e:ar(e,1))}var oc=Jr((function(e,t){return function(n){return Tr(n,e,t)}})),sc=Jr((function(e,t){return function(n){return Tr(e,n,t)}}));function ac(e,t,n){var r=xi(t),o=wr(t,r);null!=n||Qa(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=wr(t,xi(t)));var s=!(Qa(n)&&"chain"in n&&!n.chain),a=Xa(e);return Et(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__);return(n.__actions__=Po(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Lt([this.value()],arguments))})})),e}function ic(){}var cc=$o(Nt),uc=$o(Pt),dc=$o(Ft);function lc(e){return bs(e)?Vt(Ds(e)):function(e){return function(t){return Ir(t,e)}}(e)}var fc=Vo(),hc=Vo(!0);function mc(){return[]}function pc(){return!1}var gc,yc=Uo((function(e,t){return e+t}),0),bc=Go("ceil"),vc=Uo((function(e,t){return e/t}),1),wc=Go("floor"),Ic=Uo((function(e,t){return e*t}),1),Ac=Go("round"),Cc=Uo((function(e,t){return e-t}),0);return Rn.after=function(e,t){if("function"!=typeof t)throw new Pe(s);return e=hi(e),function(){if(--e<1)return t.apply(this,arguments)}},Rn.ary=ka,Rn.assign=bi,Rn.assignIn=vi,Rn.assignInWith=wi,Rn.assignWith=Ii,Rn.at=Ai,Rn.before=Pa,Rn.bind=Ta,Rn.bindAll=Zi,Rn.bindKey=Ma,Rn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Va(e)?e:[e]},Rn.chain=la,Rn.chunk=function(e,t,n){t=(n?ys(e,t,n):t===o)?1:gn(hi(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var a=0,i=0,c=r(ft(s/t));a<s;)c[i++]=eo(e,a,a+=t);return c},Rn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var s=e[t];s&&(o[r++]=s)}return o},Rn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Lt(Va(n)?Po(n):[n],pr(t,1))},Rn.cond=function(e){var t=null==e?0:e.length,n=as();return e=t?Nt(e,(function(e){if("function"!=typeof e[1])throw new Pe(s);return[n(e[0]),e[1]]})):[],Jr((function(n){for(var r=-1;++r<t;){var o=e[r];if(Ct(o[0],this,n))return Ct(o[1],this,n)}}))},Rn.conforms=function(e){return function(e){var t=xi(e);return function(n){return ir(n,e,t)}}(ar(e,1))},Rn.constant=Qi,Rn.countBy=ma,Rn.create=function(e,t){var n=jn(e);return null==t?n:nr(n,t)},Rn.curry=function e(t,n,r){var s=qo(t,8,o,o,o,o,o,n=r?o:n);return s.placeholder=e.placeholder,s},Rn.curryRight=function e(t,n,r){var s=qo(t,16,o,o,o,o,o,n=r?o:n);return s.placeholder=e.placeholder,s},Rn.debounce=xa,Rn.defaults=Ci,Rn.defaultsDeep=Si,Rn.defer=Na,Rn.delay=La,Rn.difference=js,Rn.differenceBy=Us,Rn.differenceWith=$s,Rn.drop=function(e,t,n){var r=null==e?0:e.length;return r?eo(e,(t=n||t===o?1:hi(t))<0?0:t,r):[]},Rn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?eo(e,0,(t=r-(t=n||t===o?1:hi(t)))<0?0:t):[]},Rn.dropRightWhile=function(e,t){return e&&e.length?lo(e,as(t,3),!0,!0):[]},Rn.dropWhile=function(e,t){return e&&e.length?lo(e,as(t,3),!0):[]},Rn.fill=function(e,t,n,r){var s=null==e?0:e.length;return s?(n&&"number"!=typeof n&&ys(e,t,n)&&(n=0,r=s),function(e,t,n,r){var s=e.length;for((n=hi(n))<0&&(n=-n>s?0:s+n),(r=r===o||r>s?s:hi(r))<0&&(r+=s),r=n>r?0:mi(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Rn.filter=function(e,t){return(Va(e)?Tt:mr)(e,as(t,3))},Rn.flatMap=function(e,t){return pr(Aa(e,t),1)},Rn.flatMapDeep=function(e,t){return pr(Aa(e,t),d)},Rn.flatMapDepth=function(e,t,n){return n=n===o?1:hi(n),pr(Aa(e,t),n)},Rn.flatten=Ws,Rn.flattenDeep=function(e){return null!=e&&e.length?pr(e,d):[]},Rn.flattenDepth=function(e,t){return null!=e&&e.length?pr(e,t=t===o?1:hi(t)):[]},Rn.flip=function(e){return qo(e,512)},Rn.flow=ec,Rn.flowRight=tc,Rn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Rn.functions=function(e){return null==e?[]:wr(e,xi(e))},Rn.functionsIn=function(e){return null==e?[]:wr(e,Ni(e))},Rn.groupBy=va,Rn.initial=function(e){return null!=e&&e.length?eo(e,0,-1):[]},Rn.intersection=Gs,Rn.intersectionBy=Js,Rn.intersectionWith=Ks,Rn.invert=Pi,Rn.invertBy=Ti,Rn.invokeMap=wa,Rn.iteratee=rc,Rn.keyBy=Ia,Rn.keys=xi,Rn.keysIn=Ni,Rn.map=Aa,Rn.mapKeys=function(e,t){var n={};return t=as(t,3),br(e,(function(e,r,o){rr(n,t(e,r,o),e)})),n},Rn.mapValues=function(e,t){var n={};return t=as(t,3),br(e,(function(e,r,o){rr(n,r,t(e,r,o))})),n},Rn.matches=function(e){return Or(ar(e,1))},Rn.matchesProperty=function(e,t){return Rr(e,ar(t,1))},Rn.memoize=_a,Rn.merge=Li,Rn.mergeWith=_i,Rn.method=oc,Rn.methodOf=sc,Rn.mixin=ac,Rn.negate=Ba,Rn.nthArg=function(e){return e=hi(e),Jr((function(t){return Ur(t,e)}))},Rn.omit=Bi,Rn.omitBy=function(e,t){return Di(e,Ba(as(t)))},Rn.once=function(e){return Pa(2,e)},Rn.orderBy=function(e,t,n,r){return null==e?[]:(Va(t)||(t=null==t?[]:[t]),Va(n=r?o:n)||(n=null==n?[]:[n]),$r(e,t,n))},Rn.over=cc,Rn.overArgs=Fa,Rn.overEvery=uc,Rn.overSome=dc,Rn.partial=Da,Rn.partialRight=Oa,Rn.partition=Ca,Rn.pick=Fi,Rn.pickBy=Di,Rn.property=lc,Rn.propertyOf=function(e){return function(t){return null==e?o:Ir(e,t)}},Rn.pull=Xs,Rn.pullAll=Ys,Rn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Vr(e,t,as(n,2)):e},Rn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Vr(e,t,o,n):e},Rn.pullAt=Zs,Rn.range=fc,Rn.rangeRight=hc,Rn.rearg=Ra,Rn.reject=function(e,t){return(Va(e)?Tt:mr)(e,Ba(as(t,3)))},Rn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],s=e.length;for(t=as(t,3);++r<s;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Wr(e,o),n},Rn.rest=function(e,t){if("function"!=typeof e)throw new Pe(s);return Jr(e,t=t===o?t:hi(t))},Rn.reverse=Qs,Rn.sampleSize=function(e,t,n){return t=(n?ys(e,t,n):t===o)?1:hi(t),(Va(e)?Xn:qr)(e,t)},Rn.set=function(e,t,n){return null==e?e:Xr(e,t,n)},Rn.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Xr(e,t,n,r)},Rn.shuffle=function(e){return(Va(e)?Yn:Qr)(e)},Rn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ys(e,t,n)?(t=0,n=r):(t=null==t?0:hi(t),n=n===o?r:hi(n)),eo(e,t,n)):[]},Rn.sortBy=Sa,Rn.sortedUniq=function(e){return e&&e.length?oo(e):[]},Rn.sortedUniqBy=function(e,t){return e&&e.length?oo(e,as(t,2)):[]},Rn.split=function(e,t,n){return n&&"number"!=typeof n&&ys(e,t,n)&&(t=n=o),(n=n===o?h:n>>>0)?(e=yi(e))&&("string"==typeof t||null!=t&&!oi(t))&&!(t=ao(t))&&rn(e)?vo(ln(e),0,n):e.split(t,n):[]},Rn.spread=function(e,t){if("function"!=typeof e)throw new Pe(s);return t=null==t?0:gn(hi(t),0),Jr((function(n){var r=n[t],o=vo(n,0,t);return r&&Lt(o,r),Ct(e,this,o)}))},Rn.tail=function(e){var t=null==e?0:e.length;return t?eo(e,1,t):[]},Rn.take=function(e,t,n){return e&&e.length?eo(e,0,(t=n||t===o?1:hi(t))<0?0:t):[]},Rn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?eo(e,(t=r-(t=n||t===o?1:hi(t)))<0?0:t,r):[]},Rn.takeRightWhile=function(e,t){return e&&e.length?lo(e,as(t,3),!1,!0):[]},Rn.takeWhile=function(e,t){return e&&e.length?lo(e,as(t,3)):[]},Rn.tap=function(e,t){return t(e),e},Rn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Pe(s);return Qa(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),xa(e,t,{leading:r,maxWait:t,trailing:o})},Rn.thru=fa,Rn.toArray=li,Rn.toPairs=Oi,Rn.toPairsIn=Ri,Rn.toPath=function(e){return Va(e)?Nt(e,Ds):ii(e)?[e]:Po(Fs(yi(e)))},Rn.toPlainObject=gi,Rn.transform=function(e,t,n){var r=Va(e),o=r||Ja(e)||ci(e);if(t=as(t,4),null==n){var s=e&&e.constructor;n=o?r?new s:[]:Qa(e)&&Xa(s)?jn(We(e)):{}}return(o?Et:br)(e,(function(e,r,o){return t(n,e,r,o)})),n},Rn.unary=function(e){return ka(e,1)},Rn.union=ea,Rn.unionBy=ta,Rn.unionWith=na,Rn.uniq=function(e){return e&&e.length?io(e):[]},Rn.uniqBy=function(e,t){return e&&e.length?io(e,as(t,2)):[]},Rn.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?io(e,o,t):[]},Rn.unset=function(e,t){return null==e||co(e,t)},Rn.unzip=ra,Rn.unzipWith=oa,Rn.update=function(e,t,n){return null==e?e:uo(e,t,go(n))},Rn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:uo(e,t,go(n),r)},Rn.values=ji,Rn.valuesIn=function(e){return null==e?[]:Xt(e,Ni(e))},Rn.without=sa,Rn.words=Xi,Rn.wrap=function(e,t){return Da(go(t),e)},Rn.xor=aa,Rn.xorBy=ia,Rn.xorWith=ca,Rn.zip=ua,Rn.zipObject=function(e,t){return mo(e||[],t||[],Qn)},Rn.zipObjectDeep=function(e,t){return mo(e||[],t||[],Xr)},Rn.zipWith=da,Rn.entries=Oi,Rn.entriesIn=Ri,Rn.extend=vi,Rn.extendWith=wi,ac(Rn,Rn),Rn.add=yc,Rn.attempt=Yi,Rn.camelCase=Ui,Rn.capitalize=$i,Rn.ceil=bc,Rn.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=pi(n))==n?n:0),t!==o&&(t=(t=pi(t))==t?t:0),sr(pi(e),t,n)},Rn.clone=function(e){return ar(e,4)},Rn.cloneDeep=function(e){return ar(e,5)},Rn.cloneDeepWith=function(e,t){return ar(e,5,t="function"==typeof t?t:o)},Rn.cloneWith=function(e,t){return ar(e,4,t="function"==typeof t?t:o)},Rn.conformsTo=function(e,t){return null==t||ir(e,t,xi(t))},Rn.deburr=zi,Rn.defaultTo=function(e,t){return null==e||e!=e?t:e},Rn.divide=vc,Rn.endsWith=function(e,t,n){e=yi(e),t=ao(t);var r=e.length,s=n=n===o?r:sr(hi(n),0,r);return(n-=t.length)>=0&&e.slice(n,s)==t},Rn.eq=ja,Rn.escape=function(e){return(e=yi(e))&&K.test(e)?e.replace(G,tn):e},Rn.escapeRegExp=function(e){return(e=yi(e))&&ne.test(e)?e.replace(te,"\\$&"):e},Rn.every=function(e,t,n){var r=Va(e)?Pt:fr;return n&&ys(e,t,n)&&(t=o),r(e,as(t,3))},Rn.find=pa,Rn.findIndex=zs,Rn.findKey=function(e,t){return Ot(e,as(t,3),br)},Rn.findLast=ga,Rn.findLastIndex=Vs,Rn.findLastKey=function(e,t){return Ot(e,as(t,3),vr)},Rn.floor=wc,Rn.forEach=ya,Rn.forEachRight=ba,Rn.forIn=function(e,t){return null==e?e:gr(e,as(t,3),Ni)},Rn.forInRight=function(e,t){return null==e?e:yr(e,as(t,3),Ni)},Rn.forOwn=function(e,t){return e&&br(e,as(t,3))},Rn.forOwnRight=function(e,t){return e&&vr(e,as(t,3))},Rn.get=Ei,Rn.gt=Ua,Rn.gte=$a,Rn.has=function(e,t){return null!=e&&hs(e,t,Er)},Rn.hasIn=ki,Rn.head=Hs,Rn.identity=nc,Rn.includes=function(e,t,n,r){e=Ha(e)?e:ji(e),n=n&&!r?hi(n):0;var o=e.length;return n<0&&(n=gn(o+n,0)),ai(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&jt(e,t,n)>-1},Rn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:hi(n);return o<0&&(o=gn(r+o,0)),jt(e,t,o)},Rn.inRange=function(e,t,n){return t=fi(t),n===o?(n=t,t=0):n=fi(n),function(e,t,n){return e>=yn(t,n)&&e<gn(t,n)}(e=pi(e),t,n)},Rn.invoke=Mi,Rn.isArguments=za,Rn.isArray=Va,Rn.isArrayBuffer=Wa,Rn.isArrayLike=Ha,Rn.isArrayLikeObject=Ga,Rn.isBoolean=function(e){return!0===e||!1===e||ei(e)&&Cr(e)==y},Rn.isBuffer=Ja,Rn.isDate=Ka,Rn.isElement=function(e){return ei(e)&&1===e.nodeType&&!ri(e)},Rn.isEmpty=function(e){if(null==e)return!0;if(Ha(e)&&(Va(e)||"string"==typeof e||"function"==typeof e.splice||Ja(e)||ci(e)||za(e)))return!e.length;var t=fs(e);if(t==A||t==P)return!e.size;if(Is(e))return!Br(e).length;for(var n in e)if(_e.call(e,n))return!1;return!0},Rn.isEqual=function(e,t){return xr(e,t)},Rn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?xr(e,t,o,n):!!r},Rn.isError=qa,Rn.isFinite=function(e){return"number"==typeof e&&Dt(e)},Rn.isFunction=Xa,Rn.isInteger=Ya,Rn.isLength=Za,Rn.isMap=ti,Rn.isMatch=function(e,t){return e===t||Nr(e,t,cs(t))},Rn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Nr(e,t,cs(t),n)},Rn.isNaN=function(e){return ni(e)&&e!=+e},Rn.isNative=function(e){if(ws(e))throw new Ie("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},Rn.isNil=function(e){return null==e},Rn.isNull=function(e){return null===e},Rn.isNumber=ni,Rn.isObject=Qa,Rn.isObjectLike=ei,Rn.isPlainObject=ri,Rn.isRegExp=oi,Rn.isSafeInteger=function(e){return Ya(e)&&e>=-9007199254740991&&e<=l},Rn.isSet=si,Rn.isString=ai,Rn.isSymbol=ii,Rn.isTypedArray=ci,Rn.isUndefined=function(e){return e===o},Rn.isWeakMap=function(e){return ei(e)&&fs(e)==x},Rn.isWeakSet=function(e){return ei(e)&&"[object WeakSet]"==Cr(e)},Rn.join=function(e,t){return null==e?"":Wt.call(e,t)},Rn.kebabCase=Vi,Rn.last=qs,Rn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=r;return n!==o&&(s=(s=hi(n))<0?gn(r+s,0):yn(s,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,s):Rt(e,$t,s,!0)},Rn.lowerCase=Wi,Rn.lowerFirst=Hi,Rn.lt=ui,Rn.lte=di,Rn.max=function(e){return e&&e.length?hr(e,nc,Sr):o},Rn.maxBy=function(e,t){return e&&e.length?hr(e,as(t,2),Sr):o},Rn.mean=function(e){return zt(e,nc)},Rn.meanBy=function(e,t){return zt(e,as(t,2))},Rn.min=function(e){return e&&e.length?hr(e,nc,Fr):o},Rn.minBy=function(e,t){return e&&e.length?hr(e,as(t,2),Fr):o},Rn.stubArray=mc,Rn.stubFalse=pc,Rn.stubObject=function(){return{}},Rn.stubString=function(){return""},Rn.stubTrue=function(){return!0},Rn.multiply=Ic,Rn.nth=function(e,t){return e&&e.length?Ur(e,hi(t)):o},Rn.noConflict=function(){return lt._===this&&(lt._=Re),this},Rn.noop=ic,Rn.now=Ea,Rn.pad=function(e,t,n){e=yi(e);var r=(t=hi(t))?dn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return zo(ht(o),n)+e+zo(ft(o),n)},Rn.padEnd=function(e,t,n){e=yi(e);var r=(t=hi(t))?dn(e):0;return t&&r<t?e+zo(t-r,n):e},Rn.padStart=function(e,t,n){e=yi(e);var r=(t=hi(t))?dn(e):0;return t&&r<t?zo(t-r,n)+e:e},Rn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),vn(yi(e).replace(re,""),t||0)},Rn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ys(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=fi(e),t===o?(t=e,e=0):t=fi(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var s=wn();return yn(e+s*(t-e+it("1e-"+((s+"").length-1))),t)}return Hr(e,t)},Rn.reduce=function(e,t,n){var r=Va(e)?_t:Ht,o=arguments.length<3;return r(e,as(t,4),n,o,dr)},Rn.reduceRight=function(e,t,n){var r=Va(e)?Bt:Ht,o=arguments.length<3;return r(e,as(t,4),n,o,lr)},Rn.repeat=function(e,t,n){return t=(n?ys(e,t,n):t===o)?1:hi(t),Gr(yi(e),t)},Rn.replace=function(){var e=arguments,t=yi(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Rn.result=function(e,t,n){var r=-1,s=(t=yo(t,e)).length;for(s||(s=1,e=o);++r<s;){var a=null==e?o:e[Ds(t[r])];a===o&&(r=s,a=n),e=Xa(a)?a.call(e):a}return e},Rn.round=Ac,Rn.runInContext=e,Rn.sample=function(e){return(Va(e)?qn:Kr)(e)},Rn.size=function(e){if(null==e)return 0;if(Ha(e))return ai(e)?dn(e):e.length;var t=fs(e);return t==A||t==P?e.size:Br(e).length},Rn.snakeCase=Gi,Rn.some=function(e,t,n){var r=Va(e)?Ft:to;return n&&ys(e,t,n)&&(t=o),r(e,as(t,3))},Rn.sortedIndex=function(e,t){return no(e,t)},Rn.sortedIndexBy=function(e,t,n){return ro(e,t,as(n,2))},Rn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=no(e,t);if(r<n&&ja(e[r],t))return r}return-1},Rn.sortedLastIndex=function(e,t){return no(e,t,!0)},Rn.sortedLastIndexBy=function(e,t,n){return ro(e,t,as(n,2),!0)},Rn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=no(e,t,!0)-1;if(ja(e[n],t))return n}return-1},Rn.startCase=Ji,Rn.startsWith=function(e,t,n){return e=yi(e),n=null==n?0:sr(hi(n),0,e.length),t=ao(t),e.slice(n,n+t.length)==t},Rn.subtract=Cc,Rn.sum=function(e){return e&&e.length?Gt(e,nc):0},Rn.sumBy=function(e,t){return e&&e.length?Gt(e,as(t,2)):0},Rn.template=function(e,t,n){var r=Rn.templateSettings;n&&ys(e,t,n)&&(t=o),e=yi(e),t=wi({},t,r,Xo);var s,a,i=wi({},t.imports,r.imports,Xo),c=xi(i),u=Xt(i,c),d=0,l=t.interpolate||ve,f="__p += '",h=Ee((t.escape||ve).source+"|"+l.source+"|"+(l===Y?le:ve).source+"|"+(t.evaluate||ve).source+"|$","g"),m="//# sourceURL="+(_e.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(h,(function(t,n,r,o,i,c){return r||(r=o),f+=e.slice(d,c).replace(we,nn),n&&(s=!0,f+="' +\n__e("+n+") +\n'"),i&&(a=!0,f+="';\n"+i+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),d=c+t.length,t})),f+="';\n";var p=_e.call(t,"variable")&&t.variable;if(p){if(ue.test(p))throw new Ie("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(z,""):f).replace(V,"$1").replace(W,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Yi((function(){return Ae(c,m+"return "+f).apply(o,u)}));if(g.source=f,qa(g))throw g;return g},Rn.times=function(e,t){if((e=hi(e))<1||e>l)return[];var n=h,r=yn(e,h);t=as(t),e-=h;for(var o=Jt(r,t);++n<e;)t(n);return o},Rn.toFinite=fi,Rn.toInteger=hi,Rn.toLength=mi,Rn.toLower=function(e){return yi(e).toLowerCase()},Rn.toNumber=pi,Rn.toSafeInteger=function(e){return e?sr(hi(e),-9007199254740991,l):0===e?e:0},Rn.toString=yi,Rn.toUpper=function(e){return yi(e).toUpperCase()},Rn.trim=function(e,t,n){if((e=yi(e))&&(n||t===o))return Kt(e);if(!e||!(t=ao(t)))return e;var r=ln(e),s=ln(t);return vo(r,Zt(r,s),Qt(r,s)+1).join("")},Rn.trimEnd=function(e,t,n){if((e=yi(e))&&(n||t===o))return e.slice(0,fn(e)+1);if(!e||!(t=ao(t)))return e;var r=ln(e);return vo(r,0,Qt(r,ln(t))+1).join("")},Rn.trimStart=function(e,t,n){if((e=yi(e))&&(n||t===o))return e.replace(re,"");if(!e||!(t=ao(t)))return e;var r=ln(e);return vo(r,Zt(r,ln(t))).join("")},Rn.truncate=function(e,t){var n=30,r="...";if(Qa(t)){var s="separator"in t?t.separator:s;n="length"in t?hi(t.length):n,r="omission"in t?ao(t.omission):r}var a=(e=yi(e)).length;if(rn(e)){var i=ln(e);a=i.length}if(n>=a)return e;var c=n-dn(r);if(c<1)return r;var u=i?vo(i,0,c).join(""):e.slice(0,c);if(s===o)return u+r;if(i&&(c+=u.length-c),oi(s)){if(e.slice(c).search(s)){var d,l=u;for(s.global||(s=Ee(s.source,yi(fe.exec(s))+"g")),s.lastIndex=0;d=s.exec(l);)var f=d.index;u=u.slice(0,f===o?c:f)}}else if(e.indexOf(ao(s),c)!=c){var h=u.lastIndexOf(s);h>-1&&(u=u.slice(0,h))}return u+r},Rn.unescape=function(e){return(e=yi(e))&&J.test(e)?e.replace(H,hn):e},Rn.uniqueId=function(e){var t=++Be;return yi(e)+t},Rn.upperCase=Ki,Rn.upperFirst=qi,Rn.each=ya,Rn.eachRight=ba,Rn.first=Hs,ac(Rn,(gc={},br(Rn,(function(e,t){_e.call(Rn.prototype,t)||(gc[t]=e)})),gc),{chain:!1}),Rn.VERSION="4.17.21",Et(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Rn[e].placeholder=Rn})),Et(["drop","take"],(function(e,t){zn.prototype[e]=function(n){n=n===o?1:gn(hi(n),0);var r=this.__filtered__&&!t?new zn(this):this.clone();return r.__filtered__?r.__takeCount__=yn(n,r.__takeCount__):r.__views__.push({size:yn(n,h),type:e+(r.__dir__<0?"Right":"")}),r},zn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Et(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;zn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:as(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Et(["head","last"],(function(e,t){var n="take"+(t?"Right":"");zn.prototype[e]=function(){return this[n](1).value()[0]}})),Et(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");zn.prototype[e]=function(){return this.__filtered__?new zn(this):this[n](1)}})),zn.prototype.compact=function(){return this.filter(nc)},zn.prototype.find=function(e){return this.filter(e).head()},zn.prototype.findLast=function(e){return this.reverse().find(e)},zn.prototype.invokeMap=Jr((function(e,t){return"function"==typeof e?new zn(this):this.map((function(n){return Tr(n,e,t)}))})),zn.prototype.reject=function(e){return this.filter(Ba(as(e)))},zn.prototype.slice=function(e,t){e=hi(e);var n=this;return n.__filtered__&&(e>0||t<0)?new zn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=hi(t))<0?n.dropRight(-t):n.take(t-e)),n)},zn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},zn.prototype.toArray=function(){return this.take(h)},br(zn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),s=Rn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);s&&(Rn.prototype[t]=function(){var t=this.__wrapped__,i=r?[1]:arguments,c=t instanceof zn,u=i[0],d=c||Va(t),l=function(e){var t=s.apply(Rn,Lt([e],i));return r&&f?t[0]:t};d&&n&&"function"==typeof u&&1!=u.length&&(c=d=!1);var f=this.__chain__,h=!!this.__actions__.length,m=a&&!f,p=c&&!h;if(!a&&d){t=p?t:new zn(this);var g=e.apply(t,i);return g.__actions__.push({func:fa,args:[l],thisArg:o}),new $n(g,f)}return m&&p?e.apply(this,i):(g=this.thru(l),m?r?g.value()[0]:g.value():g)})})),Et(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Te[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Rn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Va(o)?o:[],e)}return this[n]((function(n){return t.apply(Va(n)?n:[],e)}))}})),br(zn.prototype,(function(e,t){var n=Rn[t];if(n){var r=n.name+"";_e.call(Mn,r)||(Mn[r]=[]),Mn[r].push({name:t,func:n})}})),Mn[Ro(o,2).name]=[{name:"wrapper",func:o}],zn.prototype.clone=function(){var e=new zn(this.__wrapped__);return e.__actions__=Po(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Po(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Po(this.__views__),e},zn.prototype.reverse=function(){if(this.__filtered__){var e=new zn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},zn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Va(e),r=t<0,o=n?e.length:0,s=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var s=n[r],a=s.size;switch(s.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=yn(t,e+a);break;case"takeRight":e=gn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=s.start,i=s.end,c=i-a,u=r?i:a-1,d=this.__iteratees__,l=d.length,f=0,h=yn(c,this.__takeCount__);if(!n||!r&&o==c&&h==c)return fo(e,this.__actions__);var m=[];e:for(;c--&&f<h;){for(var p=-1,g=e[u+=t];++p<l;){var y=d[p],b=y.iteratee,v=y.type,w=b(g);if(2==v)g=w;else if(!w){if(1==v)continue e;break e}}m[f++]=g}return m},Rn.prototype.at=ha,Rn.prototype.chain=function(){return la(this)},Rn.prototype.commit=function(){return new $n(this.value(),this.__chain__)},Rn.prototype.next=function(){this.__values__===o&&(this.__values__=li(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Rn.prototype.plant=function(e){for(var t,n=this;n instanceof Un;){var r=Rs(n);r.__index__=0,r.__values__=o,t?s.__wrapped__=r:t=r;var s=r;n=n.__wrapped__}return s.__wrapped__=e,t},Rn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof zn){var t=e;return this.__actions__.length&&(t=new zn(this)),(t=t.reverse()).__actions__.push({func:fa,args:[Qs],thisArg:o}),new $n(t,this.__chain__)}return this.thru(Qs)},Rn.prototype.toJSON=Rn.prototype.valueOf=Rn.prototype.value=function(){return fo(this.__wrapped__,this.__actions__)},Rn.prototype.first=Rn.prototype.head,qe&&(Rn.prototype[qe]=function(){return this}),Rn}();lt._=mn,(r=function(){return mn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},3325:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(84051),o=n(61433);const s=({containerSelector:e,className:t,children:n})=>{const s=(0,r.li)();return s.current||(s.current=document.createElement("div")),(0,r.Nf)((()=>{const n=document.querySelector(e||"#portals");if(!n)return;const r=s.current;return t&&r.classList.add(t),n.appendChild(r),()=>{o.Ay.render(void 0,r),n.removeChild(r)}}),[t,e]),o.Ay.render(n,s.current)}},3544:(e,t,n)=>{"use strict";n.d(t,{GG:()=>h,Gn:()=>l,Su:()=>f,dS:()=>d,oL:()=>m,vs:()=>u});var r=n(23174),o=n(31481),s=n(58849),a=n(18501),i=n(86525);const c=["⠺","⠵","⠞","⠟"],u=80;function d(e,t,n,r=!1,o=u,a=!1){const i=!r&&f(t);return`${i?`${i} `:""}${m(e,t,n,(0,s.A)(l(t,n),o),a)}`}function l(e,t){const n=(0,i.WD)(e),o=(0,i.P5)(t?.story||e)?.text;if(!o)return n;const{entities:s}=e.content.text||{};if(!s?.length)return n?`${n}\n${o}`:o;const a=s.reduce(((e,{type:t,offset:n,length:o})=>{if(t!==r.C7.Spoiler)return e;const s=function(e){return new Array(e).fill(void 0).map((()=>c[Math.floor(Math.random()*c.length)])).join("")}(o);return`${e.substr(0,n)}${s}${e.substr(n+o,e.length)}`}),o);return n?`${n}\n${a}`:a}function f(e){const{photo:t,video:n,audio:r,voice:o,document:s,sticker:a,pollId:i,paidMedia:c}=e.content;return e.groupedId||t||c?"🖼":n?"📹":a?a.emoji:r?"🎧":o?"🎤":s?"📎":i?"📊":void 0}function h(e,t,n){return p(e,t,n)}function m(e,t,n,r,o=!1){return p(e,t.content,n,t,r,o)}function p(e,t,n,r,s,i=!1){const{text:c,photo:u,video:d,audio:l,voice:f,document:h,sticker:m,contact:p,invoice:g,location:y,game:b,storyData:v,giveaway:w,giveawayResults:I,paidMedia:A}=t,{poll:C}=n||{};let S,E=!1;const k=A?.isBought&&A.extendedMedia,P=A&&!A.isBought?A.extendedMedia:void 0,T=A&&A.extendedMedia.length>1,M=!T&&(k?.[0].video||P?.[0].duration),x=!T&&!M;return(r?.groupedId||T)&&(E=!0,S=s||e("lng_in_dlg_album")),(u||x)&&(E=!0,S=s||e("AttachPhoto")),(d||M)&&(E=!0,S=s||e(d?.isGif?"AttachGif":"AttachVideo")),m&&(S=e("AttachSticker").trim()),l&&(S=function(e){const{audio:t,text:n}=e;return t&&[t.title,t.performer].filter(Boolean).join(" — ")||n?.text}(t)||e("AttachMusic")),f&&(E=!0,S=s||e("AttachAudio")),h&&(E=!i,S=i?h.fileName:s||h.fileName),p&&(S=e("AttachContact")),C&&(S=(0,a.fd)({text:C.summary.question.text,entities:C.summary.question.entities,asPreview:!0})),g&&(S=g.extendedMedia?g.title:`${e("PaymentInvoice")}: ${g.description}`),c&&(i&&S&&!E?S+=`\n${s}`:S=s),"geo"!==y?.mediaType&&"venue"!==y?.mediaType||(S=e("Message.Location")),"geoLive"===y?.mediaType&&(S=e("Message.LiveLocation")),b&&(S=`🎮 ${b.title}`),w&&(S=e("BoostingGiveawayChannelStarted")),I&&(S=e("Message.GiveawayEndedWinners",I.winnersCount)),v&&(S=s||e(r?"ForwardedStory":"Chat.ReplyStory")),S||o.bVP}},4029:(e,t,n)=>{"use strict";n.d(t,{S:()=>a,a:()=>s});var r=n(13439);let o;function s(){window.addEventListener("beforeinstallprompt",(e=>{o=async()=>{e.prompt(),"accepted"===(await e.userChoice).outcome&&(0,r.ko)().setInstallPrompt({canInstall:!1})},(0,r.ko)().setInstallPrompt({canInstall:!0})}))}function a(){return o}},4262:(e,t,n)=>{"use strict";n.d(t,{AD:()=>l,I$:()=>f,Nm:()=>h,fB:()=>p,sB:()=>m});var r=n(84051),o=n(13439),s=n(90709),a=n(96454),i=n(87357),c=n(4961),u=n(96530),d=n(50805);function l(e,t,n,r,o){const{pluralValue:s,asText:a,isMarkdown:i}=o||{};return e(n?`${t}You`:t,r,{withNodes:!a,isMarkdown:i,pluralValue:s})}function f(e,t){const{audio:n,contact:r,document:o,game:a,giveaway:i,giveawayResults:c,paidMedia:u,storyData:d,invoice:l,location:f,photo:h,pollId:m,sticker:p,video:g,voice:y}=(0,s.r_)(t);return t.groupedId||u?e("ActionPinnedMediaAlbum"):h?e("ActionPinnedMediaPhoto"):n?e("ActionPinnedMediaAudio"):y?e("ActionPinnedMediaVoice"):g?.isRound?e("ActionPinnedMediaVideoMessage"):g?.isGif?e("ActionPinnedMediaGif"):g?e("ActionPinnedMediaVideo"):p?e("ActionPinnedMediaSticker"):o?e("ActionPinnedMediaFile"):r?e("ActionPinnedMediaContact"):f?e("ActionPinnedMediaLocation"):d?e("ActionPinnedMediaStory"):l?e("ActionPinnedMediaInvoice"):a?e("ActionPinnedMediaGame",{game:a.title}):m?e("ActionPinnedMediaPoll"):i?e("ActionPinnedMediaGiveaway"):c?e("ActionPinnedMediaGiveawayResults"):void 0}function h(e,t,n){return!e||n?(0,c.A)(t):r.Ay.createElement(u.A,{className:(0,i.A)(d.A.peerLink,d.A.strong),onClick:t=>{t.stopPropagation(),(0,o.ko)().openChat({id:e})},withMultilineFix:a.Yw},(0,c.A)(t))}function m(e,t,n){return n?t:r.Ay.createElement(u.A,{className:d.A.messageLink,onClick:t=>{t.stopPropagation(),(0,o.ko)().focusMessage({chatId:e.chatId,messageId:e.id})},withMultilineFix:a.Yw},t)}function p(e,t){const n="missed"===e.reason,r="busy"===e.reason||void 0===e.duration;return e.isVideo?n?t?"CallMessageVideoOutgoingMissed":"CallMessageVideoIncomingMissed":r?"CallMessageVideoIncomingDeclined":t?"CallMessageVideoOutgoing":"CallMessageVideoIncoming":n?t?"CallMessageOutgoingMissed":"CallMessageIncomingMissed":r?"CallMessageIncomingDeclined":t?"CallMessageOutgoing":"CallMessageIncoming"}},4350:(e,t,n)=>{"use strict";n.d(t,{Nv:()=>g,Ph:()=>m,Xz:()=>a,a9:()=>c,gD:()=>p,pg:()=>d,pn:()=>u,rL:()=>i,zk:()=>l});var r=n(31481),o=n(63495);const s="undefined"!=typeof WorkerGlobalScope&&globalThis.self instanceof WorkerGlobalScope?globalThis.self.name:void 0,a=(s?Number(new URLSearchParams(s).get(r.r6P)):void 0)||(o.vM?function(e){const t=new URL(e).searchParams.get(r.r6P),n=t?Number(t):1;return!n||Number.isNaN(n)||1===n?void 0:n}(globalThis.location.href):void 0),i=`${r.YAK}_${a||1}`,c=`${r.L3V}_${a||1}`,u=`${r.z2M}_${a||1}`,d=a?`${r.iJx}_${a}`:r.iJx;function l(){if(!o.vM)return{};const e={};for(let t=1;t<=r.ACj;t++){const n=f(t);n&&(e[t]=n)}return e}function f(e){const t=h(e),{userId:n,avatarUri:r,color:o,emojiStatusId:s,firstName:a,lastName:i,isPremium:c,isTest:u,phone:d}=t||{};if(n)return{userId:n,avatarUri:r,color:o,emojiStatusId:s,firstName:a,lastName:i,isPremium:c,isTest:u,phone:d}}function h(e){try{const t=JSON.parse(localStorage.getItem(`${r.um6}${e||1}`)||"{}");if(!t.dcId)return;return t}catch(e){return}}function m(e,t){const n=h(e);if(!n)return;const r={...n,...t};r.userId&&p(e,r)}function p(e,t){localStorage.setItem(`${r.um6}${e||1}`,JSON.stringify(t))}function g(e,t){const n=new URL(globalThis.location.href);return 1!==e?n.searchParams.set(r.r6P,String(e)):n.searchParams.delete(r.r6P),n.hash=t?"login":"",n.toString()}if("object"==typeof window){const e=new BroadcastChannel("tt-version");e.postMessage({version:"10.9.50"}),e.addEventListener("message",(t=>{const{version:n}=t.data;n&&(-1===y("10.9.50",n)&&window.location.reload(),1===y("10.9.50",n)&&e.postMessage({version:"10.9.50"}))}))}function y(e,t){return e.startsWith(`${t}-`)?-1:t.startsWith(`${e}-`)?1:e.localeCompare(t,void 0,{numeric:!0,sensitivity:"case",caseFirst:"upper"})}},4438:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(84051),o=n(87357),s=n(37661),a=n(17712),i=n(83057),c=n(18104);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(null,arguments)}const d=150,l=(0,r.ph)((function(e){const{size:t=d,play:n=!0,noLoop:l=!0,className:f,noTransition:h,nonInteractive:m,onLoad:p,onClick:g,...y}=e,[b,v]=(0,s.A)(!1),w=(0,i.A)(h||b),I=(0,a.A)((()=>{v(),p?.()})),[A,C]=(0,r.J0)(String(Math.random())),S=(0,a.A)((()=>{!0===n&&C(String(Math.random())),g?.()}));return r.Ay.createElement(c.A,u({className:(0,o.A)(f,w),size:t,play:!0===n?A:n,noLoop:l,onClick:m?void 0:S,onLoad:I},y))}))},4961:(e,t,n)=>{"use strict";n.d(t,{A:()=>p,o:()=>I});var r=n(84051),o=n(31481),s=n(98221),a=n(96454),i=n(87357),c=n(46275),u=n(52491),d=n(24282),l=n(87894),f=n(56362),h=n(84685);const m=/(\*\*|__).+?\1/g;function p(e,t=["emoji"],n){return"string"!=typeof e?[e]:(0,l.oE)(t.reduce(((e,t)=>{switch(t){case"escape_html":return function(e){const t=document.createElement("div");return e.reduce(((e,n)=>"string"!=typeof n?(e.push(n),e):(t.innerText=n,e.push(t.innerHTML),e)),[])}(e);case"hq_emoji":return s.A.lastIndex=0,g(e,"big","jsx");case"emoji":return s.A.lastIndex=0,g(e,"small","jsx");case"emoji_html":return s.A.lastIndex=0,g(e,"small","html");case"br":return y(e,"jsx");case"br_html":return y(e,"html");case"highlight":return o=e,a=n.highlight,o.reduce(((e,t)=>{if("string"!=typeof t||!a)return e.push(t),e;const n=t.toLowerCase().indexOf(a.toLowerCase());if(n<0)return e.push(t),e;const o=[];return o.push(t.substring(0,n)),o.push(r.Ay.createElement("span",{className:"matching-text-highlight"},t.substring(n,n+a.length))),o.push(t.substring(n+a.length)),[...e,...o]}),[]);case"links":return v(e);case"tg_links":return v(e,!0);case"simple_markdown":return w(e,"jsx",n?.markdownPostProcessor);case"simple_markdown_html":return w(e,"html")}var o,a;return e}),[e]))}function g(e,t,n){return a.TL?e:e.reduce(((e,a)=>{if("string"!=typeof a)return e.push(a),e;const c=(a=(0,d.A)(a)).split(s.A),l=a.match(s.A)||[];return e.push(c[0]),l.reduce(((e,s,a)=>{const d=(0,u.mS)(s);if(d){const a=`${o.jht?o.C1b:"."}/img-apple-${"big"===t?"160":"64"}/${d}.png`,c=(0,i.A)("emoji","small"===t&&"emoji-small");if("jsx"===n){const t=u.On.has(a);e.push(r.Ay.createElement("img",{src:a,className:`${c}${t?"":" opacity-transition slow shown"}`,alt:s,"data-path":a,draggable:!1,onLoad:t?void 0:u.P_}))}"html"===n&&e.push(`<img            draggable="false"            class="${c}"            src="${a}"            alt="${s}"          />`)}else e.push(s);const l=2*a+2;return c[l]&&e.push(c[l]),e}),e)}),[])}function y(e,t){return e.reduce(((e,n)=>{if("string"!=typeof n)return e.push(n),e;const o=n.split(/\r\n|\r|\n/g).reduce(((e,n,o,s)=>{const a=n.trimLeft(),i=n.length-a.length;return e.push(String.fromCharCode(160).repeat(i)+a),o!==s.length-1&&e.push("jsx"===t?r.Ay.createElement("br",null):"<br />"),e}),[]);return[...e,...o]}),[])}const b=new RegExp(`${o.kNZ}|${o.sXR}`,"ig");function v(e,t){return e.reduce(((e,n)=>{if("string"!=typeof n)return e.push(n),e;const o=n.match(b);if(!o||!o.length)return e.push(n),e;const s=[];let a=o.shift(),i=0;for(;a;){const e=n.indexOf(a,i);s.push(n.substring(i,e)),a.startsWith("@")?s.push(r.Ay.createElement(f.A,{username:a},a)):(a.endsWith("?")&&(a=a.slice(0,a.length-1)),!t||(0,c.zq)(a)?s.push(r.Ay.createElement(h.A,{text:a,url:a})):s.push(a)),i=e+a.length,a=o.shift()}return s.push(n.substring(i)),[...e,...s]}),[])}function w(e,t,n){const o=n||(e=>e);return e.reduce(((e,n)=>{if("string"!=typeof n)return e.push(n),e;const s=n.split(m),a=n.match(m)||[];return e.push(o(s[0])),a.reduce(((e,n,a)=>{"jsx"===t?e.push(n.startsWith("**")?r.Ay.createElement("b",null,o(n.replace(/\*\*/g,""))):r.Ay.createElement("i",null,o(n.replace(/__/g,"")))):e.push(n.startsWith("**")?`<b>${n.replace(/\*\*/g,"")}</b>`:`<i>${n.replace(/__/g,"")}</i>`);const i=2*a+2;return s[i]&&e.push(o(s[i])),e}),e)}),[])}function I(e,t){const n=(e.trim().match(/\n/g)||"").length+1,{lineHeight:r}=getComputedStyle(t),o=parseFloat(r.split("px")[0]);return t.clientHeight>=(n+1)*o}},4990:(e,t,n)=>{"use strict";var r=n(14487),o=n(99375),s=n(87894),a=n(6e4),i=n(66414),c=n(80140),u=n(57751),d=n(84553),l=n(20919),f=n(90709),h=n(13439),m=n(17872),p=n(32989),g=n(29807),y=n(30708);function b(e,t,n){const{connectionState:o}=n;e=(0,h.mS)();const a=(0,g.nTw)(e,(0,r.g0)());if("connectionStateReady"===o&&a.isMasterTab&&a.multitabNextAction&&(t[a.multitabNextAction.action](a.multitabNextAction.payload),t.clearMultitabNextAction({tabId:a.id})),o!==e.connectionState){if(e={...e,connectionState:o},(0,h.UF)(e),e.isSynced){const n=Object.values(e.byTabId).flatMap((e=>e.messageLists)).map((e=>e.chatId)).filter((t=>{const n=e.chats.byId[t];return n&&((0,f.WX)(n)||(0,f.Vs)(n))}));"connectionStateReady"===o&&n.length&&(0,s.Am)(n).forEach((e=>{t.requestChannelDifference({chatId:e})}))}"connectionStateBroken"===o&&t.signOut({forceInitApi:!0})}}(0,h.aJ)("apiUpdate",((e,t,n)=>{switch(n["@type"]){case"updateApiReady":!function(e){(0,a.wT)((0,y.l)(e).language)}(e);break;case"updateAuthorizationState":!function(e,t){const n="authorizationStateReady"===(e=(0,h.mS)()).authState,r=t.authorizationState;switch(e={...e,authState:r,authIsLoading:!1},(0,h.UF)(e),e=(0,h.mS)(),r){case"authorizationStateLoggingOut":(0,d.nv)(!1),e={...e,isLoggingOut:!0},(0,h.UF)(e);break;case"authorizationStateWaitCode":e={...e,authIsCodeViaApp:t.isCodeViaApp},(0,h.UF)(e);break;case"authorizationStateWaitPassword":e={...e,authHint:t.hint},t.noReset&&(e={...e,hasWebAuthTokenPasswordRequired:!0}),(0,h.UF)(e);break;case"authorizationStateWaitQrCode":e={...e,authIsLoadingQrCode:!1,authQrCode:t.qrCode},(0,h.UF)(e);break;case"authorizationStateReady":if(n)break;(0,d.nv)(!0),e={...e,isLoggingOut:!1},Object.values(e.byTabId).forEach((({id:t})=>{e=(0,p.w)(e,{isInactive:!1},t)})),(0,h.UF)(e)}}(e,n);break;case"updateAuthorizationError":!function(e,t){(e={...e}).authErrorKey=t.errorKey,(0,h.UF)(e)}(e,n);break;case"updateWebAuthTokenFailed":!function(e){(0,i.fY)(),e=(0,h.mS)(),e={...e,hasWebAuthTokenFailed:!0},(0,h.UF)(e)}(e);break;case"updateConnectionState":b(e,t,n);break;case"updateSession":!function(e,t,n){const{sessionData:r}=n,{authRememberMe:o,authState:s}=e,a=!r||!r.mainDcId,i=r?.isTest;i&&(e={...e,config:{...e.config,isTestServer:i}},(0,h.UF)(e)),o&&"authorizationStateReady"===s&&!a&&t.saveSession({sessionData:r})}(e,t,n);break;case"updateServerTimeOffset":!function(e){(0,c.SH)(e.serverTimeOffset)}(n);break;case"updateCurrentUser":(0,l.Qe)(n.currentUser.id),function(e,t){const{currentUser:n,currentUserFullInfo:r}=t;e={...(0,m.TKu)(e,n.id,n),currentUserId:n.id},e=(0,m.weB)(e,n.id,r),(0,h.UF)(e),(0,u.id)(n.id)}(e,n);break;case"requestReconnectApi":e={...e,isSynced:!1},(0,h.UF)(e),b(e,t,{"@type":"updateConnectionState",connectionState:"connectionStateConnecting"}),t.initApi();break;case"requestSync":t.sync();break;case"updateFetchingDifference":e={...e,isFetchingDifference:n.isFetching},(0,h.UF)(e);break;case"error":Object.values(e.byTabId).forEach((({id:e})=>{const r=(0,o.zr)(n.error);r?t.addPaymentError({error:r,tabId:e}):(0,o.Dd)(n.error)?t.closePaymentModal({tabId:e}):t.showDialog&&t.showDialog({data:n.error,tabId:e})}));break;case"notSupportedInFrozenAccount":t.showNotification({title:{key:"NotificationTitleNotSupportedInFrozenAccount"},message:{key:"NotificationMessageNotSupportedInFrozenAccount"},tabId:(0,r.g0)()})}}))},5056:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(14487);function o(e,...[t=(0,r.g0)()]){return e.byTabId[t]}},5560:(e,t,n)=>{"use strict";n.d(t,{Ac:()=>_,B1:()=>B,BA:()=>P,DJ:()=>D,Kz:()=>R,M2:()=>A,Mi:()=>j,Oq:()=>O,al:()=>N,wC:()=>T,xe:()=>M});var r=n(84051),o=n(13439),s=n(23174),a=n(31481),i=n(90709),c=n(27109),u=n(70636),d=n(29807),l=n(24021),f=n(96454),h=n(6842),m=n(87894),p=n(58554),g=n(6e4),y=n(37836),b=n(80140),v=n(18653);function w(e){const t=e.toJSON();return JSON.stringify({endpoint:t.endpoint,keys:t.keys})}function I(){return!(!f.Tz||f.cp||("showNotification"in ServiceWorkerRegistration.prototype?"denied"===Notification.permission?(a.Oig&&console.warn("[PUSH] The user has blocked push notifications."),1):!("PushManager"in window)&&(a.Oig&&console.warn("[PUSH] Push messaging isn't supported."),1):(a.Oig&&console.warn("[PUSH] Push notifications aren't supported."),1)))}function A(){return"Notification"in window?"denied"!==Notification.permission||(a.Oig&&console.warn("[PUSH] The user has blocked push notifications."),!1):(a.Oig&&console.warn("[PUSH] This browser does not support desktop notification"),!1)}const C=432e5,S=3e3,E=new Set,k=new Audio("./notification.mp3");async function P(e,t){if(void 0!==e&&E.has(e))return;const{notificationSoundVolume:n}=(0,d.eCL)((0,o.mS)()),r=t?t/10:n/10;if(0!==r){k.volume=r,void 0!==e&&(k.addEventListener("ended",(()=>{E.add(e)}),{once:!0}),setTimeout((()=>{E.delete(e)}),S));try{await k.play()}catch(e){a.Oig&&console.warn("[PUSH] Unable to play notification sound")}}}k.setAttribute("mozaudiochannel","notification");const T=(0,y.sg)(P,1e3,!0,!1);async function M(){if(!("Notification"in window))return!1;let e=Notification.permission;return["granted","denied"].includes(e)||(e=await Notification.requestPermission()),"granted"===e}async function x(e){const t=(0,o.mS)(),{deleteDeviceToken:n}=(0,o.ko)();if(e)try{const t=w(e);return await(0,l.px)("unregisterDevice",t),await e.unsubscribe(),void n()}catch(e){a.Oig&&console.log("[PUSH] Unable to unsubscribe from push.",e)}t.push&&(await(0,l.px)("unregisterDevice",t.push.deviceToken),n())}async function N(){if(!I())return;const e=await navigator.serviceWorker.ready,t=await e.pushManager.getSubscription();await x(t)}let L=!1;function _(){return L}async function B(){const{setDeviceToken:e,updateWebNotificationSettings:t}=(0,o.ko)();let n=!1,r=!1;if(!I())return n=await M(),void t({hasWebNotifications:n,hasPushNotifications:r});const s=await navigator.serviceWorker.ready;let i=await s.pushManager.getSubscription();if(function(e){const t=(0,o.mS)();return!t.push||!e||w(e)!==t.push.deviceToken||Date.now()-t.push.subscribedAt>C}(i)){await x(i);try{i=await s.pushManager.subscribe({userVisibleOnly:!0});const t=w(i);a.Oig&&console.log("[PUSH] Received push subscription: ",t),await(0,l.px)("registerDevice",t),e(t),r=!0,n=!0}catch(e){"denied"===Notification.permission?a.Oig&&console.warn("[PUSH] The user has blocked push notifications."):(a.Oig&&console.log("[PUSH] Unable to subscribe to push.",e),[DOMException.ABORT_ERR,DOMException.NOT_SUPPORTED_ERR].includes(e.code)&&(L=!0,n=await M()))}t({hasWebNotifications:n,hasPushNotifications:r})}}async function F(e){const t=(0,i.cP)(e);if(!t)return;let n=p.Ih(t);return n||(await p.hd(t,s.qZ.BlobUrl),n=p.Ih(t)),n}async function D({call:e,user:t}){const{hasWebNotifications:n}=(0,d.eCL)((0,o.mS)());if(document.hasFocus()||!n)return;if(!A())return;const r=await F(t),s={body:(0,i.Yg)(t),icon:r,badge:r,tag:`call_${e.id}`};"vibrate"in navigator&&(s.vibrate=[200,100,200]);const a=new Notification((0,g.yE)("VoipIncoming"),s);a.onclick=()=>{a.close(),window.focus&&window.focus()}}async function O({chat:e,message:t,isReaction:n=!1}){const s=(0,o.mS)(),{hasWebNotifications:p}=(0,d.eCL)(s);if(!function(e,t){const n=(0,o.mS)(),r=(0,c.If)(e,(0,d.K52)(n),(0,d.P5N)(n,e.id)),s=(0,d.nkm)(n,t),a=s?.notifySettings.mutedUntil,i=void 0===a?r:a>(0,b.Fm)(),u=t.isMentioned,l="phoneCall"!==t.content?.action?.type;if(i&&!u||!l||e.isNotJoined||!e.isListed||(0,d.nZ4)(n,e.id))return!1;if(f.TF){const{chatId:t,type:r}=(0,d.Xf0)(n)||{};return!(t===e.id&&"thread"===r)}return!document.hasFocus()}(e,t))return;const y=(0,c.sh)(e,(0,d.K52)((0,o.mS)()),(0,d.P5N)((0,o.mS)(),e.id)),w=(0,d.nkm)(s,t),C=void 0===w?.notifySettings.hasSound?y:!w.notifySettings.hasSound,S=A();if(!p||!S)return void(C||t.isSilent||n||f.cp||T(String(t.id)||e.id));if(!S)return;if(!t.id)return;const E=(0,i.cU)(t);if(n&&!E)return;n&&E&&"custom"===E.reaction.type&&await async function(e){let t=(0,o.mS)();if(t.customEmojis.byId[e])return;const n=await(0,l.px)("fetchCustomEmoji",{documentId:[e]});n&&(t=(0,o.mS)(),t={...t,customEmojis:{...t.customEmojis,byId:{...t.customEmojis.byId,...(0,m.dU)(n,"id")}}},(0,o.UF)(t))}(E.reaction.documentId);const k=await F(e),{title:P,body:M}=function(e,t,n){const s=(0,o.mS)();let{senderId:l}=t;const f=Boolean(n);f&&(l=n.peerId);const{isScreenLocked:m}=s.passcode,p=l?(0,d.hds)(s,l):void 0,y=l?(0,d.mBe)(s,l):void 0,b=(0,i.e7)(e)===s.currentUserId;let w;if(!m&&(0,c.o3)(e,(0,d.K52)(s),(0,d.P5N)(s,e.id))){const s=e&&((0,i.WX)(e)||t.senderId===t.chatId),a=(0,u.Q5)(g.yE,e.id,s?p:y);let c=(0,h.A)(r.Ay.createElement("span",null,r.Ay.createElement(v.A,{message:t})))[0].textContent||"";if(f){const e=function(e){let t;return"emoji"===e.reaction.type&&(t=e.reaction.emoticon),"custom"===e.reaction.type&&(t=(0,o.mS)().customEmojis.byId[e.reaction.documentId]?.emoji),t||"❤️"}(n);c=(0,g.yE)("PushReactText",[e,c])}w=a?`${a}: ${c}`:c}else w="New message";let I=m?a.C39:(0,i.Js)(g.yE,e,b);return t.isSilent&&(I+=" 🔕"),{title:I,body:w}}(e,t,E);if(I())navigator.serviceWorker?.controller&&navigator.serviceWorker.controller.postMessage({type:"showMessageNotification",payload:{title:P,body:M,icon:k,chatId:e.id,messageId:t.id,shouldReplaceHistory:!0,isSilent:C||t.isSilent,reaction:E?.reaction}});else{const r=(0,o.ko)(),s={body:M,icon:k,badge:k,tag:String(t.id)};"vibrate"in navigator&&(s.vibrate=[200,100,200]);const a=new Notification(P,s);a.onclick=()=>{a.close(),r.focusMessage({chatId:e.id,messageId:t.id,shouldReplaceHistory:!0}),window.focus&&window.focus()},a.onshow=()=>{n||t.isSilent||f.cp||T(String(t.id)||e.id)}}}function R(e){!a.W75&&navigator.serviceWorker?.controller&&navigator.serviceWorker.controller.postMessage({type:"closeMessageNotifications",payload:e})}function j(){navigator.serviceWorker?.controller&&navigator.serviceWorker.controller.postMessage({type:"clientReady"})}},5718:(e,t,n)=>{"use strict";n.d(t,{R:()=>s});var r=n(84051),o=n(22237);function s(e,t){const n=(0,r.li)(!0);n.current&&(n.current=!1,t?.forEach((t=>{(0,o.Hp)(t)&&t.subscribe(e)}))),(0,r._W)((()=>{(0,o.cO)(e)}))}},5912:(e,t,n)=>{"use strict";n.d(t,{BL:()=>c,Vz:()=>d,mv:()=>u});var r=n(84051),o=n(46536),s=n(37836),a=n(84080),i=n(17712);function c({rootRef:e,throttleMs:t,throttleScheduler:n,debounceMs:c,shouldSkipFirst:u,margin:d,threshold:l,isDisabled:f},h){const m=(0,r.li)(),p=(0,r.li)(),g=(0,r.li)(0),y=(0,r.li)();p.current=h;const b=(0,i.A)((()=>{g.current++})),v=(0,i.A)((()=>{g.current&&(g.current--,!g.current&&y.current&&(y.current(),y.current=void 0))}));return(0,a.Ay)(b,v),(0,r.vJ)((()=>{if(!f)return()=>{m.current&&(m.current.observer.disconnect(),m.current.destroy(),m.current=void 0)}}),[f]),{observe:(0,i.A)(((r,a)=>{m.current||function(){const r=new Map,a=new Map;let i;function f(){if(g.current)return void(y.current=i);const e=Array.from(a.values());e.forEach((e=>{const t=r.get(e.target);t?.runCallbacks(e)})),p.current&&p.current(e),a.clear()}i="function"==typeof n?(0,s.nb)(n,f):t?(0,s.nF)(f,t,!u):c?(0,s.sg)(f,c,!u):f;const h=new IntersectionObserver((e=>{e.forEach((e=>{a.set(e.target,e)})),g.current?y.current=i:i()}),{root:e.current,rootMargin:d?`${d}px`:void 0,threshold:l});m.current={observer:h,addCallback:function(e,t){r.get(e)||r.set(e,(0,o.h)()),r.get(e).addCallback(t)},removeCallback:function(e,t){const n=r.get(e);n&&(n.removeCallback(t),n.hasCallbacks()||r.delete(e))},destroy:function(){r.clear(),h.disconnect(),a.clear()}}}();const i=m.current;return i.observer.observe(r),a&&i.addCallback(r,a),()=>{a&&i.removeCallback(r,a),i.observer.unobserve(r)}})),freeze:b,unfreeze:v}}function u(e,t,n){const o=(0,i.A)(n);(0,r.vJ)((()=>t?t(e.current,o):void 0),[o,t,e])}function d(e,t,n){const[o,s]=(0,r.J0)(!t);return u(e,t,(e=>{s(e.isIntersecting),n&&n(e)})),o}},5930:(e,t,n)=>{"use strict";function r(e,t){if(e===t)return!0;const n=Object.keys(e),r=n.length;if(r!==Object.keys(t).length)return!1;if(0===r)return!0;for(let o=0;o<r;o++){const r=n[o];if(e[r]!==t[r])return!1}return!0}function o(e,t,n,r=""){const o=Object.keys(e);o.length===Object.keys(t).length?(console.log(n),o.forEach((n=>{e[n]!==t[n]&&console.log(r,n,":",e[n],"=>",t[n])}))):console.log(`${n} LENGTH`)}n.d(t,{A:()=>r,q:()=>o})},6842:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(61433);function o(e){const t=document.createElement("div");r.Ay.render(e,t);const n=Array.from(t.children);return r.Ay.render(void 0,t),n}},8718:(e,t,n)=>{"use strict";n.d(t,{By:()=>g,Mb:()=>l,OV:()=>h,VK:()=>m,qF:()=>p});var r=n(37836),o=n(22237),s=n(66644);const a=1e3;let i=0,c=0;const[u,d]=(0,o.n5)(!1),[l,f]=(0,o.n5)(!1),h=u;function m(e=a,t=!1){i++,1===i&&d(!0),t&&(c++,1===c&&f(!0));const n=window.setTimeout(o,e);let r=!1;function o(){r||(r=!0,clearTimeout(n),i--,0===i&&d(!1),t&&(c--,0===c&&f(!1)))}return o}function p(e){(0,r.kI)((()=>{u()?(0,s.YS)((()=>{p(e)})):e()}))}function g(e){return(0,r.nb)(p,e)}},8805:(e,t,n)=>{"use strict";n.r(t),n.d(t,{callApi:()=>$,callApiLocal:()=>U,callApiOnMasterTab:()=>R,cancelApiProgress:()=>z,cancelApiProgressMaster:()=>V,handleMethodCallback:()=>G,handleMethodResponse:()=>H,initApi:()=>F,initApiOnMasterTab:()=>x,setShouldEnableDebugLog:()=>j,updateFullLocalDb:()=>O,updateLocalDb:()=>D});var r=n(31481),o=n(90709),s=n(61182),a=n(9705),i=n(14487),c=n(14235),u=n(4350),d=n(37836),l=n(13439),f=n(29807),h=n(9390),m=n(97676);const p=class{static add(e){console.log("[ChatAIMessageQuene] add",e.id);const t=(0,l.mS)();if(e.content.text){const n=e.chatId,r=(0,f.hds)(t,n),s=(0,o.DX)(n)?void 0:(0,f.yps)(t,n);if(r&&!s){const{isRestricted:t}=r;e.isOutgoing||t||((0,o.YE)(r)&&!e.isMentioned||h.n.addNewMessage(e),m.J.addNewMessage(e))}}}};var g=n(60160),y=n(72531);const b=150,v=5e3,w=new Set(["destroy"]);let I;const A=new Map,C=new Map;let S=[];const E={chats:{},users:{},documents:{},stickerSets:{},photos:{},webDocuments:{},commonBoxState:{},channelPtsById:{}};let k=!0;(0,i.wr)((e=>{k=e}));const P=new BroadcastChannel(u.rL),T=(0,d.Fe)((()=>{const e=S;S=[],I?.postMessage({payloads:e})}));function M(e){S.push(e),T()}function x(e){P.postMessage({type:"initApi",token:(0,i.g0)(),initialArgs:e})}let N,L=[],_=[],B=!1;function F(e,t){if(N=e,!k)return x(t),Promise.resolve();if(!I){r.Oig&&console.log(">>> START LOAD WORKER");const o=new URLSearchParams;u.Xz&&o.set("account",String(u.Xz)),I=new Worker(new URL(n.p+n.u(4878),n.b),{name:o.toString()}),function(e){I?.addEventListener("message",(({data:t})=>{t?.payloads.forEach((t=>{if("updates"===t.type){let n;if(r.Oig&&(n=performance.now()),t.updates.forEach(W),t.updates.forEach(e),r.Oig){const e=performance.now()-n;e>5&&console.warn(`[API] Slow updates processing: ${t.updates.length} updates in ${e} ms`)}}else if("methodResponse"===t.type)H(t);else if("methodCallback"===t.type)G(t);else{if("unhandledError"===t.type){const e=t.error?.message;if(e&&r.LWg.has(e))return;throw new Error(e)}"sendBeacon"===t.type?navigator.sendBeacon(t.url,t.data):"debugLog"===t.type&&(0,s.bO)(t.level,...t.args)}}))}))}(e),"iOS"===t.platform&&window.addEventListener("focus",(()=>{q(),setTimeout((()=>q()),1e3)}))}return J({type:"initApi",args:[t,E]}).then((()=>{B=!0,_.forEach((e=>{$(e.fnName,...e.args).then(e.deferred.resolve).catch(e.deferred.reject)})),_=[],L.forEach((e=>{U(e.fnName,...e.args).then(e.deferred.resolve).catch(e.deferred.reject)})),L=[]}))}function D(e,t,n){E[e][t]=n}function O(e){Object.assign(E,e)}function R(e){P.postMessage({type:"callApi",token:(0,i.g0)(),...e})}function j(e){return J({type:"toggleDebugMode",isEnabled:e})}function U(e,...t){if(!B){if(w.has(e))return Promise.resolve(void 0);const n=new a.A;return L.push({fnName:e,args:t,deferred:n}),n.promise}const n=J({type:"callMethod",name:e,args:t});return r.Oig&&(async()=>{try{await n}catch(e){}})(),n}function $(e,...t){if(!B&&k){if(w.has(e))return Promise.resolve(void 0);const n=new a.A;return _.push({fnName:e,args:t,deferred:n}),n.promise}const n=k?J({type:"callMethod",name:e,args:t}):function(e){const t=(0,c.A)(),n={messageId:t,...e},r={messageId:t},o=new Promise(((e,t)=>{Object.assign(r,{resolve:e,reject:t})}));if("args"in n&&"name"in n&&"function"==typeof n.args[1]){n.withCallback=!0;const e=n.args.pop();r.callback=e,C.set(e,r)}return A.set(t,r),o.catch((()=>{})).finally((()=>{A.delete(t),r.callback&&C.delete(r.callback)})),R(n),o}({name:e,args:t});return r.Oig&&(async()=>{try{await n}catch(e){}})(),n}function z(e){e.isCanceled=!0;const{messageId:t}=C.get(e)||{};t&&(k?V(t):P.postMessage({type:"cancelApiProgress",token:(0,i.g0)(),messageId:t}))}function V(e){M({type:"cancelProgress",messageId:e})}function W(e){if("newMessage"===e["@type"]&&e.message&&(0,o.XR)(e.message)){y.A.emit(y.E.NewTextMessage,{message:e.message}),p.add(e.message);const{date:t,id:n,senderId:r,chatId:s}=e.message,a=e.message?.content?.text?.text;if(s&&a){const e=(0,o.L8)(s)?"private":"group";g.Ag.addText(a,String(n),{chatId:s,senderId:r,messageId:n,timestamp:t,chatType:e,date:t?new Date(1e3*t).toISOString().split("T")[0]:"0"})}}}function H(e){const t=A.get(e.messageId);t&&(e.error?t.reject(e.error):t.resolve(e.response))}function G(e){A.get(e.messageId)?.callback?.(...e.callbackArgs)}function J(e){const t=(0,c.A)(),n={messageId:t,...e},r={messageId:t},o=new Promise(((e,t)=>{Object.assign(r,{resolve:e,reject:t})}));if("args"in n&&"name"in n&&"function"==typeof n.args[1]){n.withCallback=!0;const e=n.args.pop();r.callback=e,C.set(e,r)}return r.DEBUG_payload=n,A.set(t,r),o.catch((()=>{})).finally((()=>{A.delete(t),r.callback&&C.delete(r.callback)})),M(n),o}const K=Date.now();async function q(){let e=!1;try{await Promise.race([J({type:"ping"}),(0,d.v7)(b).then((()=>e?void 0:Promise.reject(new Error("HEALTH_CHECK_TIMEOUT"))))])}catch(e){console.error(e),Date.now()-K>=v&&(I?.terminate(),I=void 0,N({"@type":"requestReconnectApi"}))}finally{e=!0}}},9267:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(84051),o=n(87357),s=n(14745);const a={root:"qEhgJEpm",middle:"GjxPnwZR",big:"HRLrnZvQ",adaptive:"ebO2WJkv",svg:"lbK6aMGA",clickable:"hqg1cKl7"},i="M6.63869 12.1902L3.50621 14.1092C3.18049 14.3087 2.75468 14.2064 2.55515 13.8807C2.45769 13.7216 2.42864 13.5299 2.47457 13.3491L2.95948 11.4405C3.13452 10.7515 3.60599 10.1756 4.24682 9.86791L7.6642 8.22716C7.82352 8.15067 7.89067 7.95951 7.81418 7.80019C7.75223 7.67116 7.61214 7.59896 7.47111 7.62338L3.66713 8.28194C2.89387 8.41581 2.1009 8.20228 1.49941 7.69823L0.297703 6.69116C0.00493565 6.44581 -0.0335059 6.00958 0.211842 5.71682C0.33117 5.57442 0.502766 5.48602 0.687982 5.47153L4.35956 5.18419C4.61895 5.16389 4.845 4.99974 4.94458 4.75937L6.36101 1.3402C6.5072 0.987302 6.91179 0.819734 7.26469 0.965925C7.43413 1.03612 7.56876 1.17075 7.63896 1.3402L9.05539 4.75937C9.15496 4.99974 9.38101 5.16389 9.6404 5.18419L13.3322 5.47311C13.713 5.50291 13.9975 5.83578 13.9677 6.2166C13.9534 6.39979 13.8667 6.56975 13.7269 6.68896L10.9114 9.08928C10.7131 9.25826 10.6267 9.52425 10.6876 9.77748L11.5532 13.3733C11.6426 13.7447 11.414 14.1182 11.0427 14.2076C10.8642 14.2506 10.676 14.2208 10.5195 14.1249L7.36128 12.1902C7.13956 12.0544 6.8604 12.0544 6.63869 12.1902Z";function c({randomId:e}){const t=`${e}-mask1`,n=`${e}-mask2`,o=`${e}-gradient1`,s=`${e}-gradient2`,i=`${e}-gradient3`;return r.Ay.createElement("svg",{className:a.svg,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},r.Ay.createElement("g",{"clip-path":"url(#clip0_4913_7387)"},r.Ay.createElement("mask",{id:t,style:"mask-type:luminance",maskUnits:"userSpaceOnUse",x:"-2",y:"-2",width:"24",height:"24"},r.Ay.createElement("path",{d:"M21.416 -1.42493H-1.08398V21.0751H21.416V-1.42493Z",fill:"white"})),r.Ay.createElement("g",{mask:`url(#${t})`},r.Ay.createElement("mask",{id:n,style:"mask-type:luminance",maskUnits:"userSpaceOnUse",x:"-2",y:"-2",width:"24",height:"24"},r.Ay.createElement("path",{d:"M-1.08398 -1.42493H21.416V21.0751H-1.08398V-1.42493Z",fill:"white"})),r.Ay.createElement("g",{mask:`url(#${n})`},r.Ay.createElement("path",{d:"M7.26843 6.25162L9.28943 2.22541C9.52311 1.76121 10.0884 1.5749 10.5494 1.80857C10.7294 1.90015 10.8747 2.04857 10.9662 2.23172L12.8767 6.11583C13.0314 6.43477 13.3378 6.64951 13.6883 6.69056L17.6829 7.17055C18.2261 7.23686 18.6145 7.73264 18.5513 8.27894C18.5229 8.50314 18.4218 8.71156 18.2608 8.86945L15.0998 11.9862C14.9703 12.1125 14.9103 12.2894 14.9324 12.4694L15.4598 16.6756C15.5356 17.2787 15.1093 17.8282 14.5093 17.904C14.2819 17.9324 14.0546 17.8913 13.8525 17.7808L10.5147 15.9556C10.2715 15.823 9.98099 15.8198 9.73784 15.9461L6.27687 17.7208C5.79057 17.9703 5.1969 17.7745 4.94743 17.285C4.8527 17.1019 4.82112 16.8966 4.84954 16.6945L5.12427 14.7619C5.26006 13.8177 5.84425 12.9967 6.69055 12.5641L10.5305 10.6031C10.6315 10.5526 10.6726 10.4263 10.622 10.322C10.581 10.2431 10.4957 10.1957 10.4073 10.2084L5.70847 10.8841C4.99164 10.9852 4.26535 10.7831 3.7001 10.322L2.13698 9.04629C1.69173 8.68314 1.6191 8.02 1.98225 7.57159C2.15277 7.36317 2.39592 7.22739 2.66118 7.19265L6.6716 6.67793C6.92739 6.64319 7.15159 6.4853 7.26843 6.25162Z",fill:`url(#${o})`}),r.Ay.createElement("path",{d:"M10.8242 2.9422C10.4168 2.85062 9.98417 3.0464 9.78839 3.43797L7.76423 7.46419C7.64739 7.69787 7.42634 7.85576 7.1674 7.89049L3.15698 8.40837C2.89804 8.44311 2.6612 8.56942 2.49384 8.76837L3.97801 9.98097C4.44537 10.3631 5.05167 10.5304 5.64849 10.4452L10.3442 9.77255C10.6221 9.73466 10.8936 9.8736 11.0168 10.1231C11.1778 10.442 11.0515 10.8336 10.7326 10.9978L9.50734 11.623L10.9031 11.4209C10.9915 11.4083 11.0799 11.4557 11.1178 11.5346C11.1715 11.6388 11.1273 11.7651 11.0263 11.8157L7.18635 13.7767C6.34006 14.2093 5.75586 15.0303 5.62007 15.9745L5.44008 17.2282C5.60428 17.3924 5.86322 17.4366 6.07796 17.326L9.53261 15.5514C9.90839 15.3587 10.3536 15.365 10.7231 15.5671L14.0609 17.3924C14.1809 17.4587 14.3199 17.4839 14.4556 17.4682C14.8093 17.4239 15.0651 17.0955 15.0209 16.7324L14.4967 12.523C14.4588 12.2072 14.5662 11.8946 14.7904 11.6736L17.9513 8.55679C18.005 8.50311 18.0461 8.43995 18.0745 8.37048L14.1841 7.90312C13.8336 7.86207 13.5304 7.64418 13.3725 7.3284L13.2209 7.01578C12.902 6.87683 12.6399 6.63052 12.482 6.31159L10.8242 2.9422Z",fill:`url(#${s})`}),r.Ay.createElement("path",{d:"M10.7484 1.41397C10.0663 1.06977 9.23893 1.3445 8.89789 2.02659L6.87373 6.05596C6.8232 6.15701 6.72531 6.22649 6.61478 6.23912L2.60436 6.757C2.22542 6.80437 1.87806 7.00015 1.63807 7.29699C1.12334 7.93486 1.22124 8.86958 1.85596 9.38746L3.42223 10.6664C4.08222 11.2032 4.93167 11.44 5.77165 11.32L9.09051 10.8432L6.48847 12.1727C5.51271 12.6716 4.84325 13.6126 4.68852 14.6989L4.41063 16.6315C4.36958 16.9252 4.41695 17.222 4.55273 17.4873C4.90956 18.1915 5.77481 18.4725 6.479 18.1125L9.93681 16.3378C10.0505 16.2778 10.1863 16.281 10.3 16.3441L13.6378 18.1662C13.9188 18.3209 14.2441 18.3841 14.563 18.343C15.4061 18.2357 15.9998 17.462 15.8956 16.622L15.3714 12.4126C15.3651 12.3716 15.3809 12.3274 15.4093 12.299L18.5703 9.1822C18.8008 8.95168 18.9492 8.65169 18.9871 8.32959C19.0787 7.5433 18.5229 6.82963 17.7366 6.73489L13.7388 6.25491C13.5399 6.2328 13.363 6.10649 13.2715 5.92334L11.3641 2.03606C11.2315 1.76765 11.0136 1.54976 10.7484 1.41397ZM9.68418 2.42132C9.80734 2.17501 10.1073 2.07712 10.3505 2.20027C10.4452 2.24764 10.5242 2.32974 10.5715 2.42763L12.482 6.31175C12.7031 6.76332 13.1357 7.06962 13.6346 7.12962L17.6324 7.60961C17.9324 7.64435 18.1471 7.91908 18.1124 8.22538C18.0966 8.3517 18.0398 8.46854 17.9513 8.55695L14.7904 11.6737C14.5662 11.8948 14.4588 12.2074 14.4967 12.5232L15.0209 16.7325C15.0651 17.0957 14.8093 17.4241 14.4556 17.4683C14.3199 17.4841 14.1809 17.4588 14.0609 17.3925L10.7231 15.5673C10.3536 15.3652 9.90839 15.362 9.53261 15.5547L6.0748 17.3294C5.80638 17.4652 5.47797 17.3578 5.33903 17.0862C5.2885 16.9852 5.26956 16.8683 5.28534 16.7546L5.56007 14.8252C5.67376 14.0231 6.17269 13.3253 6.88952 12.959L10.7294 10.9979C11.0515 10.8337 11.1778 10.4422 11.0168 10.1232C10.8905 9.87376 10.6221 9.73482 10.3442 9.77271L5.64534 10.4453C5.04851 10.5306 4.44537 10.3632 3.97801 9.98113L2.41489 8.70221C2.15595 8.49064 2.1149 8.10854 2.32647 7.8496C2.42436 7.72961 2.56331 7.65066 2.71488 7.63171L6.72531 7.11383C7.12951 7.06331 7.48003 6.81384 7.66318 6.45069L9.68418 2.42132Z",fill:`url(#${i})`})))),r.Ay.createElement("defs",null,r.Ay.createElement("linearGradient",{id:o,x1:"10.1547",y1:"1.70752",x2:"10.1547",y2:"17.9134",gradientUnits:"userSpaceOnUse"},r.Ay.createElement("stop",{"stop-color":"#FFF0C2"}),r.Ay.createElement("stop",{offset:"1","stop-color":"#FFEBBA"})),r.Ay.createElement("linearGradient",{id:s,x1:"10.2842",y1:"2.92009",x2:"14.7304",y2:"17.4713",gradientUnits:"userSpaceOnUse"},r.Ay.createElement("stop",{"stop-color":"#FFD147"}),r.Ay.createElement("stop",{offset:"1","stop-color":"#FFB526"})),r.Ay.createElement("linearGradient",{id:i,x1:"10.1547",y1:"1.26556",x2:"14.0546",y2:"18.3525",gradientUnits:"userSpaceOnUse"},r.Ay.createElement("stop",{"stop-color":"#E58F0D"}),r.Ay.createElement("stop",{offset:"1","stop-color":"#EB7814"})),r.Ay.createElement("clipPath",{id:"clip0_4913_7387"},r.Ay.createElement("rect",{width:"20",height:"20",fill:"white"}))))}function u({randomId:e}){return r.Ay.createElement("svg",{className:a.svg,width:"14",height:"15",viewBox:"0 0 14 15",fill:"none"},r.Ay.createElement("defs",null,r.Ay.createElement("linearGradient",{id:e,x1:"3",y1:"63.5001",x2:"84.1475",y2:"-1.32262",gradientUnits:"userSpaceOnUse"},r.Ay.createElement("stop",{"stop-color":"#6B93FF"}),r.Ay.createElement("stop",{offset:"0.439058","stop-color":"#976FFF"}),r.Ay.createElement("stop",{offset:"1","stop-color":"#E46ACE"}))),r.Ay.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:i,fill:`url(#${e})`}))}function d(){return r.Ay.createElement("svg",{className:a.svg,width:"14",height:"15",viewBox:"0 0 14 15",fill:"none"},r.Ay.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:i,fill:"var(--color-fill)"}))}const l=(0,r.ph)((({type:e="regular",size:t="small",className:n,style:i,onClick:l})=>{const f=`svg-${(0,s.A)()}`;return r.Ay.createElement("i",{onClick:l,className:(0,o.A)("StarIcon",a.root,n,l&&a.clickable,a[t]),style:i},(()=>{switch(e){case"gold":return r.Ay.createElement(c,{randomId:f});case"premium":return r.Ay.createElement(u,{randomId:f});default:return r.Ay.createElement(d,null)}})())}))},9390:(e,t,n)=>{"use strict";n.d(t,{n:()=>c});var r=n(13439),o=n(52683),s=n(60160);function a(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class i{constructor(){a(this,"pendingMessages",[]),a(this,"timmer",void 0)}initTask(){this.timmer&&clearInterval(this.timmer),this.timmer=setInterval((()=>{this.intelligentResponse()}),1e4)}static getTextWithoutEntities(e,t){const n=t.map((e=>({start:e.offset,length:e.length}))).sort(((e,t)=>t.start-e.start));for(const{start:t,length:r}of n)e=e.slice(0,t)+e.slice(t+r);return e}intelligentResponse(){this.pendingMessages&&(this.pendingMessages.map((e=>({chatId:e.chatId,senderId:e.senderId,messageId:e.id,content:e.content.text?.text,entities:e.content.text?.entities}))).map((async e=>{const{chatId:t,messageId:n,entities:a}=e;let c=e.content||"";if(c){a&&a?.length>0&&(c=i.getTextWithoutEntities(c,a));const e=await s.Xt.similaritySearch({query:c});if(e.similarItems){const s=e.similarItems[0];if(s&&s.score>.8){const e=-1,a={type:"message",replyToMsgId:n,replyToPeerId:void 0};(0,r.ko)().saveReplyDraft({chatId:t,threadId:e,draft:{replyInfo:a},isLocalOnly:!0}),(0,r.ko)().sendMessage({messageList:{chatId:t,threadId:e,type:"thread"},text:s.metadata.answer}),(0,r.ko)().clearDraft({chatId:t,isLocalOnly:!0}),(0,o.J)("intelligent_reply")}}}})),this.clearPendingMessages())}addNewMessage(e){this.pendingMessages.push(e)}clearPendingMessages(){this.pendingMessages=[]}getPendingMessages(){return this.pendingMessages}static getInstance(){return i.instance||(i.instance=new i),i.instance}}a(i,"instance",void 0);const c=i.getInstance()},9705:(e,t,n)=>{"use strict";function r(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>o});class o{constructor(){r(this,"promise",void 0),r(this,"reject",void 0),r(this,"resolve",void 0),this.promise=new Promise(((e,t)=>{this.reject=t,this.resolve=e}))}static resolved(e){const t=new o;return t.resolve(e),t}}},9935:(e,t,n)=>{"use strict";n.d(t,{f:()=>u,iB:()=>h,q2:()=>c,xE:()=>d});var r=n(31481);const o=new Set(["scroll","mouseenter","mouseleave","load","error"]),s={},a={},i=new Map;function c(e,t,n,r=!1){const o=d(t,e);l(o,e,r)?function(e,t,n){s[e]||(s[e]=0,document.addEventListener(e,m)),function(e){return a[e]||(a[e]=new Map),a[e]}(e).set(t,n),function(e){const t=i.get(e);if(t)return t;const n=new Set;return i.set(e,n),n}(t).add(e),s[e]++}(o,e,n):e.addEventListener(o,n,r)}function u(e,t,n,r=!1){const o=d(t,e);l(o,e,r)?f(o,e):e.removeEventListener(o,n,r)}function d(e,t){const n=e.replace(/^on/,"").replace(/Capture$/,"").toLowerCase();return"change"===n&&"SELECT"!==t.tagName?"input":"doubleclick"===n?"dblclick":"focus"===n?"focusin":"blur"===n?"focusout":n}function l(e,t,n){return!n&&!o.has(e)&&"VIDEO"!==t.tagName&&"IFRAME"!==t.tagName}function f(e,t){s[e]--,s[e]||document.removeEventListener(e,m),a[e].delete(t),i.get(t).delete(e)}function h(e){const t=i.get(e);t&&(t.forEach((t=>f(t,e))),i.delete(e))}function m(e){const t=a[e.type];if(t){let n=!1,r=e.target;const o=()=>{n=!0},s=()=>{e.preventDefault()},a=new Proxy(e,{get:(e,t)=>"currentTarget"===t?r:"stopPropagation"===t||"stopImmediatePropagation"===t?o:"preventDefault"===t?s:Reflect.get(e,t)});for(;r&&r!==document.body;){const e=t.get(r);if(e&&(e(a),n))return;r=r.parentNode}}}r.Oig&&document.addEventListener("dblclick",(()=>{const e=Object.keys(s).length,t=Object.values(s).reduce(((e,t)=>e+t),0),n=Object.keys(a).length,r=Object.values(a).reduce(((e,t)=>e+t.size),0),o=i.size,c=Array.from(i.values()).reduce(((e,t)=>e+t.size),0);console.warn("DELEGATED EVENTS STATS",{delegatedHandlersCount1:t,delegatedHandlersCount2:r,delegatedEventTypesCount:c,delegationRegistriesCount:n,delegationElementsCount:o,documentListenersCount:e})}))},10328:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(84051),o=n(66644),s=n(17712);const a=(e,t,n,a,i)=>{const[c,u]=(0,r.J0)(-1);return(0,r.vJ)((()=>{u(-1);const n=e.current;t&&n&&!i&&((0,o.RK)((()=>{n.tabIndex=-1})),(0,o.YS)((()=>n.focus())))}),[e,t,i]),(0,s.A)((t=>{const r=e.current;if(!r)return;if(13===t.keyCode&&n)return void n(c);if(38!==t.keyCode&&40!==t.keyCode)return;const o=document.activeElement,s=Array.from(a?r.querySelectorAll(a):r.children);let i=o&&s.indexOf(o)||c;if(38===t.keyCode&&i>0)i--;else if(40===t.keyCode&&i<s.length-1)i++;else{if(1!==s.length)return;i=0}const d=s[i];d&&(u(i),d.focus())}))}},11117:(e,t,n)=>{"use strict";var r=n(37932),o=n(89925),s=n(66644),a=n(96454),i=n(61182),c=n(14487),u=n(6e4),d=n(21687),l=n(71322),f=n(74065),h=n(24021),m=n(13439),p=n(17872),g=n(32989),y=n(29807),b=n(30708);let v;(0,r.DW)((e=>{const{updatePageTitle:t,updateShouldDebugExportedSenders:n,updateShouldEnableDebugLog:r}=(0,m.ko)(),o=v;if(v=e,!o)return;const i=(0,b.l)(o),c=(0,b.l)(e),g=c.performance,w=i.performance,I=e.peerColors,A=o.peerColors;if(I&&I!==A&&(0,f.E)(I.general),g!==w&&(0,s.RK)((()=>{(0,d.u)(g)})),c.theme!==i.theme){const t=!!document.hasFocus()&&(0,y.PKK)(e);(0,l.Ay)(c.theme,t)}c.language!==i.language&&(0,u.wT)(c.language),c.timeFormat!==i.timeFormat&&(0,u.bV)(c.timeFormat),c.messageTextSize!==i.messageTextSize&&(document.documentElement.style.setProperty("--composer-text-size",`${Math.max(c.messageTextSize,a.pz?16:15)}px`),document.documentElement.style.setProperty("--message-meta-height",`${Math.floor(1.3125*c.messageTextSize)}px`),document.documentElement.style.setProperty("--message-text-size",`${c.messageTextSize}px`),document.documentElement.setAttribute("data-message-text-size",c.messageTextSize.toString())),c.canDisplayChatInTitle!==i.canDisplayChatInTitle&&t(),c.shouldForceHttpTransport!==i.shouldForceHttpTransport&&(0,h.px)("setForceHttpTransport",Boolean(c.shouldForceHttpTransport)),c.shouldAllowHttpTransport!==i.shouldAllowHttpTransport&&((0,h.px)("setAllowHttpTransport",Boolean(c.shouldAllowHttpTransport)),!c.shouldAllowHttpTransport&&c.shouldForceHttpTransport&&(e=(0,p.qoo)(e,{shouldForceHttpTransport:!1}),(0,m.UF)(e))),c.shouldDebugExportedSenders!==i.shouldDebugExportedSenders&&n(),c.shouldCollectDebugLogs!==i.shouldCollectDebugLogs&&r()})),(0,m.aJ)("updateShouldEnableDebugLog",(e=>{(0,b.l)(e).shouldCollectDebugLogs?((0,h.eu)(!0),(0,i.fw)()):((0,h.eu)(!1),(0,i.pF)())})),(0,m.aJ)("updateShouldDebugExportedSenders",(e=>{const t=(0,b.l)(e);(0,h.px)("setShouldDebugExportedSenders",Boolean(t.shouldDebugExportedSenders))})),(0,m.aJ)("setSettingOption",((e,t,n)=>(0,p.qpc)(e,n))),(0,m.aJ)("setSharedSettingOption",((e,t,n)=>(0,p.qoo)(e,n))),(0,m.aJ)("updatePerformanceSettings",((e,t,n)=>{const r=(0,b.l)(e);return(0,p.qoo)(e,{performance:{...r.performance,...n}})})),(0,m.aJ)("setThemeSettings",((e,t,n)=>{const{theme:r,...o}=n;return(0,p.KyT)(e,r,o)})),(0,m.aJ)("requestNextSettingsScreen",((e,t,n)=>{const{screen:r,foldersAction:o,tabId:s=(0,c.g0)()}=n;return(0,g.w)(e,{nextSettingsScreen:r,nextFoldersAction:o},s)})),(0,m.aJ)("openEditChatFolder",((e,t,n)=>{const{folderId:r,isOnlyInvites:s,tabId:a=(0,c.g0)()}=n,i=(0,y.$aQ)(e,r);i&&t.requestNextSettingsScreen({screen:s?o.VS.FoldersEditFolderInvites:o.VS.FoldersEditFolderFromChatList,foldersAction:{type:"editFolder",payload:i},tabId:a})})),(0,m.aJ)("openShareChatFolderModal",((e,t,n)=>{const{folderId:r,url:s,noRequestNextScreen:a,tabId:i=(0,c.g0)()}=n,u=(0,y.$aQ)(e,r),d=u?.isChatList;if(!d||a)return a||t.requestNextSettingsScreen({screen:o.VS.FoldersShare,tabId:i}),(0,g.w)(e,{shareFolderScreen:{folderId:r,isFromSettings:Boolean(a),url:s}},i);t.openEditChatFolder({folderId:r,isOnlyInvites:!0,tabId:i})})),(0,m.aJ)("closeShareChatFolderModal",((e,t,n)=>{const{tabId:r=(0,c.g0)()}=n||{};return t.requestNextSettingsScreen({screen:void 0,tabId:r}),(0,g.w)(e,{shareFolderScreen:void 0},r)}))},11422:(e,t,n)=>{"use strict";n.d(t,{BU:()=>i,Ny:()=>a,Tk:()=>s,tX:()=>o});const r=3,o=5,s=32,a=/^[a-zA-Z]\w+$/;function i(e,t){const n=t?o:r;return e.length>=n&&e.length<=s&&a.test(e)}},11778:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(52674);function o(e){return(0,r.A)({onEsc:e})}},13439:(e,t,n)=>{"use strict";n.d(t,{EK:()=>c,UF:()=>s,aJ:()=>i,ko:()=>a,mS:()=>o});const r=(0,n(37932).cl)(),o=r.getGlobal,s=r.setGlobal,a=r.getActions,i=r.addActionHandler,c=r.withGlobal},14235:(e,t,n)=>{"use strict";function r(){return Date.now().toString(36)+Math.random().toString(36).slice(2)}n.d(t,{A:()=>r})},14242:(e,t,n)=>{"use strict";n.d(t,{Qh:()=>u,Sm:()=>a,Vw:()=>i,l9:()=>c,v7:()=>l});var r=n(98221),o=n(24282),s=n(43336);function a(e){return String(e).replace(/\d(?=(\d{3})+$)/g,"$& ")}function i(e,t){return t<1e3?e.number(t):t<1e6?`${e.number((0,s.RI)(t/1e3,1))}K`:`${e.number((0,s.RI)(t/1e6,1))}M`}function c(e,t=1){return`${Number.isInteger(e)?e:e.toFixed(t)}%`}const u=(0,n(19314).A)(((e,t=2)=>e.replace(/[.,!@#$%^&*()_+=\-`~[\]/\\{}:"|<>?]+/gi,"").trim().split(/\s+/).slice(0,t).map((e=>{if(!e.length)return"";const t=(e=(0,o.A)(e)).match(r.A);return t&&e.startsWith(t[0])?t[0]:e.match(/./u)[0].toUpperCase()})).join(""))),d=["B","KB","MB","GB"];function l(e,t,n=1){if(0===t)return e("FileSize.B",0);const r=Math.floor(Math.log(t)/Math.log(1024)),o=(t/1024**r).toFixed(Math.max(n,0));return e(`FileSize.${d[r]}`,o)}},14487:(e,t,n)=>{"use strict";n.d(t,{I:()=>k,T_:()=>M,UJ:()=>I,VS:()=>P,ZQ:()=>C,g0:()=>S,gb:()=>E,ve:()=>x,wr:()=>T});var r=n(46536),o=n(4350),s=n(70934),a=n(9705);const i=100,{addCallback:c,runCallbacks:u}=(0,r.h)(),{addCallback:d,runCallbacks:l}=(0,r.h)(),f=Number(Math.random().toString().substring(2)),h=new Set([f]),m=new BroadcastChannel(o.a9);let p=!1;const g=new a.A;let y,b,v=!1;const w=({data:e})=>{if(e){if(e.currentPasscodeHash&&(0,s.tn)(e.currentPasscodeHash),e.hasGaveUpMaster&&v)return y=f,v=!1,g.resolve(),void u(!0);if(e.shouldGiveUpMaster)return y===f&&(u(!1),m.postMessage({currentPasscodeHash:(0,s.dl)(),hasGaveUpMaster:!0})),void(y=e.masterToken);if(e.tokenDied&&(l(e.tokenDied),h.delete(e.tokenDied),e.tokenDied===y&&(h.delete(e.tokenDied),y=void 0,p=!1,b=e.tokenDied,m.postMessage({collectedTokens:h,masterToken:y,reestablishToken:b}),1===h.size&&(p=!0,y=f,b=void 0,g.resolve(),u(!0)))),e.collectedTokens){if(!e.reestablishToken&&b)return;e.reestablishToken&&b!==e.reestablishToken&&(e.collectedTokens.delete(e.reestablishToken),b=e.reestablishToken);const t=h.size;e.collectedTokens.forEach((e=>h.add(e))),b&&e.collectedTokens.delete(b),p?e.masterToken||m.postMessage({collectedTokens:h,masterToken:y,reestablishToken:b}):e.masterToken?(b=void 0,y=e.masterToken,u(y===f),p||m.postMessage({collectedTokens:h,masterToken:y,reestablishToken:b}),g.resolve(),p=!0):t!==h.size?m.postMessage({collectedTokens:h,masterToken:y,reestablishToken:b}):(b=void 0,y=Math.max(...Array.from(h)),u(y===f),p||m.postMessage({collectedTokens:h,masterToken:y,reestablishToken:b}),g.resolve(),p=!0)}}};function I(e){m.addEventListener("message",w),m.postMessage({collectedTokens:h}),setTimeout((()=>{void 0===y?(y=f,g.resolve(),u(!0)):e&&k()}),i),window.addEventListener("beforeunload",A)}function A(){l(f),m.removeEventListener("message",w),m.postMessage({tokenDied:f,currentPasscodeHash:(0,s.dl)()}),m.close()}function C(){m.postMessage({currentPasscodeHash:(0,s.dl)()})}function S(){return f}function E(){return Array.from(h)}function k(){v=!0,m.postMessage({collectedTokens:h,masterToken:f,shouldGiveUpMaster:!0})}const P=d,T=c,M=g.promise;function x(){return y===f}},14745:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(84051),o=n(14235);function s(){const e=(0,r.li)();return e.current||(e.current=(0,o.A)()),e.current}},15283:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(84051);const o=function(e){(0,r.vJ)(e,[])}},16350:(e,t,n)=>{"use strict";n.d(t,{CX:()=>S,Cb:()=>T,Kr:()=>A,Nl:()=>w,SJ:()=>E,We:()=>m,XU:()=>l,cz:()=>P,ec:()=>f,h7:()=>v,hO:()=>c,iW:()=>b,lt:()=>y,pW:()=>p,qw:()=>C,tN:()=>M,tP:()=>u,t_:()=>k,wi:()=>g,yK:()=>d});var r=n(31481),o=n(22986),s=n(87894),a=n(29807);const i=["active","archived"];function c(e,t,n){return{...e,chats:{...e.chats,listIds:{...e.chats.listIds,[t]:n}}}}function u(e,t,n,r,o){return{...e,chats:{...e.chats,loadingParameters:{...e.chats.loadingParameters,[t]:{nextOffsetId:n,nextOffsetPeerId:r,nextOffsetDate:o}}}}}function d(e,t,n,r){const o="saved"===r?"saved":"all";return{...e,chats:{...e.chats,lastMessageIds:{...e.chats.lastMessageIds,[o]:{...e.chats.lastMessageIds[o],[t]:n}}}}}function l(e,t,n){const r="saved"===n?"saved":"all";return{...e,chats:{...e.chats,lastMessageIds:{...e.chats.lastMessageIds,[r]:{...e.chats.lastMessageIds[r],...t}}}}}function f(e,t,n){const{[t]:r}=e.chats.listIds,o=r?.length?n.filter((e=>!r.includes(e))):n;return r&&!o.length?e:c(e,t,[...r||[],...o])}function h(e,t){return{...e,chats:{...e.chats,byId:t}}}function m(e,t,n,r,o=!1){const a=n.unreadMentions||[],i=(0,s.Am)([...a,...r]).sort(((e,t)=>t-e));return e=g(e,t,{unreadMentions:i}),o&&(e=g(e,t,{unreadMentionsCount:(n.unreadMentionsCount||0)+Math.max(0,i.length-a.length)})),e}function p(e,t,n,r,o=!1){const s=n.unreadMentions||[],a=s?.filter((e=>!r.includes(e)));if(e=g(e,t,{unreadMentions:a}),o&&n.unreadMentionsCount){const r=s.length-a.length;e=g(e,t,{unreadMentionsCount:Math.max(n.unreadMentionsCount-r,0)||void 0})}return e}function g(e,t,n,r=!1,a=!1){const{byId:i}=e.chats,c=i[t];if(a&&c){const t=Object.keys(n);if((0,o.T)((0,s.Up)(c,t),n))return e}const u=I(e,t,n,r);return u?h(e,{...i,[t]:u}):e}function y(e,t,n){const r=(0,a.AWZ)(e,t),s={...r,...n};return(0,o.T)(r,s)?e:{...e,chats:{...e.chats,fullInfoById:{...e.chats.fullInfoById,[t]:s}}}}function b(e,t,n){const r=(0,a.AWZ)(e,t);return(0,o.T)(r,n)?e:{...e,chats:{...e.chats,fullInfoById:{...e.chats.fullInfoById,[t]:n}}}}function v(e,t){const n=Object.keys(t).reduce(((n,r)=>{const o=I(e,r,t[r]);return o&&(n[r]=o),n}),{});return e=h(e,{...e.chats.byId,...n})}function w(e,t){const{byId:n}=e.chats;let r=!1;const o=Object.keys(t).reduce(((o,s)=>{const a=n[s],i=t[s],c=!a?.membersCount&&i.membersCount;if(a&&!a.isMin&&!c&&(i.isMin||a.accessHash===i.accessHash))return o;const u=I(e,s,i);return u&&(o[s]=u,r||(r=!0)),o}),{});return r?e=h(e,{...n,...o}):e}function I(e,t,n,r=!1){const{byId:a}=e.chats,i=a[t],c=[];if(n.isMin&&i&&!i.isMin)return;r||c.push("unreadReactionsCount"),(0,o.T)(i?.usernames,n.usernames)&&c.push("usernames");const u={...i,...(0,s.cJ)(n,c)};return u.id&&u.type?(0,s.Oy)(u):void 0}function A(e,t,n){const o=n===r._E9?"archived":"active";let s=e.chats.listIds;return Object.keys(s).forEach((e=>{const n=s[e]||[];e!==o||n.includes(t)?e!==o&&n.includes(t)&&(s={...s,[e]:n.filter((e=>e!==t))}):s={...s,[e]:[...n,t]}})),g(e={...e,chats:{...e.chats,listIds:s}},t,{folderId:n||void 0})}function C(e,t,n){const r="active"===t?"all":t;return{...e,chats:{...e.chats,...n.orderedPinnedIds&&{orderedPinnedIds:{...e.chats.orderedPinnedIds,[t]:n.orderedPinnedIds}},totalCount:{...e.chats.totalCount,[r]:n.totalChatCount}}}}function S(e,t){return y(e=g(e=E(e,t),t,{isNotJoined:!0}),t,{joinInfo:void 0})}function E(e,t,n="all"){return("all"===n?i:[n]).forEach((n=>{e=c(e,n,e.chats.listIds[n]?.filter((e=>e!==t)))})),e}function k(e,t,n){const r=(0,a.AWZ)(e,t.id)?.members,o=new Set(n.map((e=>e.userId))),i=[...r?.filter((({userId:e})=>!o.has(e)))||[],...n],c=r?.map((({userId:e})=>e))||[],u=i.map((({userId:e})=>e));if((0,s.k)(c,u))return e;const d=i.filter((({isAdmin:e,isOwner:t})=>e||t));return y(e,t.id,{members:i,adminMembersById:(0,s.dU)(d,"userId")})}function P(e,t,n,r){return{...e,chats:{...e.chats,similarChannelsById:{...e.chats.similarChannelsById,[t]:{similarChannelIds:n,count:r||n.length}}}}}function T(e,t){const n=e.chats.similarChannelsById[t];return{...e,chats:{...e.chats,similarChannelsById:{...e.chats.similarChannelsById,[t]:{...n,isExpanded:!n?.isExpanded}}}}}function M(e,t,n,r){return{...e,chats:{...e.chats,similarBotsById:{...e.chats.similarBotsById,[t]:{similarBotsIds:n,count:r}}}}}},16426:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},16581:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(84051),o=n(37836);function s(e,t,n,s=!1,a=!1){const i=(0,r.hb)(e,t);return(0,r.Kr)((()=>(0,o.sg)(i,n,!s,!a)),[i,n,s,a])}},17142:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,v:()=>s});var r=n(31481),o=n(48775);function s(e,t,n,s){const c=t/10**i(n);return n===r.OUy?(0,o.U)(e,c,{asFont:s?.asFontIcon,className:s?.iconClassName}):a(t,n,e.code,s)}function a(e,t,n="en",o){const s=e/10**i(t);return(o?.shouldOmitFractions||t===r.OUy)&&Number.isInteger(s)?new Intl.NumberFormat(n,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(s):new Intl.NumberFormat(n,{style:"currency",currency:t}).format(s)}function i(e){return"TON"===e?9:"CLF"===e?4:["BHD","IQD","JOD","KWD","LYD","OMR","TND"].includes(e)?3:["BIF","BYR","CLP","CVE","DJF","GNF","ISK","JPY","KMF","KRW","MGA","PYG","RWF","UGX","UYI","VND","VUV","XAF","XOF","XPF",r.OUy].includes(e)?0:"MRO"===e?1:2}},17237:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(98221),o=n(24282);const s=100,a=8*s;function i(e){const t=(0,o.A)(e).split("\n"),n=t.join("");if(n.length>a)return!1;const r=c(n);if(!r||r>s)return!1;let i=t.length;for(const e of t){const t=c(e);if(!1===t)return!1;t>i&&(i=t)}return i}function c(e){const t=e.matchAll(r.A);let n=0,o=0;for(const e of t){if(e.index!==o)return!1;n++,o=e.index+e[0].length}return o===e.length&&n}},17663:(e,t,n)=>{"use strict";n.d(t,{$$:()=>p,A:()=>_,A$:()=>D,BR:()=>z,CS:()=>m,F5:()=>P,IF:()=>C,JW:()=>N,L2:()=>B,Lu:()=>v,QO:()=>x,Rm:()=>R,TI:()=>j,U:()=>F,be:()=>b,cK:()=>f,dq:()=>A,fS:()=>M,fU:()=>y,i6:()=>w,il:()=>l,jy:()=>S,pU:()=>h,vm:()=>E,wv:()=>T,zA:()=>k,zt:()=>I});var r=n(80140),o=n(19314),s=n(21309);const a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["January","February","March","April","May","June","July","August","September","October","November","December"].map((e=>e.toLowerCase())),c=2015,u=31,d=12,l=864e5;function f(e){return m(new Date)===m(e)}function h(e){const t=new Date(e);return t.setHours(0,0,0,0),t}function m(e){return h(e).getTime()}function p(e){const t=new Date(1e3*e);return`${t.getFullYear()}-${t.getMonth()}`}function g(e){return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`}function y(e,t){const n="number"==typeof t?new Date(t):t,r=e.timeFormat||"24h";let o=n.getHours(),s="";return"12h"===r&&(s=o>=12?" PM":" AM",o=o>12?o%12:o),`${String(o).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}${s}`}function b(e,t,n=!1){const r="number"==typeof t?new Date(t):t,o=y(e,r),s=h(new Date);if(r>=s)return o;const i=new Date(s);if(i.setDate(s.getDate()-7),r>=i){const t=e(`Weekday.Short${a[r.getDay()]}`);return n?e("FullDateTimeFormat",[t,o]):t}const c=r.getFullYear()===s.getFullYear(),u=_(r,e.code,c);return n?e("FullDateTimeFormat",[u,o]):u}function v(e,t){return _(t,e.code,!1,"numeric")}function w(e,t,n=!1){return _(t,e.code,!1,n?"short":"long",!0)}function I(e,t){const n=(0,s._k)(t);if(t<0)return 0;if(n<1)return x(t);if(n<7)return e("Days",{count:n},{pluralValue:n});if(n<30){const t=Math.floor(n/7);return e("Weeks",{count:t},{pluralValue:t})}if(n<365){const t=Math.floor(n/30);return e("Months",{count:t},{pluralValue:t})}{const t=Math.floor(n/365);return e("Years",{count:t},{pluralValue:t})}}function A(e,t){return t<6e4?Math.ceil(t/1e3).toString():t<36e5?Math.ceil(t/6e4).toString():t<l?e("MessageTimer.ShortHours",Math.ceil(t/36e5)):e("MessageTimer.ShortDays",Math.ceil(t/l))}function C(e,t,n=t){const r=t-n;return r<60?e("LiveLocationUpdated.JustNow"):r<3600?e("LiveLocationUpdated.MinutesAgo",Math.floor(r/60)):e("LiveLocationUpdated.TodayAt",y(e,n))}function S(e,t,n=t){const r=t-n;if(r<60)return e("Time.JustNow");if(r<3600)return e("Time.MinutesAgo",Math.floor(r/60));const o=new Date(1e3*n),s=h(new Date);if(o>=s)return e("Time.TodayAt",y(e,o));const a=new Date(s);return a.setDate(s.getDate()-1),o>a?e("Time.YesterdayAt",y(e,o)):e("Time.AtDate",v(e,o))}function E(e,t,n=(0,r.Fm)()){const o=n-t,a=(0,s.Os)(o),i=(0,s.qZ)(o),c=(0,s._k)(o);return o<60?e("JustNowAgo"):a<60?e("MinutesAgo",{count:a},{pluralValue:a}):i<24?e("HoursAgo",{count:i},{pluralValue:i}):c<28?e("DaysAgo",{count:c},{pluralValue:c}):e("AtDateAgo",{date:v(e,t)})}function k(e,t,n=2){if(!t)return;const r=[],o=[{multiplier:1,type:"Seconds"},{multiplier:60,type:"Minutes"},{multiplier:60,type:"Hours"},{multiplier:24,type:"Days"},{multiplier:7,type:"Weeks"}];let s=1;o.forEach(((e,n)=>{if(s*=e.multiplier,t<s)return;const a=o[n===o.length-1?n:n+1].multiplier;r.push({duration:Math.floor(t/s%a),type:e.type})}));const a=r.slice(-n).reverse();for(let e=a.length-1;e>=0;--e)0===a[e].duration&&a.splice(e,1);return a.map((t=>e(t.type,t.duration,"i"))).join(", ")}function P(e,t,n=!1,r=!1,o){const s="number"==typeof t?new Date(t):t,a=h(new Date);if(!r){if(g(s)===g(a))return(o||!n?$:U)(e("Weekday.Today"));const t=new Date(a);if(t.setDate(a.getDate()-1),g(s)===g(t))return(o||!n?$:U)(e("Weekday.Yesterday"));const r=new Date(a);r.setDate(a.getDate()-6);const i=new Date(a);if(i.setDate(a.getDate()+6),s>=r&&s<=i)return(o||!n?$:U)(T(e,s.getDay(),n))}const i=s.getFullYear()===a.getFullYear();return(o||!n?$:U)(_(s,e.code,i,n?"short":"long"))}function T(e,t,n=!1){const r=a[t];return e(n?`Weekday.Short${r}`:`Weekday.${r}`)}function M(e,t,n){const r="number"==typeof t?new Date(t):t;return`${P(e,r,!0,void 0,n)}, ${y(e,r)}`}function x(e,t){const n=Math.floor(e/3600),r=Math.floor(e%3600/60),o=Math.floor(e%3600%60),s=t?Math.floor(t/3600):0,a=t?Math.floor(t%3600/60):0;let i="";return n>0||s>0?(i+=`${String(n).padStart(2,"0")}:`,i+=`${String(r).padStart(2,"0")}:`):i+=a>=10?`${String(r).padStart(2,"0")}:`:`${String(r)}:`,i+=String(o).padStart(2,"0"),i}function N(e){const t=[];let n=e%1e3;e-=n,n=Math.floor(n/10);const r=(e=Math.floor(e/1e3))%60;e-=r;const o=(e=Math.floor(e/60))%60;e-=o;const s=(e=Math.floor(e/60))%60;return s>0&&t.push(String(s).padStart(2,"0")),t.push(String(o).padStart(s>0?2:1,"0")),t.push(String(r).padStart(2,"0")),`${t.join(":")},${String(n).padStart(2,"0")}`}const L=(0,o.A)(((e,t,n,r="short",o)=>new Date(e).toLocaleString(t,{year:n?void 0:"numeric",month:r,day:o?void 0:"numeric"})));function _(e,t="en-US",n=!1,r="short",o=!1){const s=m("number"==typeof e?new Date(e):e);return L(s,t,n,r,o)}function B(e,t="en-US",n,r){return("number"==typeof e?new Date(e):e).toLocaleString(t,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:n?void 0:"numeric",hourCycle:"12h"===r?"h12":"h23"})}function F(e,t){const n="number"==typeof t?new Date(t):t,r=h(new Date),o=y(e,n);if(g(n)===g(r))return e("Time.TodayAt",o);const s=new Date(r);if(s.setDate(r.getDate()-1),g(n)===g(s))return e("Time.YesterdayAt",o);const a=n.getFullYear()===r.getFullYear();return e("formatDateAtTime",[_(n,e.code,a),o])}function D(e,t){if(t<0)return e("RightNow");if(t<60)return e("Seconds",{count:Math.ceil(t)},{pluralValue:t});if(t<3600){const n=Math.ceil(t/60);return e("Minutes",{count:n},{pluralValue:n})}if(t<86400){const n=Math.ceil(t/3600);return e("Hours",{count:n},{pluralValue:n})}const n=Math.ceil(t/86400);return e("Days",{count:n},{pluralValue:n})}function O(e,t,n=2021){if(t>d-1||e>u)return!1;const r=new Date(n,t,e);return!Number.isNaN(r.getTime())&&r.getDate()===e}function R(e=""){const t=e.match(/\d{1,2}\s[a-zA-Z]{3,}/),n=e.match(/[a-zA-Z]{3,}\s\d{1,2}/),r=e.match(/\d{1,2}[./-]\d{1,2}([./-]\d{2,4})?/);if(!t&&!r&&!n)return;if(r){const[t,n,r]=e.split(/[./-]/).map(Number);return r&&r<c||!O(t,n-1,r||void 0)?void 0:`${r?`${r}-`:""}${String(n).padStart(2,"0")}-${String(t).padStart(2,"0")}`}const o=e.split(" "),s=t?o[0]:o[1],a=(t?o[1]:o[0]).toLowerCase(),u=i.findIndex((e=>e.startsWith(a)));return-1!==u&&O(Number(s),u)?`${String(u+1).padStart(2,"0")}-${String(s).padStart(2,"0")}`:void 0}function j(e){return e+l/1e3}function U(e){return`${e[0].toLowerCase()}${e.slice(1)}`}function $(e){return`${e[0].toUpperCase()}${e.slice(1)}`}function z(e,t){const[n,r]=t.split("."),o=new Date(`${r}-${n}`);return new Intl.DateTimeFormat(e,{month:"long",year:"numeric"}).format(o)}},17712:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(84051),o=n(41257);function s(e){const t=(0,o.i)(e);return(0,r.hb)(((...e)=>t.current?.(...e)),[])}},17872:(e,t,n)=>{"use strict";n.d(t,{iRS:()=>o.iR,P6h:()=>te,ec2:()=>r.ec,t_k:()=>r.t_,o4A:()=>o.o4,Nl5:()=>r.Nl,KcS:()=>o.Kc,m1I:()=>Q,DeY:()=>Y,tNY:()=>r.tN,Niu:()=>$e,K4v:()=>ze,Wez:()=>r.We,d2X:()=>B,g18:()=>E,fgD:()=>o.fg,qEh:()=>Ce,Psh:()=>Ae,IwB:()=>o.Iw,nYM:()=>ie,gt4:()=>rt.gt,XQb:()=>ae,GSI:()=>be,i_d:()=>ce,Y1r:()=>ve,cYc:()=>we,_54:()=>W._5,BOn:()=>F,AH0:()=>o.AH,XAm:()=>o.XA,MOQ:()=>P,sol:()=>Ue,hjk:()=>o.hj,vad:()=>o.v,Itk:()=>o.It,do9:()=>ct,l3i:()=>o.l3,T4Z:()=>o.T4,tXQ:()=>W.tX,CX_:()=>r.CX,olz:()=>W.ol,MeL:()=>ke,V5q:()=>Ee,PcY:()=>b,OW3:()=>ne,SJu:()=>r.SJ,qKm:()=>o.qK,ONz:()=>qe,xGf:()=>rt.xG,pWt:()=>r.pW,$nQ:()=>m,iW2:()=>r.iW,hOQ:()=>r.hO,tPq:()=>r.tP,tTf:()=>o.tT,GEE:()=>Z,Khb:()=>Re,xOA:()=>R,mPd:()=>ut,qpc:()=>K,czZ:()=>r.cz,n4t:()=>o.n4,eww:()=>o.ew,wWy:()=>N,zde:()=>W.zd,gz3:()=>o.gz,s3Z:()=>o.s3,lwK:()=>W.lw,_te:()=>ge,lwH:()=>he,lEm:()=>ye,bbG:()=>fe,Mac:()=>pe,yQW:()=>me,yrN:()=>o.yr,Cbr:()=>r.Cb,cxc:()=>O,$ry:()=>Ne,wix:()=>r.wi,ltr:()=>r.lt,yKC:()=>r.yK,qwk:()=>r.qw,KrP:()=>r.Kr,PKO:()=>W.PK,Qb2:()=>W.Qb,r3y:()=>o.r3,h7P:()=>r.h7,XUr:()=>r.XU,MNF:()=>o.MN,G4z:()=>g,E24:()=>l,Xbp:()=>o.Xb,kV7:()=>o.kV,Mel:()=>h,b8O:()=>U,GQ:()=>$,RgT:()=>V,HyB:()=>z,Ahb:()=>We,SYp:()=>He,d4w:()=>o.d4,Y4o:()=>st,H6X:()=>G,G42:()=>H,gJI:()=>Te,oeN:()=>rt.oe,rmT:()=>rt.rm,$RI:()=>W.$R,VmW:()=>W.Vm,hQe:()=>D,p92:()=>ee,E0b:()=>o.E0,Vg3:()=>se,_$X:()=>ue,kTB:()=>Fe,zTz:()=>De,LZP:()=>je,Tqk:()=>Oe,KpR:()=>Qe,oeX:()=>Ve,VWO:()=>et,Xzz:()=>Ye,ZCo:()=>Ze,Gzl:()=>Ge,J81:()=>o.J8,DLl:()=>o.DL,xAV:()=>o.xA,QNR:()=>o.QN,tMr:()=>o.tM,T3R:()=>y,lcj:()=>rt.lc,_Bm:()=>rt._B,Egm:()=>o.Eg,Ffw:()=>o.Ff,k31:()=>Xe,jU1:()=>W.jU,Tu_:()=>W.Tu,qoo:()=>q,oFy:()=>le,EKx:()=>o.EK,L_F:()=>Ie,nv6:()=>de,Yzx:()=>Se,n8l:()=>Pe,RoI:()=>xe,qsx:()=>nt,bG:()=>u,v9P:()=>f,MkE:()=>d,f_N:()=>p,KXe:()=>Me,X5v:()=>Je,dxy:()=>Ke,KyT:()=>X,e49:()=>o.e4,eAk:()=>o.eA,Ng8:()=>o.Ng,Wwn:()=>o.Ww,TwA:()=>it,mIA:()=>at,keG:()=>re,mR:()=>o.mR,TKu:()=>C,lWl:()=>_,weB:()=>L,BFh:()=>T,Z0S:()=>M,CKT:()=>S,Zct:()=>Le});var r=n(16350),o=n(82150),s=n(14487),a=n(87894),i=n(29807),c=n(32989);function u(e,t,n,...[r=(0,s.g0)()]){return(0,c.w)(e,{stickerSearch:{...(0,i.nTw)(e,r).stickerSearch,hash:t,resultIds:n}},r)}function d(e,t,n,r){const o=r.map((t=>{const n=e.stickers.setsById[t.id];return n?{...n,...t}:t})),s=r.map((e=>e.id));return"search"===t?{...e,stickers:{...e.stickers,setsById:{...e.stickers.setsById,...(0,a.dU)(o,"id")}}}:{...e,stickers:{...e.stickers,setsById:{...e.stickers.setsById,...(0,a.dU)(o,"id")},[t]:{...e.stickers[t],hash:n,setIds:[...e.stickers[t].setIds||[],...s]}}}}function l(e,t,n){const r=n.map((t=>{const n=e.stickers.setsById[t.id];return n?{...n,...t}:t})),o=n.map((e=>e.stickers)).flat().filter(Boolean),s=n.map((e=>e.id));return{...e,stickers:{...e.stickers,setsById:{...e.stickers.setsById,...(0,a.dU)(r,"id")}},customEmojis:{...e.customEmojis,added:{...e.customEmojis.added,hash:t,setIds:[...e.customEmojis.added.setIds||[],...s]},byId:{...e.customEmojis.byId,...(0,a.dU)(o,"id")}}}}function f(e,t,n){const r=e.stickers.setsById[t]||{},o=n.isEmoji||r.isEmoji,s=(o?e.customEmojis.added.setIds:e.stickers.added.setIds)||[];let i=s;n.installedDate&&!n.isArchived&&s&&!s.includes(t)&&(i=[t,...i]),!n.installedDate&&s?.includes(t)&&(i=i.filter((e=>e!==t)));const c=o&&n.stickers&&(0,a.dU)(n.stickers,"id");return{...e,stickers:{...e.stickers,added:{...e.stickers.added,...!o&&{setIds:i}},setsById:{...e.stickers.setsById,[t]:{...r,...n}}},customEmojis:{...e.customEmojis,byId:{...e.customEmojis.byId,...c},added:{...e.customEmojis.added,...o&&{setIds:i}}}}}function h(e,t,n,r,...[o=(0,s.g0)()]){const{results:a}=(0,i.nTw)(e,o).gifSearch;let u;if(t||!a)u=n;else{const e=new Set(a.map((e=>e.id)));u=[...a,...n.filter((t=>!e.has(t.id)))]}return(0,c.w)(e,{gifSearch:{...(0,i.nTw)(e,o).gifSearch,offset:r,results:u}},o)}function m(e,t){return{...e,animatedEmojis:t}}function p(e,t,n,r){const o=[...(0,i.wg6)(e,t),...n||[]],s=(0,a.Am)(o.map((({id:e})=>e))),c=(0,a.dU)(o,"id"),u=s.map((e=>c[e]));return{...e,stickers:{...e.stickers,forEmoji:{emoji:t,stickers:u,hash:r}}}}function g(e,t){const n=(0,i.r8w)(e,t),r=(0,a.Am)(n.map((({id:e})=>e))),o=(0,a.dU)(n,"id"),s=r.map((e=>o[e]));return{...e,customEmojis:{...e.customEmojis,forEmoji:{emoji:t,stickers:s}}}}function y(e,t,n){return{...e,customEmojis:{...e.customEmojis,statusRecent:{...e.customEmojis.statusRecent,hash:t,emojis:n}}}}function b(e){if(e.stickers.forEmoji){const{emoji:t,stickers:n,hash:r}=e.stickers.forEmoji;return t?p(e,t,n,r):e}if(e.customEmojis.forEmoji){const{emoji:t}=e.customEmojis.forEmoji;return t?g(e,t):e}return e}var v=n(22986),w=n(79824);function I(e,t){return{...e,users:{...e.users,byId:t}}}function A(e,t){const{userIds:n}=e.contactList||{};if(!n)return e;const r=t.filter((e=>e?.isContact)).map((e=>e.id));return 0===r.length?e:{...e,contactList:{userIds:(0,a.Am)([...r,...n])}}}function C(e,t,n){const{byId:r}=e.users,o=k(e,t,n);return o?I(e=A(e,[o]),{...r,[t]:o}):e}function S(e,t){const n=Object.keys(t).reduce(((n,r)=>{const o=k(e,r,t[r]);return o&&(n[r]=o),n}),{});return e=A(e=I(e,{...e.users.byId,...n}),Object.values(n))}function E(e,t){const{byId:n}=e.users;let r=!1;const o=Object.keys(t).reduce(((o,s)=>{const a=n[s],i=t[s];if(a&&!a.isMin&&(i.isMin||a.accessHash===i.accessHash))return o;const c=k(e,s,i);return c&&(o[s]=c,r||(r=!0)),o}),{});return r?e=A(e=I(e,{...n,...o}),Object.values(o)):e}function k(e,t,n){const{byId:r}=e.users,o=r[t],s=[];if(n.isMin&&o&&!o.isMin)return;(0,v.T)(o?.usernames,n.usernames)&&s.push("usernames");const i={...o,...(0,a.cJ)(n,s)};return i.id&&i.type?(0,a.Oy)(i):void 0}function P(e,t){const{byId:n}=e.users,{userIds:r}=e.contactList||{};return e=I(e={...e,contactList:{userIds:r?r.filter((e=>e!==t)):w.p}},{...n,[t]:{...n[t],isContact:void 0}}),L(e={...e,stories:{...e.stories,orderedPeerIds:{active:e.stories.orderedPeerIds.active.filter((e=>e!==t)),archived:e.stories.orderedPeerIds.archived.filter((e=>e!==t))}}},t,{settings:void 0})}function T(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{userSearch:{...(0,i.nTw)(e,n).userSearch,...t}},n)}function M(e,t,...[n=(0,s.g0)()]){return T(e,{fetchingStatus:t},n)}function x(e,t,n){const{fullInfoById:r}=e.users;return r[t]?L(e,t,{isBlocked:n}):e}function N(e,t){return{...e,users:{...e.users,statusesById:t}}}function L(e,t,n){const r=e.users.fullInfoById[t];return{...e,users:{...e.users,fullInfoById:{...e.users.fullInfoById,[t]:{...r,...n}}}}}function _(e,t,n){return{...e,users:{...e.users,commonChatsById:{...e.users.commonChatsById,[t]:n}}}}function B(e,t){const{statusesById:n}=e.users;return N(e,{...n,...t})}function F(e,...[t=(0,s.g0)()]){return(0,c.w)(e,{newContact:void 0},t)}function D(e,t,n,...[r=(0,s.g0)()]){return n.length?(0,c.w)(e,{inviteViaLinkModal:{missingUsers:n,chatId:t}},r):(0,c.w)(e,{inviteViaLinkModal:void 0},r)}function O(e,t,n){const{botAppPermissionsById:r}=e.users;return{...e,users:{...e.users,botAppPermissionsById:{...r,[t]:{...r[t],...n}}}}}function R(e,t,n,r,...[o=(0,s.g0)()]){const a=(0,i.nTw)(e,o);return(0,c.w)(e,{savedGifts:{...a.savedGifts,giftsByPeerId:{...a.savedGifts.giftsByPeerId,[t]:{gifts:n,nextOffset:r}}}},o)}var j=n(57309);function U(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{globalSearch:{...(0,i.nTw)(e,n).globalSearch,...t}},n)}function $(e,t,...[n=(0,s.g0)()]){return U(e,{currentContent:t},n)}function z(e,t,n,r,o,c,u,...[d=(0,s.g0)()]){const{resultsByType:l}=(0,i.nTw)(e,d).globalSearch||{},f=t.reduce(((e,t)=>(e[(0,j.D)(t)]=t,e)),{}),h=l?.[r]?.foundIds;if(void 0!==h&&Object.keys(f).every((e=>h.includes((0,j.D)(f[e])))))return U(e=V(e,{messages:!1},d),{resultsByType:{...((0,i.nTw)(e,d).globalSearch||{}).resultsByType,[r]:{foundIds:h,totalCount:n,nextOffsetId:c,nextOffsetRate:o,nextOffsetPeerId:u}}},d);const m=h||[],p=t.map((e=>(0,j.D)(e))).filter((e=>!m.includes(e))),g=Array.prototype.concat(m,p),y=(0,a.k)(m,g)?m:g;return U(e=V(e,{messages:!1},d),{resultsByType:{...((0,i.nTw)(e,d).globalSearch||{}).resultsByType,[r]:{totalCount:n,nextOffsetId:c,nextOffsetRate:o,nextOffsetPeerId:u,foundIds:y}}},d)}function V(e,t,...[n=(0,s.g0)()]){return U(e,{fetchingStatus:{...(0,i.nTw)(e,n).globalSearch.fetchingStatus,...t}},n)}var W=n(68344);function H(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{management:{...(0,i.nTw)(e,n).management,progress:t}},n)}function G(e,t,n,...[r=(0,s.g0)()]){const{management:o}=(0,i.nTw)(e,r);return(0,c.w)(e,{management:{...o,byChatId:{...o.byChatId,[t]:{...o.byChatId[t]||{},...n}}}},r)}var J=n(30708);function K(e,t){return{...e,settings:{...e.settings,byKey:{...e.settings.byKey,...t}}}}function q(e,t){return function(e,t){return{...e,sharedState:{...e.sharedState,...t}}}(e,{settings:{...(0,J.l)(e),...t}})}function X(e,t,n){const r=e.settings,o=r.themes[t];return{...e,settings:{...e.settings,themes:{...r.themes,[t]:{...o,...n}}}}}function Y(e,t){return{...e,chats:{...e.chats,notifyExceptionById:{...e.chats.notifyExceptionById,...t}}}}function Z(e,t){return{...e,chats:{...e.chats,notifyExceptionById:t}}}function Q(e,t,n){return{...e,chats:{...e.chats,notifyExceptionById:{...e.chats.notifyExceptionById,[t]:n}}}}function ee(e,t,n){return{...e,settings:{...e.settings,notifyDefaults:{...e.settings.notifyDefaults,[t]:{...e.settings.notifyDefaults?.[t],...n}}}}}function te(e,t){return e=x(e,t,!0),{...e,blocked:{...e.blocked,ids:[t,...e.blocked.ids],totalCount:e.blocked.totalCount+1}}}function ne(e,t){return e=x(e,t,!1),{...e,blocked:{...e.blocked,ids:e.blocked.ids.filter((e=>e!==t)),totalCount:e.blocked.totalCount-1}}}function re(e,t){return{...e,twoFaSettings:{...e.twoFaSettings,...t}}}var oe=n(20714);function se(e,t){return{...e,passcode:{...e.passcode,...t}}}function ae(e){return{...e,passcode:{}}}function ie(e,t=!0){return{...oe.HB,passcode:e.passcode,settings:oe.HB.settings,sharedState:ce(e.sharedState),...t&&{byTabId:Object.values(e.byTabId).reduce(((e,{id:t,isMasterTab:n})=>(e[t]={...oe.Je,isMasterTab:n,id:t},e)),{})}}}function ce(e){const{theme:t,shouldUseSystemTheme:n,animationLevel:r,language:o}=e.settings;return{...oe.$8,settings:{...oe.$8.settings,theme:t,shouldUseSystemTheme:n,animationLevel:r,language:o}}}function ue(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{payment:{...(0,i.nTw)(e,n).payment,...t}},n)}function de(e,t,...[n=(0,s.g0)()]){const r=(0,i.Osl)(e,n);return r?(0,c.w)(e,{starsPayment:{...r,...t}},n):e}function le(e,t,...[n=(0,s.g0)()]){return ue(e,{shippingOptions:t},n)}function fe(e,t,...[n=(0,s.g0)()]){return ue(e,{requestId:t},n)}function he(e,t,...[n=(0,s.g0)()]){return ue(e,{step:t},n)}function me(e,t,...[n=(0,s.g0)()]){return ue(e,{stripeCredentials:{...t}},n)}function pe(e,t,...[n=(0,s.g0)()]){return ue(e,{smartGlocalCredentials:{...t}},n)}function ge(e,t,...[n=(0,s.g0)()]){return ue(e,{confirmPaymentUrl:t},n)}function ye(e,t,...[n=(0,s.g0)()]){return ue(e,t?{receipt:t}:{receipt:void 0},n)}function be(e,...[t=(0,s.g0)()]){return(0,c.w)(e,{payment:{}},t)}function ve(e,...[t=(0,s.g0)()]){return(0,c.w)(e,{starsPayment:{}},t)}function we(e,...[t=(0,s.g0)()]){return ue(e,{isPaymentModalOpen:void 0,isExtendedMedia:void 0},t)}function Ie(e,t){return{...e,stars:{...e.stars,balance:t}}}function Ae(e,t,n,r){const o=e.stars?.history;if(!o)return e;const s={transactions:(o[t]?.transactions||[]).concat(n),nextOffset:r};return{...e,stars:{...e.stars,history:{...o,[t]:s}}}}function Ce(e,t,n){if(!e.stars)return e;const r={list:(e.stars.subscriptions?.list||[]).concat(t),nextOffset:n};return{...e,stars:{...e.stars,subscriptions:r}}}function Se(e,t){const n=e.stars?.subscriptions;return n?{...e,stars:{...e.stars,subscriptions:{...n,isLoading:t}}}:e}function Ee(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{starsTransactionModal:{transaction:t}},n)}function ke(e,t,...[n=(0,s.g0)()]){return Ee(e,{id:t.transactionId,peer:{type:"peer",id:t.botId},stars:{amount:t.totalAmount,nanos:0},date:t.date,title:t.title,description:t.description,photo:t.photo},n)}function Pe(e,t,n,...[r=(0,s.g0)()]){return(0,c.w)(e,{statistics:{byChatId:{...(0,i.nTw)(e,r).statistics.byChatId,[t]:n}}},r)}function Te(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{statistics:{...(0,i.nTw)(e,n).statistics,currentMessage:t,currentStory:void 0}},n)}function Me(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{statistics:{...(0,i.nTw)(e,n).statistics,currentStory:t,currentMessage:void 0}},n)}function xe(e,t,n,r,...[o=(0,s.g0)()]){const{statistics:a}=(0,i.nTw)(e,o);return(0,c.w)(e,{statistics:{...a,byChatId:{...a.byChatId,[t]:{...a.byChatId[t]||{},[n]:r}}}},o)}function Ne(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{statistics:{...(0,i.nTw)(e,n).statistics,monetization:t}},n)}function Le(e,t,...[n=(0,s.g0)()]){const r=(0,i.nTw)(e,n);return r.monetizationVerificationModal?(0,c.w)(e,{monetizationVerificationModal:{...r.monetizationVerificationModal,...t}},n):e}var _e=n(80140),Be=n(90709);function Fe(e,t,n){return(0,Be.L8)(t)?C(e,t,n):(0,r.wi)(e,t,n)}function De(e,t,n){return(0,Be.L8)(t)?L(e,t,n):(0,r.lt)(e,t,n)}function Oe(e,t,n){const r=(0,i.IVq)(e,t);return r?Re(e,t,{...r,isLoading:n}):e}function Re(e,t,n){return n?{...e,peers:{...e.peers,profilePhotosById:{...e.peers.profilePhotosById,[t]:n}}}:{...e,peers:{...e.peers,profilePhotosById:(0,a.cJ)(e.peers.profilePhotosById,[t])}}}function je(e,t,n){const r=(0,i.IVq)(e,t),{newPhotos:o,count:s,nextOffset:c,fullInfo:u,shouldInvalidateCache:d}=n,l=r,f=u.profilePhoto,h="fallbackPhoto"in u?u.fallbackPhoto:void 0,m="personalPhoto"in u?u.personalPhoto:void 0;if(!l||d)return f&&f.id!==o[0]?.id&&o.unshift(f),m&&m.id!==o[0]?.id&&o.unshift(m),h&&o.push(h),Re(e,t,{fallbackPhoto:h,personalPhoto:m,photos:o,count:s,nextOffset:c,isLoading:!1});const p=l.photos[l.photos.length-1].id===h?.id?l.photos.slice(0,-1):l.photos,g=(0,a.Xd)([...p,...o,h].filter(Boolean),"id");return Re(e,t,{fallbackPhoto:h,personalPhoto:m,photos:g,count:s,nextOffset:c,isLoading:!1})}function Ue(e,t,n,o){const s=(0,i.PVB)(e,t),a=(0,i.IVq)(e,t);if(!s||!a)return e;const c="title"in s&&(0,Be.WX)(s),u=(0,i.vGo)(e,t),d=(0,i.AWZ)(e,t),l=s.avatarPhotoId===n&&(!c||o),f=l?a.photos[1]:void 0;if(u&&(e=L(e,t,{fallbackPhoto:u.fallbackPhoto?.id===n?void 0:u.fallbackPhoto,personalPhoto:u.personalPhoto?.id===n?void 0:u.personalPhoto,profilePhoto:u.profilePhoto?.id===n?f:u.profilePhoto})),d){const o=d.profilePhoto?.id===n?f:d.profilePhoto;e=(0,r.lt)(e,t,{profilePhoto:o})}const h=l?f?.id:s.avatarPhotoId,m=l&&"title"in s&&(0,Be.WX)(s)?a.photos.filter((e=>e.id!==n)):a.photos.slice();return Re(e=Fe(e,t,{avatarPhotoId:h}),t,h?{...a,photos:m,count:a.count-1}:void 0)}function $e(e,t){const n=Object.entries(t).reduce(((e,[t,n])=>(e[t]?(e[t].byId={...e[t].byId,...n.byId},e[t].orderedIds=(0,a.Am)(n.orderedIds.concat(e[t].orderedIds)),e[t].profileIds=(0,a.Am)(n.profileIds.concat(e[t].profileIds)).sort(((e,t)=>t-e)),e[t].lastUpdatedAt=n.lastUpdatedAt,e[t].lastReadId=n.lastReadId):e[t]=n,e)),e.stories.byPeerId);return tt(e={...e,stories:{...e.stories,byPeerId:n}},Object.keys(t))}function ze(e,t,n,r,o){const{byId:s,orderedIds:c,profileIds:u,archiveIds:d,pinnedIds:l}=e.stories.byPeerId[t]||{},f=Object.keys(n).filter((e=>"isDeleted"in n[Number(e)])).map(Number),h={...s,...n};let m=[...c||[]],p=[...d||[]];const g=(0,a.Am)([...u||[]].concat(Object.values(n).reduce(((e,t)=>("isInProfile"in t&&t.isInProfile&&e.push(t.id),e)),[]))).sort(((e,t)=>t-e)).filter((e=>!f.includes(e)));return m=(0,a.Am)(Object.entries(n).reduce(((e,[t,n])=>("expireDate"in n&&n.expireDate&&n.expireDate>(0,_e.Fm)()&&e.push(Number(t)),e)),m)).filter((e=>!f.includes(e))),o&&(0,i.nZ4)(e,t)&&(p=(0,a.Am)(p.concat(Object.keys(n).map(Number))).sort(((e,t)=>t-e)).filter((e=>!f.includes(e)))),e={...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...e.stories.byPeerId[t],byId:h,orderedIds:m,profileIds:g,pinnedIds:l||r,...o&&{archiveIds:p}}}}},((0,i.nZ4)(e,t)||(0,i.mBe)(e,t)?.isContact||t===e.appConfig?.storyChangelogUserId)&&(e=function(e,t){const n=e.stories.byPeerId[t],r=n.orderedIds.reduce(((e,t)=>{const{date:r}=n.byId[t]||{};return r&&(!e||e<r)&&(e=r),e}),void 0);return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...n,lastUpdatedAt:r}}}}}(e,t),e=tt(e,[t])),e}function Ve(e,t,n,r){return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...e.stories.byPeerId[t],[r?"isArchiveFullyLoaded":"isFullyLoaded"]:n}}}}}function We(e,t,n){const{orderedIds:r}=(0,i._bp)(e,t)||{};return r?(n>=r[r.length-1]&&(e=Fe(e,t,{hasUnreadStories:!1})),{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...e.stories.byPeerId[t],lastReadId:n}}}}):e}function He(e,t,n,...[r=(0,s.g0)()]){const{orderedIds:o}=(0,i._bp)(e,t)||{};if(!o||!o.includes(n))return e;const{storyViewer:a}=(0,i.nTw)(e,r);return(0,c.w)(e,{storyViewer:{...a,lastViewedByPeerIds:{...a.lastViewedByPeerIds,[t]:n}}},r)}function Ge(e,t){return Object.entries(t).forEach((([t,{lastReadId:n,orderedIds:r}])=>{const o=(0,i.PVB)(e,t);o&&(e=Fe(e,t,{hasStories:!0,hasUnreadStories:!n||Boolean(n&&n<(o.maxStoryId||r[r.length-1]))}))})),e}function Je(e,t,n,r,...[o=(0,s.g0)()]){const a=(0,i.nTw)(e,o),{viewModal:u}=a.storyViewer,d=u?.storyId===t&&u.views?[...u.views,...n]:n;return e=Ke(e,!1,o),(0,c.w)(e,{storyViewer:{...a.storyViewer,viewModal:{...u,storyId:t,views:d,nextOffset:r,isLoading:!1}}},o)}function Ke(e,t,...[n=(0,s.g0)()]){const r=(0,i.nTw)(e,n),{viewModal:o}=r.storyViewer;return o?(0,c.w)(e,{storyViewer:{...r.storyViewer,viewModal:{...o,isLoading:t}}},n):e}function qe(e,t,n){const{orderedIds:r,profileIds:o,lastReadId:s,byId:a}=(0,i._bp)(e,t)||{orderedIds:[],profileIds:[]},c=r.filter((e=>e!==n)),u=o.filter((e=>e!==n)),d=c.length?r[r.length-1]:void 0,l=r[r.indexOf(n)-1],f=s===n?l:s,h={...a,[n]:{id:n,peerId:t,isDeleted:!0}},m=d?h[d]?.date:void 0,p=Boolean(c.length);return e=function(e,t,n){return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:n}}}}(e=Fe(e,t,{hasStories:p,hasUnreadStories:Boolean(p&&s&&d&&s<d)}),t,{byId:h,orderedIds:c,profileIds:u,lastUpdatedAt:m,lastReadId:f}),Object.values(e.byTabId).forEach((r=>{r.storyViewer.lastViewedByPeerIds?.[t]===n&&(e=He(e,t,l,r.id))})),p||(e={...e,stories:{...e.stories,orderedPeerIds:{active:e.stories.orderedPeerIds.active.filter((e=>e!==t)),archived:e.stories.orderedPeerIds.archived.filter((e=>e!==t))}}}),e}function Xe(e,t,n,r){const o=(0,i.Msb)(e,t,n);if(!o||!("content"in o))return e;const{views:s}=o,a=s?.reactionsCount||0,c=s?.reactions?.some((e=>void 0!==e.chosenOrder)),u=(0,Be.AK)(s?.reactions||[],[r].filter(Boolean)),d=a+(r?c?0:1:-1);return Ye(e,t,n,{sentReaction:r,views:{...s,reactionsCount:d,reactions:u}})}function Ye(e,t,n,r){const o=(0,i._bp)(e,t)||{byId:{},orderedIds:[],profileIds:[],archiveIds:[]};return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...o,byId:{...o.byId,[n]:{...o.byId[n],...r}}}}}}}function Ze(e,t,n,r){const o=(0,i.Msb)(e,t,n);if(!o||!("content"in o))return e;const{views:s}=o;return Ye(e,t,n,{views:{...s,...r}})}function Qe(e,t,n,r){const o=(0,i._bp)(e,t)||{byId:{},orderedIds:[],profileIds:[],archiveIds:[]},s=r?(0,a.Am)(o.profileIds.concat(n)).sort(((e,t)=>t-e)):o.profileIds.filter((e=>n!==e));return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...o,profileIds:s}}}}}function et(e,t,n){const r=(0,i.PVB)(e,t);return r?r.areStoriesHidden===n?e:tt(e=Fe(e,t,{areStoriesHidden:n}),[t]):e}function tt(e,t){const{currentUserId:n,stories:{byPeerId:r,orderedPeerIds:o}}=e,s=o.active.concat(o.archived).concat(t).reduce(((t,n)=>{if(!r[n]?.orderedIds?.length)return t;const o=(0,i.PVB)(e,n);return o?.areStoriesHidden?t.archived.push(n):t.active.push(n),t}),{active:[],archived:[]});function c(t,o){const s=(0,i.PVB)(e,t),c=(0,i.PVB)(e,o),u=(0,a.zV)(n===t,n===o);if(u)return u;const{lastUpdatedAt:d=0,orderedIds:l,lastReadId:f=0}=r[t]||{},h=f<l?.[l.length-1],{lastUpdatedAt:m=0,orderedIds:p,lastReadId:g=0}=r[o]||{},y=g<p?.[p.length-1],b=(0,a.zV)(h,y);if(b)return b;const v=(0,a.zV)("isPremium"in s,"isPremium"in c);if(v)return v;return(0,a.zV)((0,Be.L8)(t),(0,Be.L8)(o))||(0,a.zV)(d,m)}return s.archived=(0,a.Am)(s.archived).filter((e=>r[e]?.orderedIds?.length)).sort(c),s.active=(0,a.Am)(s.active).filter((e=>r[e]?.orderedIds?.length)).sort(c),{...e,stories:{...e.stories,orderedPeerIds:s}}}function nt(e,t){return{...e,stories:{...e.stories,stealthMode:t}}}var rt=n(95753);function ot(e,t,n){const r=e.chats.topicsInfoById[t]||{};return{...e,chats:{...e.chats,topicsInfoById:{...e.chats.topicsInfoById,[t]:{...r,...n}}}}}function st(e,t,n){const r=(0,i.xyP)(e,t)?.listedTopicIds||[];return ot(e,t,{listedTopicIds:(0,a.Am)([...r,...n])})}function at(e,t,n,r){const s=(0,i.pSx)(e,t),c=(0,a.dU)(r,"id");return e=ot(e,t,{topicsById:{...s,...c},totalCount:n}),r.forEach((n=>{e=(0,o.e4)(e,t,n.id,{firstMessageId:n.id}),e=(0,o.eA)(e,t,n.id,{lastMessageId:n.lastMessageId,threadId:n.id,chatId:t})})),e}function it(e,t,n,r){if(!(0,i.hds)(e,t))return e;const s=(0,i.S0q)(e,t,n),a=(0,i.pSx)(e,t),c={...s,...r};return c.id?(e=ot(e,t,{topicsById:{...a,[n]:c}}),e=(0,o.e4)(e,t,c.id,{firstMessageId:c.id}),e=(0,o.eA)(e,t,c.id,{lastMessageId:c.lastMessageId,threadId:c.id,chatId:t})):e}function ct(e,t,n){const r=(0,i.pSx)(e,t);return r?e=ot(e,t,{topicsById:(0,a.cJ)(r,[n])}):e}function ut(e,t,n){return ot(e,t,{orderedPinnedTopicIds:n})}},17965:(e,t,n)=>{"use strict";var r=n(16426),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,s,a,i,c,u,d=!1;t||(t={}),n=t.debug||!1;try{if(a=r(),i=document.createRange(),c=document.getSelection(),(u=document.createElement("span")).textContent=e,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var s=o[t.format]||o.default;window.clipboardData.setData(s,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(u),i.selectNodeContents(u),c.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");d=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),d=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),s=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(s,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(i):c.removeAllRanges()),u&&document.body.removeChild(u),a()}return d}},18104:(e,t,n)=>{"use strict";n.d(t,{A:()=>C});var r=n(84051),o=n(66644),s=n(88458),a=n(96454),i=n(87357),c=n(95807),u=n(14235),d=n(71322),l=n(37479),f=n(82117),h=n(37661),m=n(84080),p=n(17712),g=n(34780),y=n(46637),b=n(41257),v=n(35297),w=n(672),I=n(14745),A=n(61157);const C=(0,r.ph)((({ref:e,renderId:t,className:n,style:C,tgsUrl:E,play:k,playSegment:P,speed:T,noLoop:M,size:x,quality:N,isLowPriority:L,color:_,forceAlways:B,forceOnHeavyAnimation:F,sharedCanvas:D,sharedCanvasCoords:O,onClick:R,onLoad:j,onEnded:U,onLoop:$})=>{let z=(0,r.li)(null);e&&(z=e);const V=(0,I.A)(),[W,H]=(0,r.J0)(),G=(0,r.li)(),J=(0,r.li)(!0),K=!D&&_,q=(0,l.A)(K?_:void 0),X=k||!1!==k&&P,Y=(0,b.i)(k),Z=(0,b.i)(P),Q=(0,r.li)(),ee=B||F,[te,ne,re]=(0,h.A)(!(0,r.OV)()||ee);(0,m.Ay)(re,ne,ee),(0,r.vJ)((()=>{ee&&ne()}),[ee]),(0,v.A)((()=>{if(_&&!K){const{r:e,g:t,b:n}=(0,d.E2)(_);Q.current=[e,t,n]}else Q.current=void 0}),[_,K]);const oe=(0,r.li)(!1);(0,r._W)((()=>{oe.current=!0}));const se=(0,p.A)((()=>{if(G.current||oe.current||!E||D&&(!O||!D.offsetWidth||!D.offsetHeight)||(0,r.OV)()&&!ee)return;const e=z.current||D;if(!e)return;const n=(0,s.o)().init(E,e,t||(0,u.A)(),{size:x,noLoop:M,quality:N,isLowPriority:L,coords:O},V,Q.current,j,U,$);T&&n.setSpeed(T),H(n),G.current=n}));(0,r.vJ)((()=>{te&&((0,s.o)()?se():(0,s.Y)().then(se))}),[se,E,D,O,te]);const ae=(0,w.A)(se,[se],150);(0,y.A)(D,ae),(0,r.vJ)((()=>{W&&W.setColor(Q.current)}),[_,W]),(0,r._W)((()=>{G.current?.removeView(V)}));const ie=(0,p.A)(((e=!1)=>{W&&(Y.current||Z.current)&&!S(B)&&(Z.current?W.playSegment(Z.current,e,V):W.play(e,V))})),ce=(0,p.A)((()=>{(0,o.YS)(ie)})),ue=(0,p.A)((()=>{W?.isPlaying()&&W.pause(V)}));if((0,f.A)((([e])=>{void 0!==e&&M!==e&&W?.setNoLoop(M)}),[M,W]),(0,f.A)((([e])=>{void 0!==e&&O!==e&&W?.setSharedCanvasCoords(V,O)}),[O,V,W]),(0,r.vJ)((()=>{W&&(X?S(B,F)||ie(M):ue())}),[W,X,M,ie,ue,B,F]),(0,r.vJ)((()=>{W&&(J.current?J.current=!1:E&&(W.changeData(E),ie()))}),[ie,W,E]),(0,m.Ay)(ue,ie,!X||ee),(0,g.Ay)(ue,ie,!X||B),(0,A.A)(ue,ce,!X||B),!D)return r.Ay.createElement("div",{ref:z,className:(0,i.A)("AnimatedSticker",n),style:(0,c.A)(void 0!==x&&`width: ${x}px; height: ${x}px;`,R&&!a.cp&&"cursor: pointer",q,C),onClick:R})}));function S(e=!1,t=!1){return!e&&(!t&&(0,r.OV)()||(0,g.c_)()||(0,A.g)())}},18276:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(84051),o=n(87357);const s=({name:e,ref:t,className:n,style:s,role:a,ariaLabel:i,character:c,onClick:u})=>r.Ay.createElement("i",{ref:t,className:(0,o.A)(`icon icon-${e}`,n),style:s,"aria-hidden":!i,"aria-label":i,"data-char":c,role:a,onClick:u})},18501:(e,t,n)=>{"use strict";n.d(t,{QY:()=>L,kf:()=>B,fd:()=>N});var r=n(84051),o=n(13439),s=n(23174),a=n(87357),i=n(85982),c=n(6e4),u=n(58734),d=n(4961),l=n(56362),f=n(57675),h=n(17712),m=n(18276);const p=({canBeCollapsible:e,isToggleDisabled:t,children:n})=>{const o=(0,r.li)(null),{isCollapsed:i,isCollapsible:c,setIsCollapsed:u}=(0,f.A)(o,4,void 0,!e),d=!t&&i,l=(0,h.A)((()=>{u(!1)})),p=(0,h.A)((()=>{u((e=>!e))}));return r.Ay.createElement("span",{className:(0,a.A)("KU67Uur0",i&&"y_uRZXtA"),onClick:d?l:void 0},r.Ay.createElement("blockquote",{className:"m3sD7_cn",ref:o,"data-entity-type":s.C7.Blockquote},r.Ay.createElement("div",{className:"JNVT2DU9"},n),c&&r.Ay.createElement("div",{className:(0,a.A)("pyX4NpPB",!t&&"RmvXwV0W"),onClick:t?void 0:p,"aria-hidden":!0},r.Ay.createElement(m.A,{name:i?"down":"up"}))))},g={js:"JavaScript",javascript:"JavaScript",ts:"TypeScript",typescript:"TypeScript",python:"Python",py:"Python",go:"Go",rust:"Rust",func:"FunC",c:"C","c++":"C++",cpp:"C++",fortran:"Fortran",f90:"Fortran",f:"Fortran",java:"Java",sql:"SQL",swift:"Swift","objective-c":"Objective-C",kotlin:"Kotlin",ruby:"Ruby",rb:"Ruby",php:"PHP",perl:"Perl",bash:"Bash",sh:"Shell",markdown:"Markdown","c#":"C#",cs:"C#",json:"JSON",yaml:"YAML",yml:"YAML",solidity:"Solidity",sol:"Solidity",tl:"TL"};var y=n(56863),b=n(86070),v=n(59030),w=n(39751);const I=(0,r.ph)((({text:e,className:t,noCopy:n,onWordWrapToggle:s})=>{const{showNotification:c}=(0,o.ko)(),u=(0,r.li)(null),l=(0,w.A)(),f=(0,v.A)(),[h,p]=(0,r.J0)(!0),[g,y]=(0,r.J0)(!1),b=(0,r.hb)((()=>{const t=(0,d.o)(e,u.current.parentElement);y(t)}),[e]);(0,r.vJ)((()=>{h&&b()}),[b,h,e,l]);const I=(0,r.hb)((()=>{(0,i.eM)(e),c({message:f("TextCopied")})}),[f,c,e]),A=(0,r.hb)((()=>{p(!h),s?.(!h)}),[h,s]),C=(0,a.A)("L95Dh7wN",!g&&n&&"zctwFUQ8"),S=(0,a.A)("pMUccFN9",t),E=(0,a.A)("a44ZN3hD",h&&"jq1KLfVD");return r.Ay.createElement("div",{className:S,ref:u},r.Ay.createElement("div",{className:C},g&&r.Ay.createElement("div",{className:E,onClick:A,title:"Word Wrap"},r.Ay.createElement(m.A,{name:"word-wrap"})),!n&&r.Ay.createElement("div",{className:"auCNtLQ4",onClick:I,title:f("Copy")},r.Ay.createElement(m.A,{name:"copy"}))))})),A=(0,r.ph)((({text:e,language:t,noCopy:o})=>{const[i,c]=(0,r.J0)(!0),{result:u}=(0,y.A)((()=>t?Promise.all([n.e(2118),n.e(3325)]).then(n.bind(n,73325)).then((n=>n.default(e,t))):Promise.resolve(void 0)),[t,e]),d=(0,r.hb)((e=>{c(e)}),[]),l=(0,a.A)("code-block",!i&&"no-word-wrap");return r.Ay.createElement(b.A,{className:"CodeBlock"},t&&r.Ay.createElement("p",{className:"code-title"},g[(f=t).toLowerCase()]??f),r.Ay.createElement("pre",{className:l,"data-entity-type":s.C7.Pre,"data-language":t},u??e,r.Ay.createElement(I,{text:e,className:"code-overlay",onWordWrapToggle:d,noCopy:o})));var f}));var C=n(87412),S=n(84685),E=n(83868),k=n(37661);const P=new Map,T=(0,a.x)("Spoiler"),M=(0,r.ph)((({children:e,containerId:t})=>{const n=(0,r.li)(null),[o,a]=(0,k.A)(),i=(0,h.A)((e=>{t&&(o||(0,E.A)(e),P.get(t)?.forEach((e=>e())))}));return(0,r.vJ)((()=>{if(t)return P.has(t)?P.get(t).push(a):P.set(t,[a]),()=>{P.delete(t)}}),[t]),r.Ay.createElement("span",{className:T("&",!o&&"concealed",!o&&Boolean(t)&&"animated"),onClick:t&&!o?i:void 0,"data-entity-type":s.C7.Spoiler},r.Ay.createElement("span",{className:T("content"),ref:n},e))})),x=64;function N({text:e,entities:t,highlight:n,emojiSize:i,shouldRenderAsHtml:c,containerId:f,asPreview:h,isProtected:m,observeIntersectionForLoading:g,observeIntersectionForPlaying:y,withTranslucentThumbs:b,sharedCanvasRef:v,sharedCanvasHqRef:w,cacheBuster:I,forcePlayback:E,noCustomEmojiPlayback:k,isInSelectMode:P,chatId:T,messageId:x,threadId:N,maxTimestamp:L}){if(!t?.length)return _({content:e,highlight:n,emojiSize:i,shouldRenderAsHtml:c,asPreview:h});const B=[];let U=!1;const $=function(e){const t=new Set,n=[];return e.forEach(((r,o)=>{if(t.has(o))return;const s=F(r,o,e,t);s&&(s.organizedIndexes.forEach((e=>{t.add(e)})),n.push(s))})),n}(t);function z(t,B,F,$){const V=[],{entity:W,nestedEntities:H}=F,{offset:G,length:J,type:K}=W;let q=e.substring(t,G);const X=q.length;q&&(U&&q.length>0&&"\n"===q[0]&&(q=q.substr(1),U=!1),q&&V.push(..._({content:q,highlight:n,emojiSize:i,shouldRenderAsHtml:c,asPreview:h})));const Y=t+X,Z=Y+J;let Q=e.substring(G,G+J);const ee=[];if(U&&Q.length>0&&"\n"===Q[0]&&(Q=Q.substr(1),U=!1),K===s.C7.Pre&&(U=!0),H.length){let e=Y;H.forEach(((t,n)=>{const{renderResult:r,entityEndIndex:o}=z(e,Z,t,n===H.length-1);ee.push(...r),e=o}))}const te=c?function(e,t,n){const r="string"==typeof t?t:void 0,o=e.type===s.C7.Pre?t.trimEnd():t,a=n.length?n.join(""):(0,d.A)(o,["escape_html","emoji_html","br_html"]).join("");if(!r)return a;switch(e.type){case s.C7.Bold:return`<b>${a}</b>`;case s.C7.Italic:return`<i>${a}</i>`;case s.C7.Underline:return`<u>${a}</u>`;case s.C7.Code:return`<code class="text-entity-code">${a}</code>`;case s.C7.Pre:return`\`\`\`${(0,d.A)(e.language||"",["escape_html"])}<br/>${a}<br/>\`\`\`<br/>`;case s.C7.Strike:return`<del>${a}</del>`;case s.C7.MentionName:return`<a\n        class="text-entity-link"\n        data-entity-type="${s.C7.MentionName}"\n        data-user-id="${e.userId}"\n        contenteditable="false"\n        dir="auto"\n      >${a}</a>`;case s.C7.Url:case s.C7.TextUrl:return`<a\n        class="text-entity-link"\n        href=${D(r,e)}\n        data-entity-type="${e.type}"\n        dir="auto"\n      >${a}</a>`;case s.C7.Spoiler:return`<span\n        class="spoiler"\n        data-entity-type="${s.C7.Spoiler}"\n        >${a}</span>`;case s.C7.CustomEmoji:return(0,u.Y5)(r,e);case s.C7.Blockquote:return`<blockquote\n        class="blockquote"\n        data-entity-type="${s.C7.Blockquote}"\n        >${a}</blockquote>`;default:return a}}(W,Q,ee):function({entity:e,entityContent:t,nestedEntityContent:n,highlight:i,containerId:c,asPreview:u,isProtected:d,observeIntersectionForLoading:f,observeIntersectionForPlaying:h,withTranslucentThumbs:m,emojiSize:g,sharedCanvasRef:y,sharedCanvasHqRef:b,cacheBuster:v,forcePlayback:w,noCustomEmojiPlayback:I,isInSelectMode:E,chatId:k,messageId:P,threadId:T,maxTimestamp:x}){const N="string"==typeof t&&t,L=n.length?n:t;function B(){return _({content:L,highlight:i,emojiSize:g,asPreview:u})}if(!N)return B();if(u){const t=B();return e.type===s.C7.Spoiler?r.Ay.createElement(M,null,t):e.type===s.C7.CustomEmoji?r.Ay.createElement(C.A,{key:v?`${v}-${e.offset}`:void 0,documentId:e.documentId,size:g,isSelectable:!0,withSharedAnimation:!0,sharedCanvasRef:y,sharedCanvasHqRef:b,observeIntersectionForLoading:f,observeIntersectionForPlaying:h,withTranslucentThumb:m,forceAlways:w,noPlay:I}):t}switch(e.type){case s.C7.Bold:return r.Ay.createElement("strong",{"data-entity-type":e.type},B());case s.C7.Blockquote:return r.Ay.createElement(p,{canBeCollapsible:e.canCollapse,isToggleDisabled:E},B());case s.C7.BotCommand:return r.Ay.createElement("a",{onClick:O,className:"text-entity-link",dir:"auto","data-entity-type":e.type},B());case s.C7.Hashtag:{const[n,o]=t.split("@");return r.Ay.createElement("a",{onClick:()=>R(n,o),className:"text-entity-link",dir:"auto","data-entity-type":e.type},B())}case s.C7.Cashtag:{const[n,o]=t.split("@");return r.Ay.createElement("a",{onClick:()=>R(n,o),className:"text-entity-link",dir:"auto","data-entity-type":e.type},B())}case s.C7.Code:return r.Ay.createElement("code",{className:(0,a.A)("text-entity-code","clickable"),onClick:j,role:"textbox",tabIndex:0,"data-entity-type":e.type},B());case s.C7.Email:return r.Ay.createElement("a",{href:`mailto:${N}`,target:"_blank",rel:"noopener noreferrer",className:"text-entity-link",dir:"auto","data-entity-type":e.type},B());case s.C7.Italic:return r.Ay.createElement("em",{"data-entity-type":e.type},B());case s.C7.MentionName:return r.Ay.createElement(l.A,{userId:e.userId},B());case s.C7.Mention:return r.Ay.createElement(l.A,{username:N},B());case s.C7.Phone:return r.Ay.createElement("a",{href:`tel:${N}`,className:"text-entity-link",dir:"auto","data-entity-type":e.type},B());case s.C7.Pre:return r.Ay.createElement(A,{text:N,language:e.language,noCopy:d});case s.C7.Strike:return r.Ay.createElement("del",{"data-entity-type":e.type},B());case s.C7.TextUrl:case s.C7.Url:return r.Ay.createElement(S.A,{url:D(N,e),text:N},B());case s.C7.Underline:return r.Ay.createElement("ins",{"data-entity-type":e.type},B());case s.C7.Timestamp:return!k||!P||!x||e.timestamp>x?B():r.Ay.createElement("a",{onClick:()=>function(e,t,n,r){(0,o.ko)().openMediaFromTimestamp({chatId:e,messageId:t,threadId:n,timestamp:r})}(k,P,T,e.timestamp),className:"text-entity-link",dir:"auto","data-entity-type":e.type},B());case s.C7.Spoiler:return r.Ay.createElement(M,{containerId:c},B());case s.C7.CustomEmoji:return r.Ay.createElement(C.A,{key:v?`${v}-${e.offset}`:void 0,documentId:e.documentId,size:g,isSelectable:!0,withSharedAnimation:!0,sharedCanvasRef:y,sharedCanvasHqRef:b,observeIntersectionForLoading:f,observeIntersectionForPlaying:h,withTranslucentThumb:m,forceAlways:w,noPlay:I});case s.C7.QuoteFocus:return r.Ay.createElement("span",{className:"matching-text-highlight is-quote"},B());default:return B()}}({entity:W,entityContent:Q,nestedEntityContent:ee,highlight:n,containerId:f,asPreview:h,isProtected:m,observeIntersectionForLoading:g,observeIntersectionForPlaying:y,withTranslucentThumbs:b,emojiSize:i,sharedCanvasRef:v,sharedCanvasHqRef:w,cacheBuster:I,forcePlayback:E,noCustomEmojiPlayback:k,isInSelectMode:P,chatId:T,messageId:x,threadId:N,maxTimestamp:L});if(Array.isArray(te)?V.push(...te):V.push(te),$&&Z<B){let t=e.substring(Z,B);U&&t.length>0&&"\n"===t[0]&&(t=t.substring(1)),t&&V.push(..._({content:t,highlight:n,emojiSize:i,shouldRenderAsHtml:c,asPreview:h}))}return{renderResult:V,entityEndIndex:Z}}let V=0;return $.forEach(((t,n)=>{const{renderResult:r,entityEndIndex:o}=z(V,e.length,t,n===$.length-1);B.push(...r),V=o})),B}function L(e){const{text:t,entities:n}=e||{};if(!t)return"";const r=N({text:t,entities:n,shouldRenderAsHtml:!0});return Array.isArray(r)?r.join(""):r}function _({content:e,highlight:t,focusedQuote:n,emojiSize:r,shouldRenderAsHtml:o,asPreview:s}){if(Array.isArray(e)){const a=[];return e.forEach((e=>{a.push(..._({content:e,highlight:t,focusedQuote:n,emojiSize:r,shouldRenderAsHtml:o,asPreview:s}))})),a}if(o)return(0,d.A)(e,["escape_html","emoji_html","br_html"]);const a=[r&&r>x?"hq_emoji":"emoji"],i={};return s||a.push("br"),t&&(a.push("highlight"),i.highlight=t),(0,d.A)(e,a,i)}function B(e,t){const n=[],r=t.offset,o=t.offset+t.length;for(const s of e){const e=s.offset,a=s.offset+s.length;a<=r||e>o||e>r&&a<o?n.push(s):(e<r&&a>r&&(n.push({...s,length:r-e}),n.push({...s,offset:r,length:a-r})),e<o&&a>o&&(n.push({...s,offset:o,length:a-r-t.length}),n.push({...s,length:o-e})))}return n.push(t),n.sort(((e,t)=>e.offset-t.offset||t.length-e.length))}function F(e,t,n,r){const{offset:o,length:s}=e,a=new Set([t]);if(r.has(t))return;const i=[];return n.filter(((e,n)=>n>t&&e.offset>=o&&e.offset<o+s)).map((e=>F(e,n.indexOf(e),n,r))).filter(Boolean).forEach((e=>{let t=!1;e.organizedIndexes.forEach((e=>{t||a.has(e)||(t=!0),a.add(e)})),t&&i.push(e)})),{entity:e,organizedIndexes:a,nestedEntities:i}}function D(e,t){const{type:n}=t;return n===s.C7.TextUrl&&t.url?t.url:e}function O(e){(0,o.ko)().sendBotCommand({command:e.currentTarget.innerText})}function R(e,t){e&&(t?(0,o.ko)().openChatByUsername({username:t,onChatChanged:{action:"searchHashtag",payload:{hashtag:e}}}):(0,o.ko)().searchHashtag({hashtag:e}))}function j(e){(0,i.eM)(e.currentTarget.innerText),(0,o.ko)().showNotification({message:(0,c.yE)("TextCopied")})}},18653:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(84051),o=n(13439),s=n(90709),a=n(3544),i=n(29807),c=n(58849),u=n(4961),d=n(59030),l=n(96773),f=n(74936);const h=(0,r.ph)((0,o.EK)(((e,{message:t})=>{const n=(0,i.zcZ)(e,t),r=t.content.storyData;return{poll:n,story:r&&(0,i.Msb)(e,r.peerId,r.id)}}))((function({message:e,translatedText:t,noEmoji:n=!1,highlight:o,truncateLength:i=a.vs,withTranslucentThumbs:h=!1,inChatList:m=!1,emojiSize:p,poll:g,story:y,observeIntersectionForLoading:b,observeIntersectionForPlaying:v}){const w=(0,d.A)(),I=(0,s.Sb)(e,m),A=Boolean((0,s.cs)(e)),C=(0,s._P)(e),S=(0,s.FE)({poll:g,story:y});if(!I&&!A&&!C){const s=t?.text||(0,a.dS)(w,e,S,n,i),d=(0,c.A)(s,i);return r.Ay.createElement("span",null,o?(0,u.A)(d,["emoji","highlight"],{highlight:o}):(0,u.A)(d))}const E=!n&&(0,a.Su)(e);return r.Ay.createElement(r.Ay.Fragment,null,[E?(0,u.A)(`${E} `):void 0,(0,a.oL)(w,e,S,C?r.Ay.createElement(l.A,{message:e,asPreview:!0}):r.Ay.createElement(f.A,{messageOrStory:e,translatedText:t,highlight:o,asPreview:!0,observeIntersectionForLoading:b,observeIntersectionForPlaying:v,withTranslucentThumbs:h,truncateLength:i,inChatList:m,emojiSize:p}))].flat().filter(Boolean))})))},19129:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(84051),o=n(30857),s=n(5718),a=n(41257),i=n(35297);const c=function(e,t,n=!1){const c=t?e:()=>e();t??(t=[e]);const u=(0,r.li)(),d=(0,o.A)(),l=(0,a.i)(c);function f(e=!1){const t=l.current;if(n)t((e=>{u.current!==e&&(u.current=e,d())}));else{const n=t();u.current!==n&&(u.current=n,e||d())}}return(0,i.A)((()=>{f(!0)}),t),(0,s.R)(f,t),u.current}},19314:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const r=new WeakMap;function o(e){return(...t)=>{let n=r.get(e);const o=t.map(String).join("_");if(n){const e=n.get(o);if(e)return e}else n=new Map,r.set(e,n);const s=e(...t);return n.set(o,s),s}}},19408:(e,t,n)=>{"use strict";n.d(t,{$j:()=>E,C5:()=>S,DB:()=>le,DI:()=>Ze,D_:()=>Me,EH:()=>Ae,Eg:()=>Ee,GA:()=>j,H1:()=>Pe,Hd:()=>se,Jb:()=>ee,Ji:()=>T,Jl:()=>q,K3:()=>L,KL:()=>Y,KQ:()=>ie,LM:()=>oe,L_:()=>he,Lz:()=>P,N1:()=>X,NH:()=>Ve,O5:()=>K,OE:()=>et,PI:()=>We,QP:()=>fe,Qb:()=>W,R4:()=>pe,RB:()=>He,Rj:()=>Ce,Rn:()=>Ke,S1:()=>Ge,SL:()=>xe,Sp:()=>re,Sz:()=>ae,T:()=>H,Tl:()=>te,U0:()=>D,VC:()=>Te,VS:()=>nt,Vl:()=>O,Vw:()=>$,Vz:()=>Ye,WA:()=>ge,Xf:()=>v,Y7:()=>ne,Y8:()=>je,Ys:()=>F,ZZ:()=>Ne,a_:()=>qe,cO:()=>ze,dU:()=>z,dk:()=>R,fc:()=>N,fo:()=>G,gC:()=>k,gM:()=>tt,h:()=>J,iL:()=>Xe,j_:()=>_,jp:()=>V,jy:()=>ye,kd:()=>Z,lC:()=>Je,ld:()=>Ie,mD:()=>be,me:()=>w,nJ:()=>Q,nT:()=>$e,nk:()=>ue,o4:()=>Re,or:()=>ve,p5:()=>Se,rA:()=>x,rK:()=>B,rQ:()=>U,rT:()=>ke,ry:()=>Oe,sZ:()=>Qe,tO:()=>me,tV:()=>Le,v8:()=>Ue,vR:()=>M,ww:()=>_e,xd:()=>rt,xz:()=>Fe,yF:()=>A,yn:()=>De,yu:()=>we,zc:()=>ce,ze:()=>I});var r=n(23174),o=n(31481),s=(n(96454),n(14487)),a=n(87894),i=n(60343),c=n(79824),u=n(80140),d=n(90709),l=n(26129),f=n(21133),h=n(46211),m=n(1903),p=n(30163),g=n(5056),y=n(88368),b=n(19926);function v(e,...[t=(0,s.g0)()]){const{messageLists:n}=(0,g.n)(e,t);if(n.length)return n[n.length-1]}function w(e,...[t=(0,s.g0)()]){const{chatId:n}=v(e,t)||{};return n?(0,f.hd)(e,n):void 0}function I(e,t){return e.messages.byChatId[t]?.byId}function A(e,t){return e.scheduledMessages.byChatId[t]?.byId}function C(e,t,n,r,...[o=(0,s.g0)()]){return(0,g.n)(e,o).tabThreads[t]?.[n]?.[r]}function S(e,t,n,r){return E(e,t,n)?.[r]}function E(e,t,n){const r=e.messages.byChatId[t];if(!r)return;return r.threadsById[n]||void 0}function k(e,t,n){return S(e,t,n,"listedIds")}function P(e,t,n,r){const o=T(e,t,n);if(o)return o.find((e=>e[0]<=r&&e[e.length-1]>=r))}function T(e,t,n){return S(e,t,n,"outlyingLists")}function M(e,t,n,r,...[o=(0,s.g0)()]){switch(r){case"thread":return x(e,t,n,o);case"pinned":return N(e,t,n);case"scheduled":return L(e,t,n)}}function x(e,t,n,...[r=(0,s.g0)()]){return C(e,t,n,"viewportIds",r)}function N(e,t,n){return S(e,t,n,"pinnedIds")}function L(e,t,n){return S(e,t,n,"scheduledIds")}function _(e,t,n,...[r=(0,s.g0)()]){return C(e,t,n,"scrollOffset",r)}function B(e,t,n){return S(e,t,n,"lastScrollOffset")}function F(e,t,n){return S(e,t,n,"editingId")}function D(e,t,n){return S(e,t,n,"editingDraft")}function O(e,t){return S(e,t,r.l3,"editingScheduledId")}function R(e,t){return S(e,t,r.l3,"editingScheduledDraft")}function j(e,t,n){return S(e,t,n,"draft")}function U(e,t,n){return S(e,t,n,"noWebPage")}function $(e,t,n){return S(e,t,n,"threadInfo")}function z(e,t,n){return S(e,t,n,"firstMessageId")}function V(e,t,n,...[r=(0,s.g0)()]){return C(e,t,n,"replyStack",r)}function W(e,t,n){const r=(0,f.hd)(e,t),s=$(e,t,n);if(r&&s&&void 0!==s.messagesCount)return r.isForum&&n!==o.HxB?s.messagesCount-1:s.messagesCount}function H(e,t){const n=he(e,t);if(n&&n!==r.l3)return e.messages.byChatId[t.chatId].threadsById[n]}function G(e,t,n,...[o=(0,s.g0)()]){const a=v(e,o);if(!a)return!1;const{threadInfo:i}=H(e,n)||{};return t===a.chatId&&(a.threadId===r.l3||i&&a.threadId===i.threadId)}function J(e,t,n,...[o=(0,s.g0)()]){const a=x(e,t,n,o);if(!a||!a.length)return!0;const c=(0,d.cG)(t,n,e.currentUserId);let u;if(n===r.l3){const n=(0,f.ZZ)(e,t);if(!n)return!0;u=n}else if(c){const t=(0,f.ZZ)(e,String(n),"saved");if(!t)return!0;u=t}else{const r=$(e,t,n);if(r&&r.lastMessageId)u=r.lastMessageId;else{if(!r?.threadId)return;u=Number(r?.threadId)}}return!(!(0,i.iL)(u)||K(e,t,u))||a[a.length-1]>=u}function K(e,t,n){const r=I(e,t);return r?r[n]:void 0}function q(e,t,n){const r=A(e,t);return r?r[n]:void 0}function X(e,t){return e.quickReplies.messagesById[t]}function Y(e,t,n,r){if("scheduled"===r){const n=O(e,t);return n?q(e,t,n):void 0}{const r=F(e,t,n);return r?K(e,t,r):void 0}}function Z(e,t,...[n=(0,s.g0)()]){const{chatId:r,messageId:o}=(0,g.n)(e,n).focusedMessage||{};return r===t?o:void 0}function Q(e,t,n,...[r=(0,s.g0)()]){const o=Z(e,t.chatId,r),a=(0,g.n)(e,r).focusedMessage?.threadId;return n===a&&!!o&&(o===t.id||o===t.previousLocalId)}function ee(e,t){const{lastReadOutboxMessageId:n}=(0,f.hd)(e,t.chatId)||{};return(0,d.Nb)(t)||!n||n<t.id}function te(e,t,n=!1){return ee(e,t)||n?(0,d._I)(t):"read"}function ne(e,t){const{senderId:n}=t,r=(0,f.hd)(e,t.chatId),o=(0,b.mB)(e,e.currentUserId);return n?r&&(0,d.WX)(r)&&!r.areProfilesShown?r:(0,h.PV)(e,n):t.isOutgoing?o:r}function re(e,t,n){return n.map((n=>{const r=K(e,t,n);return r&&ne(e,r)})).filter(Boolean)}function oe(e,t,n){const r=K(e,t,n);return r&&ne(e,r)}function se(e,t){const{fromId:n}=t;if(n)return(0,h.PV)(e,n)}function ae(e,t){if(Boolean(t.content.storyData)){const n=t.content.storyData.peerId;return(0,h.PV)(e,n)}const{forwardInfo:n}=t;if(n){if(n.isChannelPost&&n.fromChatId)return(0,f.hd)(e,n.fromChatId);if(!n.hiddenUserName)return n.fromId?(0,h.PV)(e,n.fromId):n.savedFromPeerId?(0,h.PV)(e,n.savedFromPeerId):void 0}}function ie(e,t){return e.messages.pollById[t]}function ce(e,t){if(t.content.pollId)return ie(e,t.content.pollId)}function ue(e,t){const{chatId:n}=t,r=(0,f.hd)(e,n);if(!r?.isForum)return;const o=he(e,t);return(0,y.S0)(e,n,o)}const de=10;function le(e,t,n){const r=(0,f.hd)(e,t);return!!r&&n!==o.HxB&&(r.isCreator||(0,d.ub)(r,"deleteMessages")||r.isForum&&function(e,t,n){const r=(0,y.S0)(e,t,n);if(r&&!r.isOwner)return!1;const o=E(e,t,n);if(!o)return!1;const{listedIds:s}=o;return!(!s||s.length+1>=de||s.some((n=>{const r=K(e,t,n);return!r||!r.isOutgoing})))}(e,r.id,n))}function fe(e,t){const{chatId:n,senderId:r,forwardInfo:s,savedPeerId:a}=t;return a||(n===e.currentUserId?s?.savedFromPeerId?s.savedFromPeerId:s?.fromId?s.fromId:s?.hiddenUserName?o.Ckz:r:void 0)}function he(e,t){const n=fe(e,t);if(n)return n;const s=(0,f.hd)(e,t.chatId),{content:a}=t,{replyToMsgId:i,replyToTopId:c,isForumTopic:u}=(0,l.Q)(t)||{};return"action"in a&&"topicCreate"===a.action?.type?t.id:s?.isForum?u&&(c||i)||o.HxB:s&&(0,d.yn)(s)?r.l3:s&&(0,d.Vs)(s)&&(c||i)||r.l3}function me(e,t,n){const r=(0,f.hd)(e,t.chatId);if(!r||r.isRestricted||r.isForbidden)return!1;const o=(0,d.Nb)(t),s=(0,d.u7)(t);if(o||s)return!1;const a=$(e,t.chatId,n),i=Boolean(!a?.isCommentsInfo&&a?.fromChannelId),c=(0,f.AW)(e,r.id),u=(0,y.S0)(e,r.id,n);if(!(0,d.__)(r,u,i,c))return!1;const l=ue(e,t);return!l||!l.isClosed||l.isOwner||(0,d.ub)(r,"manageTopics")}function pe(e,t){const n=(0,d.Nb)(t),r=(0,d.u7)(t),o=(0,d._P)(t),s=(0,d.G5)(t),{content:a}=t,i=a.storyData?(0,m.Ms)(e,a.storyData.peerId,a.storyData.id):a.webPage?.story?(0,m.Ms)(e,a.webPage.story.peerId,a.webPage.story.id):void 0,c=Oe(e,t.chatId),u=i&&("isDeleted"in i||"noForwards"in i&&i.noForwards);return!n&&!o&&!c&&!u&&(t.isForwardingAllowed||r)&&!s}function ge(e,t,n){const r=(0,f.hd)(e,t.chatId);if(!r||r.isRestricted)return{};const o=(0,d.L8)(r.id),s=(0,f.nZ)(e,t.chatId),a=(0,d.yn)(r),i=(0,d.Vs)(r),c=(0,d.WX)(r),l=Boolean((0,b.yp)(e,r.id)),h=(0,d.Nb)(t),m=(0,d.HN)(t),g=(0,d.u7)(t),y=(0,d.Ie)(t),v=(0,d.Ak)(t),w=(0,d._P)(t),I=(0,d.G5)(t),{content:A}=t,C=(0,d.Ax)(t),S="boostApply"===t.content.action?.type,E=r.isCreator||!c&&!(0,d.Sq)(r,"pinMessages")||(0,d.ub)(r,"pinMessages"),k=o||E,P=((o?s:!a&&(i?E:!!c&&(r.isCreator||(0,d.ub)(r,"editMessages"))))||(0,u.Fm)()-t.date<(e.config?.editTimeLimit||1/0))&&!(A.sticker||A.contact||A.pollId||A.action||A.video?.isRound||A.location||A.invoice||A.giveaway||A.giveawayResults||C)&&!v&&!t.viaBotId&&!r.isForbidden,T=(0,d.cG)(r.id,n,e.currentUserId),M=me(e,t,n),x=M||!T&&!h&&!g&&(i||a||(0,d.WX)(r));let L=!h&&!g&&!w&&k&&!T,_=!1;const B=N(e,r.id,n);L&&(_=Boolean(B&&B.includes(t.id)),L=!_);const F=S&&y&&!r.isCreator&&!(0,d.ub)(r,"deleteMessages"),D=(!h||m)&&!g&&!F&&(o||y||a||r.isCreator||(0,d.ub)(r,"deleteMessages")),O=!o&&!y,R=D&&!r.isForbidden&&(o&&!s&&!l||a&&(y||(0,d.ub)(r,"deleteMessages")||r.isCreator)),j=y||c&&(r.isCreator||(0,d.ub)(r,"editMessages")),U=!h&&!w&&P&&j,$=Boolean(t.content.sticker),z=$&&(0,p.Ij)(e,t.content.sticker),V=!w&&$&&!z,W=!w&&z,H=!w,G=!h&&!w&&(c||i),J=!h&&!w,K=Boolean(A.webPage?.document||A.webPage?.video||A.webPage?.photo||A.audio||A.voice||A.photo||A.video||A.document||A.sticker)&&!I,q=t.content.video?.isGif,X=A.pollId?ie(e,A.pollId):void 0,Y=!X?.summary.closed&&!X?.summary.quiz&&X?.results.results?.some((e=>e.isChosen)),Z=j&&X&&!X.summary.closed&&!v;return{noOptions:[M,x,U,L,_,O,D,R,V,W,H,G,J,K,q,Y,Z].every((e=>!e)),canReply:M,canReplyGlobally:x,canEdit:U,canPin:L,canUnpin:_,canReport:O,canDelete:D,canDeleteForAll:R,canFaveSticker:V,canUnfaveSticker:W,canCopy:H,canCopyLink:G,canSelect:J,canDownload:K,canSaveGif:q,canRevote:Y,canClosePoll:Z}}function ye(e,t,...[n=(0,s.g0)()]){const{messageIds:r}=(0,g.n)(e,n).selectedMessages||{},{chatId:a,threadId:i}=v(e,n)||{},c=t?.length?t:r;return a&&i&&c?function(e,t,n,r){const s=I(e,t);if(r.length>o.map)return{};const a=r.map((t=>s[t]&&ge(e,s[t],n))).filter(Boolean);return{canDelete:a.every((e=>e.canDelete)),canDeleteForAll:a.every((e=>e.canDeleteForAll))}}(e,a,i,c):{}}function be(e,...[t=(0,s.g0)()]){const{messageIds:n}=(0,g.n)(e,t).selectedMessages||{},{chatId:r,threadId:o}=v(e,t)||{},a=r&&I(e,r);return!!(a&&n&&o)&&n.map((t=>a[t]&&ge(e,a[t],o))).filter(Boolean).every((e=>e.canReport))}function ve(e,...[t=(0,s.g0)()]){const{messageIds:n}=(0,g.n)(e,t).selectedMessages||{},{chatId:r,threadId:o}=v(e,t)||{},a=r&&I(e,r);return!!(a&&n&&o)&&n.map((t=>a[t]&&ge(e,a[t],o))).filter(Boolean).some((e=>e.canDownload))}function we(e,...[t=(0,s.g0)()]){return(0,g.n)(e,t).activeDownloads}function Ie(e,t){return e.fileUploads.byMessageKey[(0,i.bj)(t)]?.progress}function Ae(e,t,n){if(n===r.l3){const n=(0,f.hd)(e,t);if(!n)return;if(!n.lastReadInboxMessageId)return;const r=(0,f.ZZ)(e,t);return!r||n.unreadCount?n.lastReadInboxMessageId:r}{const r=$(e,t,n);if(!r)return;return r.lastReadInboxMessageId?Math.min(r.lastReadInboxMessageId,r.lastMessageId||1/0):Number(r.threadId)}}function Ce(e,t,n){const s=(0,f.hd)(e,t);if(n===r.l3){if(!s)return}else{const r=$(e,t,n);if(!r||void 0!==r.lastMessageId&&r.lastMessageId===r.lastReadInboxMessageId)return}const a=T(e,t,n),i=k(e,t,n),c=I(e,t);if(!c||!a?.length&&!i)return;const u=Ae(e,t,n);if(!u&&s&&s.isNotJoined)return;const d=t===o.zv8?e.serviceNotifications.reduce(((e,t)=>!t.isUnread&&t.id>e?t.id:e),-1):-1;function l(e){return e.find((e=>(!u||e>u)&&c[e]&&(!c[e].isOutgoing||c[e].isFromScheduled)&&e>d))}if(a?.length){const e=a.map((e=>l(e))).filter(Boolean)[0];if(e)return e}if(i){const e=l(i);if(e)return e}}function Se(e,...[t=(0,s.g0)()]){const{isShareMessageModalShown:n}=(0,g.n)(e,t);return Boolean(n)}function Ee(e,t){const n=Object.values(e.chats.byId).find((n=>(0,d.VN)(n)&&(0,f.ZZ)(e,n.id)===t));if(n)return n.id;const{byChatId:r}=e.messages;return Object.keys(r).find((n=>{const o=(0,f.hd)(e,n);return o&&(0,d.VN)(o)&&r[o.id].byId[t]}))}function ke(e,...[t=(0,s.g0)()]){const{selectedMessages:n}=(0,g.n)(e,t);return Boolean(n)}function Pe(e,t,...[n=(0,s.g0)()]){const{messageIds:r}=(0,g.n)(e,n).selectedMessages||{};return!!r&&r.includes(t)}function Te(e,t,n){const r=I(e,t);if(r)return Object.values(r).filter((e=>e.groupedId===n&&e.forwardInfo)).map((({forwardInfo:e})=>e.fromMessageId))}function Me(e,t,n){const r=I(e,t);if(r)return Object.keys(r).map(Number).filter((e=>r[e].groupedId===n))}function xe(e,t,n,...[r=(0,s.g0)()]){const{messageIds:o}=(0,g.n)(e,r).selectedMessages||{};if(!o)return!1;const a=Me(e,t,n);return a&&a.every((e=>o.includes(e)))}function Ne(e,...[t=(0,s.g0)()]){const{messageIds:n}=(0,g.n)(e,t).selectedMessages||{};return n?n.length:0}function Le(e,t,n=r.l3,...[o=(0,s.g0)()]){if(!(0,f.hd)(e,t))return;const i=I(e,t),c=x(e,t,n,o);if(!i||!c)return;const u=(0,a.Uk)(c,(t=>{const n=i[t];return n&&function(e,t){const{keyboardButtons:n,shouldHideKeyboardButtons:r,isKeyboardSelective:o,isMentioned:s}=t;if(!n||r)return!1;const a=(0,l.Q)(t)?.replyToMsgId;if(o){if(s)return!0;if(!a)return!1;const n=K(e,t.chatId,a);return Boolean(n?.senderId===e.currentUserId)}return!0}(e,n)})),d=(0,a.Uk)(c,(t=>{const n=i[t];return n&&function(e,t){const{shouldHideKeyboardButtons:n,isHideKeyboardSelective:r,isMentioned:o}=t;if(!n)return!1;const s=(0,l.Q)(t)?.replyToMsgId;if(r){if(o)return!0;if(!s)return!1;const n=K(e,t.chatId,s);return Boolean(n?.senderId===e.currentUserId)}return!0}(e,n)}));return u&&d&&d>u?void 0:u?i[u]:void 0}function _e(e,t){const n=(0,f.hd)(e,t.chatId);if(!n)return;const r="id"in t?ne(e,t):void 0,o=Boolean((0,d.yl)(t)||(0,d.dc)(t)),s=Boolean((0,d.zX)(t)||(0,d.QC)(t)),a=Boolean((0,d.wp)(t)||(0,d.gB)(t)||(0,d.zC)(t)),{canAutoLoadPhotoFromContacts:i,canAutoLoadPhotoInPrivateChats:c,canAutoLoadPhotoInGroups:u,canAutoLoadPhotoInChannels:l,canAutoLoadVideoFromContacts:h,canAutoLoadVideoInPrivateChats:m,canAutoLoadVideoInGroups:p,canAutoLoadVideoInChannels:g,canAutoLoadFileFromContacts:y,canAutoLoadFileInPrivateChats:b,canAutoLoadFileInGroups:v,canAutoLoadFileInChannels:w}=e.settings.byKey;return o?Be({global:e,chat:n,sender:r,canAutoLoadMediaFromContacts:i,canAutoLoadMediaInPrivateChats:c,canAutoLoadMediaInGroups:u,canAutoLoadMediaInChannels:l}):s?Be({global:e,chat:n,sender:r,canAutoLoadMediaFromContacts:h,canAutoLoadMediaInPrivateChats:m,canAutoLoadMediaInGroups:p,canAutoLoadMediaInChannels:g}):!a||Be({global:e,chat:n,sender:r,canAutoLoadMediaFromContacts:y,canAutoLoadMediaInPrivateChats:b,canAutoLoadMediaInGroups:v,canAutoLoadMediaInChannels:w})}function Be({global:e,chat:t,sender:n,canAutoLoadMediaFromContacts:r,canAutoLoadMediaInPrivateChats:o,canAutoLoadMediaInGroups:s,canAutoLoadMediaInChannels:a}){const i=Boolean(n&&((0,f.nZ)(e,n.id)||(0,b.mB)(e,n.id)?.isContact));return Boolean(i&&r||!i&&o&&(0,d.L8)(t.id)||s&&(0,d.YE)(t)||a&&(0,d.WX)(t))}function Fe(e){const{serviceNotifications:t}=e,n=Math.max(...t.map((({id:e})=>e)));return t.find((({id:e,isDeleted:t})=>!t&&e===n))}function De(e,t){return Boolean(t&&(t.isProtected||Oe(e,t.chatId)||(0,d.G5)(t)||(0,d.qG)(t)))}function Oe(e,t){return(0,f.hd)(e,t)?.isProtected||!1}function Re(e,t,n){if((0,f.hd)(e,t)?.isProtected)return!0;if(!n)return!1;const r=I(e,t);return n.some((e=>r[e]?.isProtected))}function je(e,t,n){if((0,f.hd)(e,t)?.isProtected)return!1;if(!n)return!1;const r=I(e,t);return n.map((e=>r[e])).every((e=>e&&!(0,d.G5)(e)&&(e.isForwardingAllowed||(0,d.u7)(e))))}function Ue(e,t){const n=e.messages.sponsoredByChatId[t];return n&&n.expiresAt>=Math.round(Date.now()/1e3)?n:void 0}function $e(e,t){if(t===o.zv8)return;const n=(0,d.L8)(t),r=e.config?.defaultReaction;if(!r)return;if(n)return r;const s=(0,f.AW)(e,t)?.enabledReactions;return s&&(0,d.A3)(r,s)?r:void 0}function ze(e){const t=(0,b.g2)(e),{maxUserReactionsPremium:n=3,maxUserReactionsDefault:r=1}=e.appConfig||{};return t?n:r}function Ve(e,...[t=(0,s.g0)()]){const{chatId:n,threadId:r}=v(e,t)||{};if(!n||!r)return;const o=C(e,n,r,"viewportIds",t);return o?o.map((t=>{const{senderId:r}=K(e,n,t)||{};return r?(0,b.mB)(e,r):void 0})).filter(Boolean):void 0}function We(e,...[t=(0,s.g0)()]){return"scheduled"===v(e,t)?.type}function He(e,t){const n=(0,f.nZ)(e,t),r=(0,b.yp)(e,t),o=(0,h.WA)(e,t);return Boolean(!o&&!n&&!r&&(0,d.L8)(t)&&(0,b.K0)(e,t)?.wasOnline)}function Ge(e,t){const n=function(e){const t=e.content.text?.entities;return t?.filter((e=>e.type===r.C7.CustomEmoji))}(t);if(!n)return c.p;const o=n.map((t=>e.customEmojis.byId[t.documentId]));return o.every(Boolean)?o.map((e=>e.stickerSetInfo)).reduce(((e,t)=>("shortName"in t&&e.some((e=>"shortName"in e&&e.shortName===t.shortName))||"id"in t&&e.some((e=>"id"in e&&e.id===t.id))||e.push(t),e)),[]):void 0}function Je(e,...[t=(0,s.g0)()]){const{messageIds:n,fromChatId:r}=(0,g.n)(e,t).forwardMessages;if(!n)return!1;const o=I(e,r);return n.some((e=>{const t=o[e];return Boolean(t.content.voice)||Boolean(t.content.video?.isRound)}))}function Ke(e,t){return e.translations.byChatId[t]}function qe(e,t,n){return Ke(e,t)?.byLangCode[n]||{}}function Xe(e,t,n,...[r=(0,s.g0)()]){const{autoTranslate:o,autoTranslateLanguage:a}=e.settings.byKey;return o?a:void 0}function Ye(e,t,n,r){if(!r.replyToMsgId)return!1;const o=r?.replyToPeerId??n;if(t===o)return!0;const s=I(e,o)[r.replyToMsgId];return!(0,d.r$)(s)}function Ze(e,t,...[n=(0,s.g0)()]){const{messageIds:r,storyId:o,fromChatId:a}=(0,g.n)(e,n).forwardMessages,i=(0,f.hd)(e,t);if(!r&&!o||!i)return!1;if(o)return!0;const c=(0,f.AW)(e,t),u=I(e,a),l=(0,d.Q_)(i,c);return!r.some((e=>function(e,t){const n=e.content.voice,r=e.content.video?.isRound,o=e.content.photo,s=e.content.video?.isGif,a=e.content.video&&!r&&!s,i=e.content.audio,c=e.content.document,u=e.content.sticker,d=e.content.text&&!n&&!r&&!u&&!c&&!i&&!a&&!o&&!s;return n&&!t.canSendVoices||r&&!t.canSendRoundVideos||u&&!t.canSendStickers||c&&!t.canSendDocuments||i&&!t.canSendAudios||a&&!t.canSendVideos||o&&!t.canSendPhotos||s&&!t.canSendGifs||d&&!t.canSendPlainText}(u[e],l)))}function Qe(e,t,n){const r=(0,f.hd)(e,t);if(r&&r?.isForum)return(0,d.yt)(r,n)}function et(e,t,n,o){if(!(0,f.hd)(e,t))return;const s=n===r.l3;return o||!s?{type:"message",...o,replyToMsgId:o?.replyToMsgId||Number(n),replyToTopId:o?.replyToTopId||(s?void 0:Number(n))}:void 0}function tt(e,t){const{replyToMsgId:n,replyToPeerId:r}=(0,l.Q)(t)||{};return n?K(e,r||t.chatId,n):void 0}function nt(e,t,n){const r=n?void 0:tt(e,t),o=(0,d.Dk)(t),s=r&&(0,d.Dk)(r);return o?.duration||s?.duration}function rt(e,t,n){return e.messages.playbackByChatId[t]?.byId[n]}},19800:(e,t,n)=>{"use strict";n.d(t,{Bt:()=>d,Tq:()=>l});var r=n(13439),o=n(31481),s=n(84553);const a=/(^|\.)(google|bing|duckduckgo|ya|yandex)\./i,i="kz_version",c="Z";function u(e){localStorage.setItem(i,JSON.stringify(e))}function d(e){u(e),(0,s.VH)(),(0,r.ko)().skipLockOnUnload(),window.location.assign(`${o.qJR}${e.toLowerCase()}`)}function l(){if(window.location.hostname!==o.mFn)return;const e=document.referrer.toLowerCase();if(e)try{if(!new URL(e).host.match(a))return;const t=function(){const e=localStorage.getItem(i);if(e)return JSON.parse(e)}();if(t)return void(t!==c&&d(t));const n=void 0!==(new URLSearchParams(window.location.search).get("test")??void 0),r=Math.random()<.5;if(n||!r)return void u("Z");d("K")}catch(e){}}},19806:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(84051),o=n(87357),s=n(4961),a=n(17712),i=n(59030),c=n(18276),u=n(64493),d=n(57474);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(null,arguments)}const f=({id:e,name:t,value:n,label:h,labelText:m,subLabel:p,checked:g,tabIndex:y,disabled:b,withIcon:v,blocking:w,permissionGroup:I,isLoading:A,className:C,rightIcon:S,onlyInput:E,isRound:k,nestedCheckbox:P,nestedCheckboxCount:T,nestedOptionList:M,leftElement:x,values:N=[],onChange:L,onCheck:_,onClickLabel:B})=>{const F=(0,i.A)(),D=(0,r.li)(null),[O,R]=(0,r.J0)(!1),j=(0,a.A)((e=>{b||(L&&L(e,M),_&&_(e.currentTarget.checked))})),U=(0,a.A)((()=>{R(!O)})),$=(0,o.A)("Checkbox",b&&"disabled",v&&"withIcon",A&&"loading",w&&"blocking",P&&"nested",p&&"withSubLabel",I&&"permission-group",Boolean(x)&&"avatar",E&&"onlyInput",k&&"round",Boolean(S)&&"withNestedList",C);return r.Ay.createElement(r.Ay.Fragment,null,r.Ay.createElement("label",{className:$,dir:F.isRtl?"rtl":void 0,onClick:B?function(e){e.target!==D.current&&B?.(e,n)}:void 0,ref:D},r.Ay.createElement("input",{type:"checkbox",id:e,name:t,value:n,checked:g,disabled:b,tabIndex:y,onChange:j,onClick:B?function(e){e.stopPropagation()}:void 0}),r.Ay.createElement("div",{className:(0,o.A)("Checkbox-main",Boolean(x)&&"Nested-avatar-list")},r.Ay.createElement("span",{className:"label",dir:"auto"},x,"string"==typeof h?(0,s.A)(h):h,m&&r.Ay.createElement("span",{className:"ml-1"},(0,s.A)(m))),p&&r.Ay.createElement("span",{className:"subLabel",dir:"auto"},(0,s.A)(p)),S&&r.Ay.createElement(c.A,{name:S,className:"right-icon"})),P&&r.Ay.createElement("span",{className:"nestedButton",dir:"auto"},r.Ay.createElement(u.A,{className:"button",color:"translucent",size:"smaller",onClick:U},r.Ay.createElement(c.A,{name:"group-filled",className:"group-icon"}),T,r.Ay.createElement(c.A,{name:O?"up":"down"}))),A&&r.Ay.createElement(d.A,null)),P&&r.Ay.createElement("div",{className:(0,o.A)("nested-checkbox-group",O&&"nested-checkbox-group-open")},M?.nestedOptions?.map((e=>r.Ay.createElement(f,l({key:e.value,leftElement:x,onChange:j,checked:-1!==N.indexOf(e.value),values:N},e))))))},h=(0,r.ph)(f)},19822:(e,t,n)=>{"use strict";n.d(t,{Hd:()=>d,S0:()=>s,ZM:()=>l,i0:()=>i,qM:()=>u,vk:()=>a});var r=n(66644);let o;function s(e,t,n){n||(o&&!o.isCancelled&&(o.isCancelled=!0),o=n={isCancelled:!1}),!n.isCancelled&&e()&&t((()=>{s(e,t,n)}))}function a(){s((()=>{}),(e=>e))}function i(e,t){t((()=>{e()&&i(e,t)}))}function c(e,t){e()&&t((()=>{c(e,t)}))}const u={linear:e=>e,easeIn:e=>e**1.675,easeOut:e=>-1*e**1.675,easeInOut:e=>.5*(Math.sin((e-.5)*Math.PI)+1),easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e**3,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e*e**3,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e*e**3,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e*e**4,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e*e**4};function d({timing:e=u.linear,onUpdate:t,duration:n,onEnd:o,from:s,to:a}){const i=Date.now();let d=!1;return c((()=>{if(d)return!1;const r=Date.now(),c=Math.min((r-i)/n,1),u=e(c);if("number"==typeof s&&"number"==typeof a)t(s+(a-s)*u);else if(Array.isArray(s)&&Array.isArray(a)){const e=s.map(((e,t)=>e+(a[t]-e)*u));t(e)}return 1===c&&o?.(),c<1}),r.YS),()=>{d=!0,o?.(!0)}}function l(e,t){Object.assign(e.style,t)}},19926:(e,t,n)=>{"use strict";n.d(t,{K0:()=>s,U:()=>i,XO:()=>p,ap:()=>c,g2:()=>u,gT:()=>h,hc:()=>f,mB:()=>o,n_:()=>l,tr:()=>d,vG:()=>a,yp:()=>m});var r=n(90709);function o(e,t){return e.users.byId[t]}function s(e,t){return e.users.statusesById[t]}function a(e,t){return e.users.fullInfoById[t]}function i(e,t){return e.users.commonChatsById[t]}function c(e,t){return a(e,t)?.isBlocked}function u(e){return!!e.currentUserId&&Boolean(e.users.byId[e.currentUserId].isPremium)}function d(e){return Boolean(e.appConfig?.freezeUntilDate)}function l(e){return e.appConfig?.isPremiumPurchaseBlocked??!0}function f(e){return e.appConfig?.isGiveawayGiftsPurchaseAvailable??!0}function h(e,t){const n=t.replace(/[^0-9]/g,"");return Object.values(e.users.byId).find((e=>e?.phoneNumber===n))}function m(e,t){const n=o(e,t);if(n&&(0,r.tv)(n))return n}function p(e,t){return e.users.botAppPermissionsById[t]}},20179:(e,t,n)=>{"use strict";n.d(t,{DX:()=>i,Fi:()=>o,Xj:()=>s,rp:()=>a});var r=n(31481);function o(e){return`photo${e.id}?size=x`}function s(e){return"channels"===e?"channels":"chats"===e||"groups"===e?"chats":"users"===e?"users":"bots"===e?"bots":void 0}function a(e){return e.requestUrl?e.requestUrl:e.appName?`${e.botId}?appName=${e.appName}`:e.botId}function i(e){return e===r.f51||e===r.b5_}},20714:(e,t,n)=>{"use strict";n.d(t,{$8:()=>u,HB:()=>d,Je:()=>l,LH:()=>a,PI:()=>c,PX:()=>i});var r=n(89925),o=n(31481),s=n(96454);const a={animatedEmoji:!0,autoplayGifs:!0,autoplayVideos:!0,contextMenuAnimations:!0,contextMenuBlur:!0,loopAnimatedStickers:!0,mediaViewerAnimations:!0,messageComposerAnimations:!0,messageSendingAnimations:!0,pageTransitions:!0,reactionEffects:!0,rightColumnAnimations:!0,stickerEffects:!0,storyRibbonAnimations:!0,snapEffect:!0},i={animatedEmoji:!0,autoplayGifs:!0,autoplayVideos:!0,contextMenuAnimations:!0,contextMenuBlur:!0,loopAnimatedStickers:!0,mediaViewerAnimations:!0,messageComposerAnimations:!0,messageSendingAnimations:!0,pageTransitions:!0,reactionEffects:!0,rightColumnAnimations:!1,stickerEffects:!1,storyRibbonAnimations:!1,snapEffect:!1},c={animatedEmoji:!1,autoplayGifs:!1,autoplayVideos:!1,contextMenuAnimations:!1,contextMenuBlur:!1,loopAnimatedStickers:!1,mediaViewerAnimations:!1,messageComposerAnimations:!1,messageSendingAnimations:!1,pageTransitions:!1,reactionEffects:!1,rightColumnAnimations:!1,stickerEffects:!1,storyRibbonAnimations:!1,snapEffect:!1},u={settings:{theme:"light",shouldUseSystemTheme:!0,messageTextSize:s.pz?o.fSF:s.MP?o.pZc:o.pk8,animationLevel:o.i11,messageSendKeyCombo:"enter",performance:a,shouldSkipWebAppCloseConfirmation:!1,language:"en",timeFormat:"24h",wasTimeFormatSetManually:!1,isConnectionStatusMinimized:!0,canDisplayChatInTitle:!0,shouldAllowHttpTransport:!0,shouldWarnAboutSvg:!0},isInitial:!0},d={cacheVersion:2,isInited:!0,attachMenu:{bots:{}},passcode:{},twoFaSettings:{},isAppUpdateAvailable:!1,isElectronUpdateAvailable:!1,shouldShowContextMenuHint:!0,audioPlayer:{lastPlaybackRate:o.P3f},mediaViewer:{lastPlaybackRate:o.P3f},authRememberMe:!0,countryList:{phoneCodes:[],general:[]},blocked:{ids:[],totalCount:0},users:{byId:{},statusesById:{},fullInfoById:{},previewMediaByBotId:{},commonChatsById:{},botAppPermissionsById:{}},peers:{profilePhotosById:{}},chats:{listIds:{},isFullyLoaded:{},orderedPinnedIds:{},totalCount:{},lastMessageIds:{},byId:{},fullInfoById:{},similarChannelsById:{},similarBotsById:{},topicsInfoById:{},notifyExceptionById:{},loadingParameters:{active:{},archived:{},saved:{}}},messages:{byChatId:{},sponsoredByChatId:{},pollById:{},playbackByChatId:{}},stories:{byPeerId:{},orderedPeerIds:{archived:[],active:[]},hasNext:!0,hasNextInArchive:!0,stealthMode:{}},groupCalls:{byId:{}},attachmentSettings:{shouldCompress:!0,shouldSendGrouped:!0,isInvertedMedia:void 0,webPageMediaSize:void 0},scheduledMessages:{byChatId:{}},quickReplies:{byId:{},messagesById:{}},chatFolders:{byId:{},invites:{}},fileUploads:{byMessageKey:{}},recentEmojis:["grinning","kissing_heart","christmas_tree","brain","trophy","duck","cherries"],recentCustomEmojis:["5377305978079288312"],reactions:{defaultTags:[],topReactions:[],recentReactions:[],effectReactions:[],hash:{}},availableEffectById:{},stickers:{setsById:{},added:{},recent:{stickers:[]},favorite:{stickers:[]},greeting:{stickers:[]},premium:{stickers:[]},featured:{setIds:[]},effect:{stickers:[],emojis:[]},forEmoji:{}},customEmojis:{lastRendered:[],byId:{},added:{},forEmoji:{},statusRecent:{}},emojiKeywords:{},gifs:{saved:{}},topPeers:{},topInlineBots:{},topBotApps:{},activeSessions:{byHash:{},orderedHashes:[]},activeWebSessions:{byHash:{},orderedHashes:[]},settings:{byKey:{canAutoLoadPhotoFromContacts:!0,canAutoLoadPhotoInPrivateChats:!0,canAutoLoadPhotoInGroups:!0,canAutoLoadPhotoInChannels:!0,canAutoLoadVideoFromContacts:!0,canAutoLoadVideoInPrivateChats:!0,canAutoLoadVideoInGroups:!0,canAutoLoadVideoInChannels:!0,canAutoLoadFileFromContacts:!1,canAutoLoadFileInPrivateChats:!1,canAutoLoadFileInGroups:!1,canAutoLoadFileInChannels:!1,autoLoadFileMaxSizeMb:10,hasWebNotifications:!0,hasPushNotifications:!0,notificationSoundVolume:5,shouldSuggestStickers:!0,shouldSuggestCustomEmoji:!0,shouldPaidMessageAutoApprove:!1,shouldUpdateStickerSetOrder:!0,shouldArchiveAndMuteNewNonContact:!1,shouldNewNonContactPeersRequirePremium:!1,disallowedGifts:void 0,nonContactPeersPaidStars:0,shouldHideReadMarks:!1,canTranslate:!1,canTranslateChats:!0,doNotTranslate:[]},privacy:{},botVerificationShownPeerIds:[],themes:{light:{isBlurred:!0,patternColor:o.be8},dark:{isBlurred:!0,patternColor:o.MkD}}},serviceNotifications:[],trustedBotIds:[],transcriptions:{},translations:{byChatId:{}},byTabId:{},sharedState:u,archiveSettings:{isMinimized:!1,isHidden:!1}},l={id:0,isMasterTab:!1,isLeftColumnShown:!0,isChatInfoShown:!1,newChatMembersProgress:r.D7.Closed,uiReadyState:0,shouldInit:!0,gifSearch:{},stickerSearch:{},messageLists:[],activeChatFolder:0,tabThreads:{},inlineBots:{isLoading:!1,byUsername:{}},webApps:{openedWebApps:{},openedOrderedKeys:[],sessionKeys:[],modalState:"maximized",isModalOpen:!1,isMoreAppsTabActive:!1},globalSearch:{},userSearch:{},middleSearch:{byChatThreadKey:{}},sharedMediaSearch:{byChatThreadKey:{}},chatMediaSearch:{byChatThreadKey:{}},management:{byChatId:{}},savedGifts:{filter:{...o.tBS},giftsByPeerId:{}},storyViewer:{isMuted:!0,isRibbonShown:!1},mediaViewer:{volume:o.Hz7,playbackRate:o.P3f,isMuted:!1},audioPlayer:{volume:o.Hz7,playbackRate:o.P3f,isMuted:!1},isShareMessageModalShown:!1,isWebAppsCloseConfirmationModalOpen:!1,forwardMessages:{},replyingMessage:{},pollResults:{},payment:{},starsPayment:{},notifications:[],dialogs:[],activeReactions:{},activeDownloads:{},statistics:{byChatId:{}},pollModal:{isOpen:!1},requestedTranslations:{byChatId:{}},isPaymentMessageConfirmDialogOpen:!1}},20919:(e,t,n)=>{"use strict";n.d(t,{zs:()=>N,TW:()=>k,_9:()=>P,al:()=>M,HM:()=>T,ST:()=>S,i5:()=>E,Qe:()=>L});var r=n(72531);function o(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=class{constructor(e,t){o(this,"DB_NAME",void 0),o(this,"VERSION",void 0),o(this,"db",null),o(this,"STORE_CONFIG",{summary:{keyPath:"id",indexes:[["id","id"],["timestamp","timestamp"]]},message:{keyPath:"id",indexes:[["id","id"],["chatId_timestamp",["chatId","timestamp"]]]},contact:{keyPath:"id",autoIncrement:!0},user:{keyPath:"id",autoIncrement:!0},general:{autoIncrement:!0},knowledge:{keyPath:"id",autoIncrement:!0},summaryTemplate:{keyPath:"id",autoIncrement:!0},urgentTopic:{keyPath:"id",autoIncrement:!1},folder:{keyPath:"title",autoIncrement:!0},aIChatFolders:{keyPath:"id",autoIncrement:!0}}),this.VERSION=e,this.DB_NAME=t}initDB(){return console.log("初始化indexdb",this.VERSION),new Promise(((e,t)=>{const n=indexedDB.open(this.DB_NAME,this.VERSION);n.onupgradeneeded=e=>{const t=e.target.result;Object.entries(this.STORE_CONFIG).forEach((([e,n])=>{if(!t.objectStoreNames.contains(e)){const r=t.createObjectStore(e,{keyPath:n.keyPath,autoIncrement:n.autoIncrement});n.indexes&&n.indexes.forEach((([e,t])=>{r.createIndex(e,t,{unique:!1})}))}}))},n.onsuccess=()=>{this.db=n.result,e(n.result)},n.onerror=e=>{console.error(e),t(new Error("Failed to open database"))}}))}async getDB(){return this.db||(this.db=await this.initDB()),this.db}};function a(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const i=class{constructor(e){this.dbManager=e,a(this,"storeName","summaryTemplate"),a(this,"db",null),a(this,"chataiStoreManager",void 0),this.db=e.db,this.chataiStoreManager=e}async getAllSummaryTemplate(){let e;try{e=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((t,n)=>{const r=e.transaction(this.storeName,"readonly").objectStore(this.storeName).getAll();r.onsuccess=()=>{t(r.result)},r.onerror=()=>{n(r.error)}}))}async getSummaryTemplate(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readonly").objectStore(this.storeName).get(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}}))}async deleteSummaryTemplate(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(e);o.onsuccess=()=>{console.log(`Deleted record with key: ${e}`),n()},o.onerror=()=>r(new Error("Failed to delete record"))}))}async addSummaryTemplate(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}}))}};function c(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=class{constructor(e){this.dbManager=e,c(this,"storeName","aIChatFolders"),c(this,"db",null),c(this,"chataiStoreManager",void 0),this.db=e.db,this.chataiStoreManager=e}async getAllAIChatFolders(){let e;try{e=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error getting all aichatfolders:",e),Promise.reject(e)}return new Promise(((t,n)=>{const r=e.transaction(this.storeName,"readonly").objectStore(this.storeName).getAll();r.onsuccess=()=>{t(r.result)},r.onerror=()=>{n(r.error)}}))}async getAIChatFolder(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error get aichatfolder:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readonly").objectStore(this.storeName).get(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}}))}async deleteAIChatFolder(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error deleting aichatfolder:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}}))}async addAIChatFolder(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding aichatfolder:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}}))}};function d(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=class{constructor(e){this.dbManager=e,d(this,"storeName","contact"),d(this,"db",null),d(this,"chataiStoreManager",void 0),this.db=e.db,this.chataiStoreManager=e}async getContact(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readonly").objectStore(this.storeName).get(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}}))}async addContact(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}}))}};function f(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=class{constructor(e){this.dbManager=e,f(this,"storeName","folder"),f(this,"db",null),f(this,"chataiStoreManager",void 0),this.db=e.db,this.chataiStoreManager=e}async getAllFolders(){let e;try{e=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error getting all folders:",e),Promise.reject(e)}return new Promise(((t,n)=>{const r=e.transaction(this.storeName,"readonly").objectStore(this.storeName).getAll();r.onsuccess=()=>{t(r.result)},r.onerror=()=>{n(r.error)}}))}async getFolder(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error get folder:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readonly").objectStore(this.storeName).get(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}}))}async deleteFolder(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error deleting folder:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}}))}async addFolder(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding folder:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}}))}};var m=n(37795);function p(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=class{constructor(e){this.dbManager=e,p(this,"storeName","knowledge"),p(this,"db",null),p(this,"chataiStoreManager",void 0),this.db=e.db,this.chataiStoreManager=e}async getKnowledge(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readonly").objectStore(this.storeName).get(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}}))}async getAllKnowledge(){let e;try{e=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((t,n)=>{const r=e.transaction(this.storeName,"readonly").objectStore(this.storeName).getAll();r.onsuccess=()=>{t(r.result)},r.onerror=()=>{n(r.error)}}))}async addKnowledge(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}}))}async deleteKnowledge(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}}))}};var y=n(95815),b=n(22487);function v(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w=class{constructor(e){this.dbManager=e,v(this,"storeName","urgentTopic"),v(this,"db",null),v(this,"chataiStoreManager",void 0),this.db=e.db,this.chataiStoreManager=e}async getAllUrgentTopic(){let e;try{e=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((t,n)=>{const r=e.transaction(this.storeName,"readonly").objectStore(this.storeName).getAll();r.onsuccess=()=>{t(r.result)},r.onerror=()=>{n(r.error)}}))}async getUrgentTopic(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readonly").objectStore(this.storeName).get(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}}))}async deleteUrgentTopic(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(e);o.onsuccess=()=>{console.log(`Deleted record with key: ${e}`),n()},o.onerror=()=>r(new Error("Failed to delete record"))}))}async addUrgentTopic(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}}))}async addUrgentTopics(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction([this.storeName],"readwrite"),s=o.objectStore(this.storeName);e.forEach((e=>{const t=s.put(e);t.onsuccess=()=>{console.log(`urgentTopic ${e.id} stored successfully`)},t.onerror=t=>{console.error(`Error storing urgentTopic ${e.id}:`,t.target.error)}})),o.oncomplete=()=>{console.log("All urgentTopics stored successfully"),n()},o.onerror=e=>{console.error("Error storing urgentTopics:",e.target.error),r(e.target.error)}}))}};function I(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const A=class{constructor(e){this.dbManager=e,I(this,"storeName","user"),I(this,"db",null),I(this,"chataiStoreManager",void 0),this.db=e.db,this.chataiStoreManager=e}async getUser(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readonly").objectStore(this.storeName).get(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}}))}async addUser(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}}))}},C=18,S="globalSummaryLastTime",E="globalSummaryReadTime",k="globalAiChatFoldersLastTime",P="globalAiChatFoldersTipShow",T="globalPresetTag",M="globalAITag";let x;const N={summary:null,message:null,contact:null,user:null,general:null,knowledge:null,summaryTemplate:null,urgentTopic:null,folder:null,aIChatFolders:null};function L(e){!e||x&&x===e||async function(e){const t=new s(C,`tt-chatai-${e}`);await t.initDB(),N.summary=new b.Ay(t),N.message=new y.Ay(t),N.contact=new l(t),N.user=new A(t),N.general=new m.Ay(t),N.knowledge=new g(t),N.summaryTemplate=new i(t),N.urgentTopic=new w(t),N.folder=new h(t),N.aIChatFolders=new u(t),r.A.emit(r.E.ChatAIStoreReady),window.downloadAllSummarys=()=>{N.message?.getAllMessages().then((e=>{const t=JSON.stringify(e),n=new Blob([t],{type:"text/plain;charset=utf-8"}),r=document.createElement("a");r.href=URL.createObjectURL(n),r.download="summarys.txt",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(r.href)}))},window.ChataiMessageStore=N.message}(e),x=e}},21133:(e,t,n)=>{"use strict";n.d(t,{$:()=>C,$T:()=>f,AL:()=>m,AO:()=>O,AW:()=>d,D3:()=>S,I_:()=>v,LR:()=>_,P4:()=>A,To:()=>g,VF:()=>P,ZZ:()=>R,bE:()=>w,df:()=>b,dg:()=>D,dq:()=>k,hX:()=>N,hd:()=>u,jG:()=>B,kB:()=>l,ke:()=>p,mJ:()=>I,nT:()=>y,nZ:()=>h,p6:()=>M,qZ:()=>F,qn:()=>E,s:()=>T,w5:()=>L,yH:()=>j,yM:()=>x});var r=n(31481),o=n(14487),s=n(40708),a=n(90709),i=n(5056),c=n(19926);function u(e,t){return t===s.bL?{id:s.bL,isSerena:!0}:e.chats.byId[t]}function d(e,t){return e.chats.fullInfoById[t]}function l(e,t){return(0,a.L8)(t)?(0,c.vG)(e,t):d(e,t)}function f(e,t){return e.chats.loadingParameters[t]}function h(e,t){return t===e.currentUserId}function m(e,t){const n=function(e,t){const n=(0,a.e7)(t);return!!n&&(0,c.mB)(e,n)}(e,t);return n&&(0,a.tv)(n)}function p(e){return Object.values(e.chats.byId).find((({isSupport:e})=>e))}function g(e,t){const n=d(e,t.id);if(!(0,a.L8)(t.id)&&!(0,a.WX)(t)&&n)return n.members&&n.members.length!==r.WG3?n.members.reduce(((t,{userId:n})=>!h(e,n)&&e.users.byId[n]&&(0,a.PF)(e.users.byId[n],e.users.statusesById[n])?t+1:t),0):n.onlineCount}function y(e,t){return e.trustedBotIds.includes(t)}function b(e,t){if((0,c.yp)(e,t))return"bots";if((0,c.mB)(e,t))return"users";const n=u(e,t);return n?(0,a.WX)(n)?"channels":"chats":void 0}function v(e,t){if(!(0,c.yp)(e,t))return!1;const n=j(e,t);return!(!n||!(0,a.X_)(n))||Boolean(!n)}function w(e){return Boolean(e.chats.listIds.active)}function I(e,t,n){const{listIds:r}=e.chats;if(n){const e=r[n];return Boolean(e&&e.includes(t))}return Object.values(r).some((e=>e&&e.includes(t)))}function A(e,t){const n=u(e,t);if(n&&I(e,t))return n.folderId===r._E9?"archived":"active"}function C(e,t){return e.chatFolders.byId[t]}function S(e,t,n=r.DSF){const{active:o,archived:s,saved:a}=e.chats.orderedPinnedIds;if(n===r.DSF)return Boolean(o?.includes(t));if(n===r._E9)return Boolean(s?.includes(t));if(n===r.pX9)return Boolean(a?.includes(t));const{byId:i}=e.chatFolders,{pinnedChatIds:c}=i[n]||{};return Boolean(c?.includes(t))}function E(e,t){const n=t.toLowerCase();return Object.values(e.chats.byId).find((e=>e.usernames?.some((e=>e.username.toLowerCase()===n))))}function k(e){return Boolean(u(e,r.zv8))}function P(e,t){if(!u(e,t))return;const n=d(e,t)?.sendAsId;return n?(0,c.mB)(e,n)||u(e,n):void 0}function T(e,t,...[n=(0,o.g0)()]){const{requestedDraft:r}=(0,i.n)(e,n);if(r?.chatId===t&&!r.files?.length)return r.text}function M(e,t,...[n=(0,o.g0)()]){const{requestedDraft:r}=(0,i.n)(e,n);if(r?.chatId===t)return r.files}function x(e,t,n){return t.filter((t=>{const r=b(e,t);return!!r&&n.includes(r)}))}function N(e,t){const n=u(e,t);return!!n&&!n.migratedTo&&Boolean(!(0,a.L8)(t)&&((0,a.WX)(n)||(0,a.Vs)(n)?n.isCreator||(0,a.ub)(n,"inviteUsers")||n.usernames?.length&&!n.isJoinRequest:n.isCreator||(0,a.ub)(n,"inviteUsers")))}function L(e,t){const n=C(e,t);if(!n)return!1;const{bots:r,groups:o,channels:s,contacts:a,nonContacts:i,includedChatIds:c,pinnedChatIds:u,excludeArchived:d,excludeMuted:l,excludeRead:f,excludedChatIds:h}=n;return!r&&!o&&!s&&!a&&!i&&!d&&!l&&!f&&!h?.length&&(u?.length||c.length)&&n.includedChatIds.concat(n.pinnedChatIds||[]).some((t=>N(e,t)))}function _(e,t){const{autoTranslate:n}=e.settings.byKey;return n}function B(e,t,...[n=(0,o.g0)()]){return!!u(e,t)}function F(e,t,...[n=(0,o.g0)()]){const{requestedTranslations:r}=(0,i.n)(e,n);return r.byChatId[t]?.toLanguage}function D(e,t){return e.chats.similarChannelsById[t]}function O(e,t){return e.chats.similarBotsById[t]}function R(e,t,n="all"){return e.chats.lastMessageIds[n]?.[t]}function j(e,t,n="all"){const r=R(e,t,n);if(!r)return;const o="saved"===n?e.currentUserId:t;return e.messages.byChatId[o]?.byId[r]}},21309:(e,t,n)=>{"use strict";n.d(t,{Os:()=>a,Sy:()=>u,_k:()=>c,d_:()=>s,qZ:()=>i});const r=60,o=3600,s=86400;function a(e,t){return(t?Math.floor:Math.ceil)(e/r)}function i(e,t){return(t?Math.floor:Math.ceil)(e/o)}function c(e,t){return(t?Math.floor:Math.ceil)(e/s)}function u(e,t,n){return e*o+t*r+n}},21511:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(84051),o=n(61433),s=n(66644),a=n(83414),i=n(19129),c=n(17712),u=n(41257),d=n(35297);const l=(e,t)=>{const n=(0,r.li)();return(0,d.A)((()=>{const r=n.current;return n.current=t,e(r||[])}),t)},f=350;function h(e){const{isOpen:t,noMountTransition:n=!1,noOpenTransition:h=!1,noCloseTransition:m=!1,closeDuration:p=f,className:g="fast",prefix:y="",shouldForceOpen:b,onCloseAnimationEnd:v}=e,w=(0,r.li)(null),I=e.ref||w,A=(0,r.li)(),[C,S]=(0,r.Ul)(),E=(0,u.i)({closeDuration:p,noMountTransition:n,noOpenTransition:h,noCloseTransition:m}),k=(0,c.A)(v);l((([e])=>{const n=E.current;b?S("open"):t?(A.current&&(clearTimeout(A.current),A.current=void 0),n.noOpenTransition||void 0===e&&n.noMountTransition?S("open"):(S("scheduled-open"),(0,s.YS)((()=>{S("open")})))):void 0===e||n.noCloseTransition?S("closed"):(S("closing"),A.current=window.setTimeout((()=>{S("closed"),k()}),n.closeDuration))}),[t,b]);const P=(0,c.A)((()=>{const e=I.current;if(!e)return;!1!==g&&((0,o.YM)(e,"opacity-transition"),(0,o.YM)(e,g));const t=C(),n="closed"!==t,r="open"===t,s="closing"===t;(0,o.dH)(e,`${y}shown`,n),(0,o.dH)(e,`${y}not-shown`,!n),(0,o.dH)(e,`${y}open`,r),(0,o.dH)(e,`${y}not-open`,!r),(0,o.dH)(e,`${y}closing`,s)}));(0,d.A)((()=>{I.onChange=()=>{I.onChange=void 0,P()}}),[P,I]),(0,r.Nf)(P,[P,C]);const T="withShouldRender"in e&&e.withShouldRender,M=(0,i.A)((()=>T&&"closed"!==C()),[T,C]),x=(0,a.A)((()=>"closing"===C()),[C]);return T?{ref:I,shouldRender:M,getIsClosing:x}:{ref:I,getIsClosing:x}}},21687:(e,t,n)=>{"use strict";function r(e){const{pageTransitions:t,messageSendingAnimations:n,mediaViewerAnimations:r,messageComposerAnimations:o,contextMenuAnimations:s,contextMenuBlur:a,rightColumnAnimations:i}=e,c=document.body;c.classList.toggle("no-page-transitions",!t),c.classList.toggle("no-message-sending-animations",!n),c.classList.toggle("no-media-viewer-animations",!r),c.classList.toggle("no-message-composer-animations",!o),c.classList.toggle("no-context-menu-animations",!s),c.classList.toggle("no-menu-blur",!a),c.classList.toggle("no-right-column-animations",!i)}n.d(t,{u:()=>r})},22199:(e,t,n)=>{"use strict";n.d(t,{Ey:()=>a,VX:()=>i,cn:()=>s,i$:()=>c});var r=n(34164),o=n(50856);function s(...e){return(0,o.QP)((0,r.$)(e))}function a(e){const t=new Date(e),n=new Date,r=t.toDateString()===n.toDateString(),o=t.getFullYear()===n.getFullYear(),s=`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`,a=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],i=t.getDate();return r?s:o?`${a} ${i} / ${s}`:`${t.getFullYear()}/${a} ${i} / ${s}`}function i(e,t){const n=e=>e.toString().length<=10?1e3*e:e,r=e?new Date(n(e)):void 0,o=t?new Date(n(t)):void 0,s=new Date,a=e=>{return n=s,(t=e).getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate();var t,n},i=e=>{const t=e=>String(e).padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}`},c=e=>{return`${["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]} ${t=e.getDate(),String(t).padStart(2,"0")} / ${i(e)}`;var t};return r||o?!r&&o?`${c(o)}`:r&&!o?`${c(r)}`:r&&o?a(r)&&a(r)?`${i(r)} - ${i(o)}`:`${c(r)} - ${c(o)}`:"":""}function c(e){let t=0,n=0,r=e;for(let r=0;r<e.length;r++){const o=e[r];"{"===o?t++:"}"===o?t--:"["===o?n++:"]"===o&&n--}for(;t>0;)r+="}",t--;for(;t<0;)r=`{${r}`,t++;for(;n>0;)r+="]",n--;for(;n<0;)r=`[${r}`,n++;try{return{valid:!0,parsed:JSON.parse(r),fixedJson:r}}catch(e){return{valid:!1,error:e}}}},22237:(e,t,n)=>{"use strict";n.d(t,{Hp:()=>s,cO:()=>u,n5:()=>c});var r=n(46536);const o=Symbol("SIGNAL_MARK");function s(e){return"function"==typeof e&&o in e}const a=new Map;let i;function c(e){const t={value:e,effects:(0,r.h)()};function n(e){const n=t.effects.addCallback(e);return a.has(e)?a.get(e).add(n):a.set(e,new Set([n])),()=>{n();const t=a.get(e);t.delete(n),t.size||a.delete(e)}}return[Object.assign((function(){return i&&n(i),t.value}),{[o]:o,subscribe:n,once:function(e){const t=n((()=>{t(),e()}));return t}}),function(e){t.value!==e&&(t.value=e,t.effects.runCallbacks())}]}function u(e){a.get(e)?.forEach((e=>{e()})),a.delete(e)}},22487:(e,t,n)=>{"use strict";function r(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){const t=JSON.parse(JSON.stringify(e));return t.forEach((e=>{e.timestamp=new Date(e.createdAt).getTime()})),t}function s(e){const t=JSON.parse(JSON.stringify(e));return t.forEach((e=>{delete e.timestamp})),t}n.d(t,{Ay:()=>a,R4:()=>s,pC:()=>o});const a=class{constructor(e){this.dbManager=e,r(this,"storeName","summary"),r(this,"db",null),r(this,"chataiStoreManager",void 0),this.db=e.db,this.chataiStoreManager=e}async storeMessage(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return void console.error("Error adding contact:",e)}const n=t.transaction([this.storeName],"readwrite").objectStore(this.storeName).put(e);n.onsuccess=()=>{console.log(`Message ${e.id} stored successfully`)},n.onerror=t=>{console.error(`Error storing message ${e.id}:`,t.target.error)}}async storeMessages(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return void console.error("Error adding contact:",e)}const n=t.transaction([this.storeName],"readwrite"),r=n.objectStore(this.storeName);e.forEach((e=>{const t=r.put(e);t.onsuccess=()=>{console.log(`Message ${e.id} stored successfully`)},t.onerror=t=>{console.error(`Error storing message ${e.id}:`,t.target.error)}})),n.oncomplete=()=>{console.log("All messages stored successfully")},n.onerror=e=>{console.error("Error storing messages:",e.target.error)}}async getMessages(e,t){let n;try{n=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((r,o)=>{const s=n.transaction(this.storeName,"readonly").objectStore(this.storeName).index("timestamp"),a=void 0!==e?IDBKeyRange.bound(0,e,!1,!0):IDBKeyRange.bound(0,Number.MAX_SAFE_INTEGER),i=s.openCursor(a,"prev"),c=[];let u,d=0;i.onsuccess=e=>{const n=e.target.result;n&&d<t?(c.unshift(n.value),u=n.value.timestamp,d++,n.continue()):r({messages:c,lastTime:u,hasMore:d===t})},i.onerror=()=>o(new Error("Failed to fetch messages"))}))}async getAllMessages(){let e;try{e=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((t,n)=>{const r=e.transaction(this.storeName,"readonly").objectStore(this.storeName).getAll();r.onsuccess=()=>{t(r.result)},r.onerror=()=>n(new Error("Failed to fetch messages"))}))}async delMessage(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(e);o.onsuccess=()=>{console.log(`Deleted record with key: ${e}`),n()},o.onerror=()=>r(new Error("Failed to delete record"))}))}}},22699:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(84051),o=n(18276),s=n(64493),a=n(71429);const i=({trigger:e,className:t,bubbleClassName:n,children:i,transformOriginX:c,transformOriginY:u,positionX:d="left",positionY:l="top",footer:f,forceOpen:h,onOpen:m,onClose:p,onTransitionEnd:g,onMouseEnterBackdrop:y,onHide:b,autoClose:v=!0})=>{const w=(0,r.li)(null),[I,A]=(0,r.J0)(!1),C=(0,r.hb)((()=>{A(!1),p?.()}),[p]),S=(0,r.Kr)((()=>e||(({onTrigger:e,isOpen:t})=>r.Ay.createElement(s.A,{round:!0,size:"smaller",color:"translucent",className:t?"active":"",onClick:e,ariaLabel:"More actions"},r.Ay.createElement(o.A,{name:"more"})))),[e]);return r.Ay.createElement("div",{className:`DropdownMenu ${t||""}`,onKeyDown:e=>{const t=w.current;if(!I||40!==e.keyCode||!t)return;const n=document.activeElement,r=Array.from(t.children);n&&-1!==r.indexOf(n)||r[0].focus()},onTransitionEnd:g},S({onTrigger:()=>{A(!I),I?p?.():m?.()},isOpen:I}),r.Ay.createElement(a.A,{ref:w,isOpen:I||Boolean(h),className:t||"",bubbleClassName:n||"",transformOriginX:c,transformOriginY:u,positionX:d,positionY:l,footer:f,autoClose:v,onClose:C,onCloseAnimationEnd:b,onMouseEnterBackdrop:y},i))}},22802:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(84051),o=n(68323);const s="backdrop";function a(e,t,n,a,i){(0,r.vJ)((()=>{if(!e||!n)return;const r=e=>{const r=t.current,c=e.target;!r||!c||a&&2===e.button||(0,o.x)()||r.contains(e.target)&&!c.classList.contains(s)||i&&(c.matches(i)||c.closest(i))||(e.preventDefault(),e.stopPropagation(),n?.())};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}}),[i,a,e,t,n])}},22867:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(84051),o=n(13439),s=n(90709),a=n(29807);function i(e){const t=e&&"content"in e?(0,s.CI)(e):e?.dataUri,n=(0,a.SJA)((0,o.mS)());return(0,r.Kr)((()=>{const e=t;return e&&"dark"===n?e.replace("<svg",'<svg fill="white"'):e}),[t,n])}},22986:(e,t,n)=>{"use strict";function r(e,t){const n=typeof e;if(n!==typeof t)return!1;if("object"!==n||null===e||null===t)return e===t;const o=Array.isArray(e);if(o!==Array.isArray(t))return!1;if(o){const n=e,o=t;return n.length===o.length&&n.every(((e,t)=>r(e,o[t])))}const s=e,a=t,i=Object.keys(s);return i.length===Object.keys(a).length&&i.every((e=>r(s[e],a[e])))}n.d(t,{T:()=>r})},23174:(e,t,n)=>{"use strict";n.d(t,{C7:()=>r.C7,K1:()=>r.K1,l3:()=>r.l3,qZ:()=>o.q});var r=n(84448),o=n(35710)},24021:(e,t,n)=>{"use strict";n.d(t,{Ar:()=>r.cancelApiProgressMaster,Hn:()=>r.handleMethodResponse,PH:()=>r.handleMethodCallback,Ru:()=>r.initApi,eZ:()=>r.callApiLocal,eu:()=>r.setShouldEnableDebugLog,fj:()=>r.updateLocalDb,iB:()=>r.updateFullLocalDb,om:()=>r.cancelApiProgress,px:()=>r.callApi});var r=n(8805)},24282:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(98221);const o=[[/\u{1f3f3}\u200d\u{1f308}/gu,"🏳️‍🌈"],[/\u{1f3f3}\u200d\u26a7\ufe0f?/gu,"🏳️‍⚧️"],[/\u26d3\u200d\u{1f4a5}/gu,"⛓️‍💥"],[/\u200d([\u2640\u2642])(?!\ufe0f)/gu,"‍$1️"]];function s(e){if(!e.match(r.A))return e;for(const[t,n]of o)e=e.replace(t,n);return e}},24433:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(84051),o=n(31481),s=n(87357),a=n(43874),i=n(17712),c=n(59030),u=n(18276);const d=e=>{const{icon:t,isCharIcon:n,customIcon:d,className:l,children:f,onClick:h,href:m,target:p,download:g,disabled:y,destructive:b,ariaLabel:v,withWrap:w,rel:I="noopener noreferrer",onContextMenu:A,clickArg:C,withPreventDefaultOnMouseDown:S}=e,E=(0,c.A)(),{isTouchScreen:k}=(0,a.Ay)(),P=(0,i.A)((e=>{!y&&h?h(e,C):e.preventDefault()})),T=(0,i.A)((e=>{13!==e.keyCode&&32!==e.keyCode||(!y&&h?h(e,C):e.preventDefault())})),M=(0,i.A)((e=>{S&&e.preventDefault()})),x=(0,s.A)("MenuItem",l,y&&"disabled",b&&"destructive",!k&&"compact",w&&"wrap"),N=r.Ay.createElement(r.Ay.Fragment,null,!d&&t&&r.Ay.createElement(u.A,{name:n?"char":t,character:n?t:void 0}),d,f);return m&&!y?r.Ay.createElement("a",{tabIndex:0,className:x,href:m,download:g,"aria-label":v,title:v,target:p||(m.startsWith(window.location.origin)||o.W75?"_self":"_blank"),rel:I,dir:E.isRtl?"rtl":void 0,onClick:h,onMouseDown:M},N):r.Ay.createElement("div",{role:"menuitem",tabIndex:0,className:x,onClick:P,onKeyDown:T,onMouseDown:M,onContextMenu:A,"aria-label":v,title:v,dir:E.isRtl?"rtl":void 0},N)}},24896:(e,t,n)=>{"use strict";function r(e,t){return`${e}_${t}`}n.d(t,{W:()=>r})},24909:(e,t,n)=>{"use strict";n.d(t,{s:()=>s,y:()=>a});var r=n(48894);const o=240;function s(e,t,n="image/png"){const r=e instanceof Blob?URL.createObjectURL(e):e,o=new Image;return new Promise((s=>{o.onload=()=>{i(o,o.width*t,o.height*t,n).then((e=>{if(!e)throw new Error("Image resize failed!");return URL.createObjectURL(e)})).then(s).finally((()=>{e instanceof Blob&&URL.revokeObjectURL(r)}))},o.src=r}))}function a(e,t,n,r="image/png"){const o=e instanceof Blob?URL.createObjectURL(e):e,s=new Image;return new Promise((a=>{s.onload=()=>{i(s,t,n,r).then((e=>{if(!e)throw new Error("Image resize failed!");return URL.createObjectURL(e)})).then(a).finally((()=>{e instanceof Blob&&URL.revokeObjectURL(o)}))},s.src=o}))}async function i(e,t,n,s="image/png"){if(!("createImageBitmap"in window))return c(e,t,n,void 0,s);try{const a=await window.createImageBitmap(e,{resizeWidth:t,resizeHeight:n,resizeQuality:"high"});if(a.height!==n||a.width!==t)throw new Error("Image bitmap resize not supported!");const i=await(0,r.rX)(e.src),c=(0,r.LS)(i)<o?"#fff":"#000";return await new Promise((e=>{const t=document.createElement("canvas");t.width=a.width,t.height=a.height;const n=t.getContext("2d");n.fillStyle=c,n.fillRect(0,0,t.width,t.height);const r=t.getContext("bitmaprenderer");r?r.transferFromImageBitmap(a):n.drawImage(a,0,0),t.toBlob(e,s)}))}catch(r){return c(e,t,n,void 0,s)}}async function c(e,t,n,s=.5,a="image/png"){const i=document.createElement("canvas"),c=i.getContext("2d"),u=document.createElement("canvas"),d=u.getContext("2d");if(i.width=t,i.height=n,e.width*s>t){const n=1/s;let r={width:Math.floor(e.width*s),height:Math.floor(e.height*s)};for(u.width=r.width,u.height=r.height,d.drawImage(e,0,0,r.width,r.height);r.width*s>t;)r={width:Math.floor(r.width*s),height:Math.floor(r.height*s)},d.drawImage(u,0,0,r.width*n,r.height*n,0,0,r.width,r.height);c.drawImage(u,0,0,r.width,r.height,0,0,i.width,i.height)}else c.drawImage(e,0,0,i.width,i.height);const l=await(0,r.rX)(e.src),f=(0,r.LS)(l)<o?"#fff":"#000";return c.fillStyle=f,c.globalCompositeOperation="destination-over",c.fillRect(0,0,i.width,i.height),new Promise((e=>{i.toBlob(e,a)}))}},25279:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o;const s=new Uint8Array(16),a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));const i=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();const i=(e=e||{}).random??e.rng?.()??function(){if(!o){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");o=crypto.getRandomValues.bind(crypto)}return o(s)}();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=i[e];return t}return function(e,t=0){return(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase()}(i)}},25624:(e,t,n)=>{"use strict";n.d(t,{x:()=>b});var r=n(84448),o=n(31481),s=n(13439),a=n(29807),i=n(49763),c=n(68144),u=n(20919),d=n(96140),l=n(2543),f=n(30708);const h=6048e5;class m{static getInstance(){return m.instance||(m.instance=new m),m.instance}async initTask(){setInterval((async()=>{this.classifyChatMessageByCount()}),h),setTimeout((()=>{this.classifyChatMessageByCount()}),1e3)}async runAIChatFolders(e){if(!Object.keys(e).length)return;const t=await(0,d.qA)(e,20);console.log(d.eA+"aiClassify: ",t,new Date),(0,d.tw)(t);const n=(0,d.TV)(t);await this.updateChatFolder(n)}async updateChatFolder(e){const t=Object.keys(e);if(!t.length)return;const{addChatFolder:n,editChatFolder:r}=(0,s.ko)();console.log(d.eA+"updateChatFolder: ",t,new Date),await(0,d.$y)();for(let o=0;o<t.length;o++){const s=t[o];if(e[s].length){const t={id:o+2,title:{text:s,desc:"AI"},includedChatIds:e[s].map((e=>e+"")),excludedChatIds:[]},a=await(u.zs.folder?.getFolder(s));a?(t.id=Number(a.id),t.includedChatIds=(0,l.uniq)(t.includedChatIds.concat(a.includedChatIds)),await(r?.({id:t.id,folderUpdate:t,from:"AI"})),console.log(d.eA+"update: "+s,t,new Date)):(await(n?.({folder:t,from:"AI"})),console.log(d.eA+"add: "+s,t,new Date)),await(0,d.yy)(3e3)}}await this.sortChatFolder(),u.zs.general?.set(u.TW,(new Date).getTime()),console.log(d.eA+"end",new Date)}async sortChatFolder(){const e=(0,s.mS)(),t=Object.keys(e.chatFolders.byId)?.sort(((t,n)=>(d.eE?.findIndex((n=>n===(e.chatFolders.byId[Number(t)]?.title?.text??"")))??0)-(d.eE?.findIndex((t=>t===(e.chatFolders.byId[Number(n)]?.title?.text??"")))??0)))?.map((e=>Number(e))),n=[0,...t,o.LFk,o.Sab];n.splice(3,0,o.j7l),await(0,s.ko)().sortChatFolders({folderIds:n}),console.log(d.eA+"sort: ",n,new Date,e.chatFolders)}async classifyChatMessageByCount(){const e=(0,s.mS)(),{aiChatFolders:t}=(0,f.l)(e);if(!0!==t)return void console.log(d.eA+"enable=false, pass",e);const n=await(u.zs.general?.get(u.TW));if(n&&(new Date).getTime()-n<h)return void console.log(d.eA+"pass",n,e);console.log(d.eA+"running",n,e.chatFolders);let l={};const m=((0,i.YA)(o.DSF)||[])?.filter((e=>e!==o.zv8));console.log(d.eA+"orderedIds:",m);for(let t=0;t<m.length;t++){const n=m[t],o=(0,a.hds)(e,n),s=(0,d.uw)(n),i=(0,a.ZZX)(e,n)||0;if(o&&!s&&i){const e=await(0,c.qq)({chat:o,offsetId:i,addOffset:-1,sliceSize:30,threadId:r.l3,maxCount:100});e.length&&(l[n]=e)}}console.log(d.eA+"fetchMsg",Object.keys(l).length),await this.runAIChatFolders(l)}}var p,g,y;p=m,y=void 0,(g=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(g="instance"))in p?Object.defineProperty(p,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[g]=y;const b=new m},25903:(e,t,n)=>{"use strict";n.d(t,{e:()=>s,j:()=>o});const r=50;function o(e,t,n,r){return a("transitionend",e,t,n,r)}function s(e,t,n,r){return a("animationend",e,t,n,r)}function a(e,t,n,o,s){let a=!1;function i(){t.removeEventListener(e,c)}function c(e){a||e.target!==e.currentTarget||o&&(e instanceof TransitionEvent&&e.propertyName===o||e instanceof AnimationEvent&&e.animationName===o)||(a=!0,i(),setTimeout((()=>{n()}),r))}return t.addEventListener(e,c),s&&setTimeout((()=>{a||(i(),n())}),s),i}},26072:(e,t,n)=>{"use strict";n.d(t,{A:()=>k});var r=n(84051),o=n(13439),s=n(31481),a=n(66644),i=n(96454),c=n(15283),u=n(17712),d=n(35297);const l=`${window.location.pathname}${window.location.search}`,f=Number(new Date);let h,m,p=!1,g=[],y=[],b=!1;function v(){b&&setTimeout((()=>{b=!1}),350)}function w(){const e=g.filter((e=>"go"===e.type)),t=g.filter((e=>"go"!==e.type)),n=e.reduce(((e,t)=>e+t.delta),0);g=[],n&&(window.history.go(n),t.length)?y.push(...t):I(t)}function I(e){e.forEach((e=>window.history[e.type](e.data,"",e.hash)))}function A(e){g.length||(0,a.YS)(w),g.push(e)}function C(){m=0,h=[{index:0,onBack:()=>window.history.back()}],window.history.replaceState({index:0,historyUniqueSessionId:f},"",l)}function S(e=1){let t=e;for(let e=m-1;e>0&&h[e].isClosed;e--)t++;return t&&(p=!0,A({type:"go",delta:-t})),t}function E(){let e=!1;for(let t=h.length-1;t>0;t--)h[t].isClosed||(!e&&b&&((0,o.ko)().disableHistoryAnimations(),e=!0),h[t].onBack?.());C()}function k({isActive:e,shouldBeReplaced:t,shouldResetUrlHash:n,hash:o,onBack:s}){const a=(0,u.A)(s),i=(0,r.li)(),l=(0,r.li)(!1),p=(0,r.li)(!0),g=(0,r.hb)(((e=!1)=>{const r=e||h[m].shouldBeReplaced;i.current=r?m:++m,m=i.current;const s=h[i.current];s&&!s.isClosed&&s.markReplaced?.(),h[i.current]={index:i.current,onBack:a,shouldBeReplaced:t,markReplaced:()=>{l.current=!0}},A({type:r?"replaceState":"pushState",data:{index:i.current,historyUniqueSessionId:f},hash:o?`#${o}`:n?" ":void 0})}),[o,t,n]),y=(0,r.hb)((()=>{i.current&&h[i.current]&&!l.current&&(h[i.current].isClosed=!0,l.current=!0,i.current!==m||t||(m-=S()))}),[t]);(0,c.A)((()=>(p.current=!1,()=>{e&&!l.current&&y()}))),(0,d.A)((([t])=>{t!==e&&(p.current&&!e||(e?g():y()))}),[e,y,g])}s.W75&&(window.TEST_getHistoryState=()=>h,window.TEST_getHistoryCursor=()=>m),i.pz&&(window.addEventListener("touchstart",(function(e){const t=e.touches[0].pageX;(t<=300||t>=window.innerWidth-300)&&(b=!0)})),window.addEventListener("touchend",v),window.addEventListener("popstate",v)),C(),window.addEventListener("popstate",(({state:e})=>{if(p)return p=!1,void(y.length&&(I(y),y=[]));if(!e)return E(),void window.location.hash;const{index:t,historyUniqueSessionId:n}=e;if(n===f){if(t!==m)if(t<m){let e=0,n=!1;for(let r=m;r>t-e;r--)h[r].isClosed?e++:(!n&&b&&((0,o.ko)().disableHistoryAnimations(),n=!0),h[r].onBack?.());const r=S(e);m+=t-m-r,m<0&&(m=0)}else t>m&&(p=!0,A({type:"go",delta:-(t-m)}))}else E()}))},26120:(e,t,n)=>{"use strict";n.d(t,{q:()=>a});var r=n(13439),o=n(31481),s=n(29807);function a(e){(0,s.nTw)((0,r.mS)()).isMasterTab&&"function"==typeof window.navigator.setAppBadge&&window.navigator.setAppBadge(e).catch((e=>{o.Oig&&console.error(e)}))}},26129:(e,t,n)=>{"use strict";function r(e){const{replyInfo:t}=e;if(t&&"message"===t.type)return t}function o(e){const{replyInfo:t}=e;if(t&&"story"===t.type)return t}n.d(t,{Q:()=>r,W:()=>o})},26943:(e,t,n)=>{"use strict";var r=n(89925),o=n(31481),s=n(14487),a=n(87894),i=n(5560),c=n(6e4),u=n(33204),d=n(80140),l=n(24021),f=n(90709),h=n(13439),m=n(17872),p=n(32989),g=n(29807),y=n(30708);(0,h.aJ)("updateProfile",(async(e,t,n)=>{const{photo:o,firstName:a,lastName:i,bio:c,username:u,tabId:d=(0,s.g0)()}=n,{currentUserId:f}=e;if(f){if(e=(0,p.w)(e,{profileEdit:{progress:r.DV.InProgress}},d),(0,h.UF)(e),o&&await(0,l.px)("uploadProfilePhoto",o),(a||i||c)&&await(0,l.px)("updateProfile",{firstName:a,lastName:i,about:c})){e=(0,h.mS)();const t=f&&(0,g.mBe)(e,f);t&&(e=(0,m.TKu)(e,t.id,{firstName:a,lastName:i}),e=(0,m.weB)(e,t.id,{bio:c}),(0,h.UF)(e))}if(void 0!==u){const t=await(0,l.px)("updateUsername",u);e=(0,h.mS)();const n=f&&(0,g.mBe)(e,f);if(t&&n){const t=n.usernames?.find((e=>e.isEditable)),r=t?n.usernames?.map((e=>e.isEditable?{...e,username:u}:e)):[{username:u,isEditable:!0,isActive:!0},...n.usernames||[]];e=(0,m.TKu)(e,f,{usernames:r}),(0,h.UF)(e)}}e=(0,h.mS)(),e=(0,p.w)(e,{profileEdit:{progress:r.DV.Complete}},d),(0,h.UF)(e),o&&t.loadFullUser({userId:f,withPhotos:!0})}})),(0,h.aJ)("updateProfilePhoto",(async(e,t,n)=>{const{photo:r,isFallback:o}=n,{currentUserId:s}=e;s&&(0,g.mBe)(e,s)&&(e=(0,m.TKu)(e,s,{avatarPhotoId:void 0}),e=(0,m.weB)(e,s,{profilePhoto:void 0}),(0,h.UF)(e),await(0,l.px)("updateProfilePhoto",r,o)&&t.loadFullUser({userId:s,withPhotos:!0}))})),(0,h.aJ)("deleteProfilePhoto",(async(e,t,n)=>{const{photo:r}=n,{currentUserId:o}=e;o&&await(0,l.px)("deleteProfilePhotos",[r])&&(e=(0,h.mS)(),e=(0,m.sol)(e,o,r.id),(0,h.UF)(e),t.loadFullUser({userId:o,withPhotos:!0}))})),(0,h.aJ)("checkUsername",(async(e,t,n)=>{const{username:o,tabId:a=(0,s.g0)()}=n;let i=(0,g.nTw)(e,a);if(i.profileEdit&&i.profileEdit.progress===r.DV.InProgress)return;e=(0,p.w)(e,{profileEdit:{progress:i.profileEdit?i.profileEdit.progress:r.DV.Idle,checkedUsername:void 0,isUsernameAvailable:void 0,error:void 0}},a),(0,h.UF)(e);const{result:c,error:u}=await(0,l.px)("checkUsername",o);e=(0,h.mS)(),i=(0,g.nTw)(e,a),e=(0,p.w)(e,{profileEdit:{...i.profileEdit,checkedUsername:o,isUsernameAvailable:!0===c,error:u}},a),(0,h.UF)(e)})),(0,h.aJ)("loadWallpapers",(async e=>{const t=await(0,l.px)("fetchWallpapers");t&&(e=(0,h.mS)(),e={...e,settings:{...e.settings,loadedWallpapers:t.wallpapers}},(0,h.UF)(e))})),(0,h.aJ)("uploadWallpaper",(async(e,t,n)=>{const o=n,s=URL.createObjectURL(o);e={...e,settings:{...e.settings,loadedWallpapers:[{slug:r.Vw,document:{mediaType:"document",fileName:"",size:o.size,mimeType:o.type,previewBlobUrl:s}},...e.settings.loadedWallpapers||[]]}},(0,h.UF)(e);const a=await(0,l.px)("uploadWallpaper",o);if(!a)return;const{wallpaper:i}=a;if(!(e=(0,h.mS)()).settings.loadedWallpapers)return;const c=e.settings.loadedWallpapers[0];if(!c||c.slug!==r.Vw)return;const u={...i,document:{...i.document,previewBlobUrl:s}};e={...e,settings:{...e.settings,loadedWallpapers:[u,...e.settings.loadedWallpapers.slice(1)]}},(0,h.UF)(e)})),(0,h.aJ)("loadBlockedUsers",(async e=>{const t=await(0,l.px)("fetchBlockedUsers",{});t&&(e=(0,h.mS)(),e={...e,blocked:{ids:t.blockedIds,totalCount:t.totalCount}},(0,h.UF)(e))})),(0,h.aJ)("blockUser",(async(e,t,n)=>{const{userId:r,isOnlyStories:o}=n,s=(0,g.mBe)(e,r);s&&await(0,l.px)("blockUser",{user:s,isOnlyStories:o||void 0})&&(e=(0,h.mS)(),e=(0,m.P6h)(e,r),(0,h.UF)(e))})),(0,h.aJ)("unblockUser",(async(e,t,n)=>{const{userId:r,isOnlyStories:o}=n,s=(0,g.mBe)(e,r);s&&await(0,l.px)("unblockUser",{user:s,isOnlyStories:o||void 0})&&(e=(0,h.mS)(),e=(0,m.OW3)(e,r),(0,h.UF)(e))})),(0,h.aJ)("loadNotificationExceptions",(async e=>{const t=await(0,l.px)("fetchNotificationExceptions");t&&(e=(0,h.mS)(),e=(0,m.DeY)(e,t),(0,h.UF)(e))})),(0,h.aJ)("loadNotificationSettings",(async e=>{const[t,n]=await Promise.all([(0,l.px)("fetchContactSignUpSetting"),(0,l.px)("fetchNotifyDefaultSettings")]);n&&(e=(0,h.mS)(),e=(0,m.qpc)(e,{hasContactJoinedNotifications:t}),e={...e,settings:{...e.settings,notifyDefaults:n}},(0,h.UF)(e))})),(0,h.aJ)("updateNotificationSettings",(async(e,t,n)=>{const{peerType:r,isMuted:s,shouldShowPreviews:a}=n;await(0,l.px)("updateNotificationSettings",r,{isMuted:s,shouldShowPreviews:a})&&(e=(0,h.mS)(),e=(0,m.m1I)(e,r,{mutedUntil:s?o.fRl:void 0,shouldShowPreviews:a}),(0,h.UF)(e))})),(0,h.aJ)("updateWebNotificationSettings",(async(e,t,n)=>{const r=e.settings.byKey;e=(0,m.qpc)(e,n),(0,h.UF)(e);const{hasWebNotifications:o,hasPushNotifications:s}=e.settings.byKey;!r.hasPushNotifications&&s&&await(0,i.B1)(),r.hasPushNotifications&&!s&&await(0,i.al)(),!r.hasWebNotifications&&o&&(await(0,i.xe)()||(e=(0,h.mS)(),e=(0,m.qpc)(e,{hasWebNotifications:!1}),(0,h.UF)(e)))})),(0,h.aJ)("updateContactSignUpNotification",(async(e,t,n)=>{const{isSilent:r}=n;await(0,l.px)("updateContactSignUpNotification",r)&&(e=(0,h.mS)(),e=(0,m.qpc)(e,{hasContactJoinedNotifications:!r}),(0,h.UF)(e))})),(0,h.aJ)("loadLanguages",(async e=>{const t=await(0,l.px)("fetchLanguages");t&&(e=(0,h.mS)(),e=(0,m.qoo)(e,{languages:t}),(0,h.UF)(e))})),(0,h.aJ)("loadPrivacySettings",(async e=>{if((0,g.trm)(e))return;const t=await Promise.all([(0,l.px)("fetchPrivacySettings","phoneNumber"),(0,l.px)("fetchPrivacySettings","addByPhone"),(0,l.px)("fetchPrivacySettings","lastSeen"),(0,l.px)("fetchPrivacySettings","profilePhoto"),(0,l.px)("fetchPrivacySettings","forwards"),(0,l.px)("fetchPrivacySettings","chatInvite"),(0,l.px)("fetchPrivacySettings","phoneCall"),(0,l.px)("fetchPrivacySettings","phoneP2P"),(0,l.px)("fetchPrivacySettings","voiceMessages"),(0,l.px)("fetchPrivacySettings","bio"),(0,l.px)("fetchPrivacySettings","birthday"),(0,l.px)("fetchPrivacySettings","gifts"),(0,l.px)("fetchPrivacySettings","noPaidMessages")]);if(t.some((e=>void 0===e)))return;const[n,r,o,s,a,i,c,u,d,f,m,p,y]=t;e=(0,h.mS)(),e={...e,settings:{...e.settings,privacy:{...e.settings.privacy,phoneNumber:n.rules,addByPhone:r.rules,lastSeen:o.rules,profilePhoto:s.rules,forwards:a.rules,chatInvite:i.rules,phoneCall:c.rules,phoneP2P:u.rules,voiceMessages:d.rules,bio:f.rules,birthday:m.rules,gifts:p.rules,noPaidMessages:y.rules}}},(0,h.UF)(e)})),(0,h.aJ)("setPrivacyVisibility",(async(e,t,n)=>{const{privacyKey:r,visibility:o,onSuccess:s}=n;if(!e.settings.privacy[r]){const t=await(0,l.px)("fetchPrivacySettings",r);if(!t)return;e=(0,h.mS)(),e={...e,settings:{...e.settings,privacy:{...e.settings.privacy,[r]:t.rules}}},(0,h.UF)(e)}const{privacy:{[r]:a}}=e.settings;if(!a)return;const i=(0,f.wT)(e,{visibility:o,allowedIds:[...a.allowUserIds,...a.allowChatIds],blockedIds:[...a.blockUserIds,...a.blockChatIds],botsPrivacy:a.botsPrivacy}),c=await(0,l.px)("setPrivacySettings",r,i);c&&(s?.(),e=(0,h.mS)(),e={...e,settings:{...e.settings,privacy:{...e.settings.privacy,[r]:c.rules}}},(0,h.UF)(e))})),(0,h.aJ)("setPrivacySettings",(async(e,t,n)=>{const{privacyKey:r,isAllowList:o,updatedIds:s,isPremiumAllowed:a,botsPrivacy:i}=n,{privacy:{[r]:c}}=e.settings;if(!c)return;"noPaidMessages"===r&&(e=(0,h.mS)(),[...s.filter((e=>!c.allowUserIds.includes(e))),...c.allowUserIds.filter((e=>!s.includes(e)))].forEach((t=>{e=(0,m.weB)(e,t,{settings:void 0})})),(0,h.UF)(e));const u=(0,f.wT)(e,{visibility:c.visibility,isUnspecified:c.isUnspecified,shouldAllowPremium:a,allowedIds:o?s:[...c.allowUserIds,...c.allowChatIds],blockedIds:o?[...c.blockUserIds,...c.blockChatIds]:s,botsPrivacy:i}),d=await(0,l.px)("setPrivacySettings",r,u);d&&(e=(0,h.mS)(),e={...e,settings:{...e.settings,privacy:{...e.settings.privacy,[r]:d.rules}}},(0,h.UF)(e))})),(0,h.aJ)("updateIsOnline",((e,t,n)=>{"connectionStateReady"===e.connectionState&&(0,l.px)("updateIsOnline",n)})),(0,h.aJ)("loadContentSettings",(async e=>{if((0,g.trm)(e))return;const t=await(0,l.px)("fetchContentSettings");t&&(e=(0,h.mS)(),e=(0,m.qpc)(e,t),(0,h.UF)(e))})),(0,h.aJ)("updateContentSettings",(async(e,t,n)=>{e=(0,m.qpc)(e,{isSensitiveEnabled:n}),(0,h.UF)(e),await(0,l.px)("updateContentSettings",n)||(e=(0,h.mS)(),e=(0,m.qpc)(e,{isSensitiveEnabled:!n}),(0,h.UF)(e))})),(0,h.aJ)("loadCountryList",(async(e,t,n)=>{let{langCode:r}=n;r||(r=(0,y.l)(e).language);const o=await(0,l.px)("fetchCountryList",{langCode:r});o&&(e=(0,h.mS)(),e={...e,countryList:o},(0,h.UF)(e))})),(0,h.aJ)("ensureTimeFormat",(async(e,t)=>{if(e.authNearestCountry){const n=o.wEk.has(e.authNearestCountry.toUpperCase())?"12h":"24h";t.setSharedSettingOption({timeFormat:n}),(0,c.bV)(n)}if((0,y.l)(e).wasTimeFormatSetManually)return;const n=await(0,l.px)("fetchNearestCountry");if(n){const e=o.wEk.has(n.toUpperCase())?"12h":"24h";t.setSharedSettingOption({timeFormat:e}),(0,c.bV)(e)}})),(0,h.aJ)("loadAppConfig",(async(e,t,n)=>{const r=n?.hash,s=await(0,l.px)("fetchAppConfig",r);s&&((0,u.A)({action:"loadAppConfig",payload:{hash:s.hash}},o.Xrp),e=(0,h.mS)(),e={...e,appConfig:s,isAppConfigLoaded:!0},(0,h.UF)(e))})),(0,h.aJ)("loadConfig",(async e=>{const t=await(0,l.px)("fetchConfig");if(!t)return;e=(0,h.mS)();const n=t.expiresAt-(0,d.Fm)();(0,u.A)({action:"loadConfig",payload:void 0},1e3*n),e={...e,config:t},(0,h.UF)(e)})),(0,h.aJ)("loadPeerColors",(async e=>{const t=e.peerColors?.generalHash,n=await(0,l.px)("fetchPeerColors",t);n&&(e=(0,h.mS)(),e={...e,peerColors:{...e.peerColors,general:n.colors,generalHash:n.hash}},(0,h.UF)(e))})),(0,h.aJ)("loadTimezones",(async e=>{const t=e.timezones?.hash,n=await(0,l.px)("fetchTimezones",t);n&&(e=(0,h.mS)(),e={...e,timezones:{byId:(0,a.dU)(n.timezones,"id"),hash:n.hash}},(0,h.UF)(e))})),(0,h.aJ)("loadGlobalPrivacySettings",(async e=>{const t=await(0,l.px)("fetchGlobalPrivacySettings");t&&(e=(0,h.mS)(),e=(0,m.qpc)(e,{...t}),(0,h.UF)(e))})),(0,h.aJ)("updateGlobalPrivacySettings",(async(e,t,n)=>{const r=n.shouldArchiveAndMuteNewNonContact??Boolean(e.settings.byKey.shouldArchiveAndMuteNewNonContact),o=n.shouldHideReadMarks??Boolean(e.settings.byKey.shouldHideReadMarks),s=n.shouldNewNonContactPeersRequirePremium??Boolean(e.settings.byKey.shouldNewNonContactPeersRequirePremium),a=null===n.nonContactPeersPaidStars?void 0:n.nonContactPeersPaidStars||e.settings.byKey.nonContactPeersPaidStars,i=n.shouldDisplayGiftsButton??Boolean(e.settings.byKey.shouldDisplayGiftsButton),c=n.disallowedGifts??e.settings.byKey.disallowedGifts,u=null===n.nonContactPeersPaidStars||n.nonContactPeersPaidStars;e=(0,h.mS)(),e=(0,m.qpc)(e,{shouldArchiveAndMuteNewNonContact:r,shouldHideReadMarks:o,shouldNewNonContactPeersRequirePremium:s,nonContactPeersPaidStars:a,shouldDisplayGiftsButton:i,disallowedGifts:c}),(0,h.UF)(e);const d=await(0,l.px)("updateGlobalPrivacySettings",{shouldArchiveAndMuteNewNonContact:r,shouldHideReadMarks:o,shouldNewNonContactPeersRequirePremium:s,nonContactPeersPaidStars:a,shouldDisplayGiftsButton:i,disallowedGifts:c});e=(0,h.mS)(),e=(0,m.qpc)(e,{shouldArchiveAndMuteNewNonContact:d?d.shouldArchiveAndMuteNewNonContact:!r,shouldHideReadMarks:d?d.shouldHideReadMarks:!o,shouldNewNonContactPeersRequirePremium:d?d.shouldNewNonContactPeersRequirePremium:!s,nonContactPeersPaidStars:d?d.nonContactPeersPaidStars:void 0,shouldDisplayGiftsButton:d?d.shouldDisplayGiftsButton:!i,disallowedGifts:d?d.disallowedGifts:c}),u&&Object.keys(e.users.fullInfoById).forEach((t=>{e=(0,m.weB)(e,t,{settings:void 0})})),(0,h.UF)(e)})),(0,h.aJ)("toggleUsername",(async(e,t,n)=>{const{username:r,isActive:o}=n,{currentUserId:s}=e;if(!s)return;const a=(0,g.mBe)(e,s);if(!a?.usernames)return;const i=a.usernames.map((e=>e.username!==r?e:{...e,isActive:o||void 0}));e=(0,m.TKu)(e,s,{usernames:i}),(0,h.UF)(e),await(0,l.px)("toggleUsername",{username:r,isActive:o})||t.loadFullUser({userId:s})})),(0,h.aJ)("toggleChatUsername",(async(e,t,n)=>{const{chatId:r,username:o,isActive:s}=n,a=(0,g.hds)(e,r);if(!a?.usernames)return;const i=a.usernames.map((e=>e.username!==o?e:{...e,isActive:s||void 0}));e=(0,m.wix)(e,r,{usernames:i}),(0,h.UF)(e),await(0,l.px)("toggleUsername",{chatId:a.id,accessHash:a.accessHash,username:o,isActive:s})||t.loadFullChat({chatId:r})})),(0,h.aJ)("sortUsernames",(async(e,t,n)=>{const{usernames:r}=n,{currentUserId:o}=e;o&&(await(0,l.px)("reorderUsernames",{usernames:r})||t.loadUser({userId:o}))})),(0,h.aJ)("sortChatUsernames",(async(e,t,n)=>{const{chatId:r,usernames:o}=n,s=(0,g.hds)(e,r);if(!s)return;const a=[...s.usernames],i=s.usernames.reduce(((e,t)=>(e[o.findIndex((e=>e===t.username))]=t,e)),[]);e=(0,m.wix)(e,r,{usernames:i}),(0,h.UF)(e),await(0,l.px)("reorderUsernames",{chatId:s.id,accessHash:s.accessHash,usernames:o})||(e=(0,h.mS)(),e=(0,m.wix)(e,r,{usernames:a}),(0,h.UF)(e))}))},27109:(e,t,n)=>{"use strict";n.d(t,{If:()=>a,RY:()=>u,o3:()=>c,sh:()=>i});var r=n(87894),o=n(80140),s=n(62214);function a(e,t,n){const r=u(e,t,n);return!!r?.mutedUntil&&(0,o.Fm)()<r.mutedUntil}function i(e,t,n){const r=u(e,t,n);return!!r&&!r.hasSound}function c(e,t,n){const r=u(e,t,n);return Boolean(r?.shouldShowPreviews)}function u(e,t,n){const o=t?.[function(e){if((0,s.L8)(e.id))return"users";const t=e;return(0,s.WX)(t)?"channels":"groups"}(e)];if(n||o)return{...o,...n&&(0,r.Oy)(n)}}},28470:(e,t,n)=>{"use strict";n.d(t,{e:()=>d,z:()=>u});var r=n(31481),o=n(66644),s=n(6842),a=n(14235);const i=new Map;let c;function u(e,t){t??(t=(0,a.A)()),e.props.id=t;const n=(0,s.A)(e)[0];return i.set(e.props.id,n),function(e){(0,o.RK)((()=>{c||function(){if(c)return;const e=document.createElementNS(r.jNX,"svg");e.setAttribute("width","0"),e.setAttribute("height","0"),e.setAttribute("viewBox","0 0 1 1"),e.classList.add("svg-definitions"),document.body.appendChild(e),c=document.createElementNS(r.jNX,"defs"),e.appendChild(c)}(),c.appendChild(e)}))}(n),t}function d(e){const t=i.get(e);t&&((0,o.RK)((()=>{t.remove()})),i.delete(e))}},29807:(e,t,n)=>{"use strict";n.d(t,{yMZ:()=>c.yM,SpN:()=>u.Sp,yuw:()=>u.yu,ES7:()=>F,WAX:()=>u.WA,oei:()=>R.oe,Nr8:()=>R.Nr,tKM:()=>R.tK,bE$:()=>c.bE,yps:()=>l.yp,XOs:()=>l.XO,PKK:()=>x,Rwe:()=>_,wwb:()=>u.ww,OEt:()=>P,jyG:()=>u.jy,DBV:()=>u.DB,ori:()=>u.or,R4s:()=>u.R4,Y8y:()=>u.Y8,X2D:()=>ae.X2,hXb:()=>c.hX,e5V:()=>m,BWX:()=>M,tOf:()=>u.tO,mDG:()=>u.mD,RBq:()=>u.RB,Ntz:()=>Q,w5O:()=>c.w5,jGY:()=>c.jG,ERc:()=>G,rtZ:()=>J,hds:()=>c.hd,qn$:()=>c.qn,$aQ:()=>c.$,AWZ:()=>c.AW,yHC:()=>c.yH,ZZX:()=>c.ZZ,$TA:()=>c.$T,P4G:()=>c.P4,O5q:()=>u.O5,zeq:()=>u.ze,ToO:()=>c.To,yFI:()=>u.yF,RnX:()=>u.Rn,dfQ:()=>c.df,Egn:()=>u.Eg,meB:()=>u.me,CuV:()=>O.Cu,Wy7:()=>R.Wy,xT4:()=>D,vn8:()=>h,vRX:()=>u.vR,Xf0:()=>u.Xf,TCk:()=>O.TC,BU_:()=>O.BU,BmE:()=>R.Bm,V9I:()=>se.V9,r8w:()=>R.r8,oZ0:()=>R.oZ,nTJ:()=>u.nT,GA4:()=>u.GA,U0A:()=>u.U0,Ys6:()=>u.Ys,KLw:()=>u.KL,dkp:()=>u.dk,VlN:()=>u.Vl,dU3:()=>u.dU,RjD:()=>u.Rj,kdX:()=>u.kd,VC8:()=>u.VC,Szq:()=>u.Sz,DI:()=>u.DI,lC:()=>u.lC,w0X:()=>K,t0O:()=>R.t0,WLj:()=>R.WL,o45:()=>u.o4,CzR:()=>R.Cz,I_m:()=>c.I_,mJZ:()=>c.mJ,D3D:()=>c.D3,ryq:()=>u.ry,ALW:()=>c.AL,nZ4:()=>c.nZ,cwE:()=>N,trm:()=>l.tr,g29:()=>l.g2,SLS:()=>u.SL,sRo:()=>C,clw:()=>A,p5z:()=>u.p5,hc:()=>l.hc,rTV:()=>u.rT,F4N:()=>y,nJv:()=>u.nJ,fo$:()=>u.fo,ynf:()=>u.yn,H1_:()=>u.H1,Jbz:()=>u.Jb,n_C:()=>l.n_,Ani:()=>S,gjV:()=>v,dqr:()=>c.dq,Q31:()=>R.Q3,gd2:()=>se.gd,nIz:()=>L,nTL:()=>c.nT,apd:()=>l.ap,haw:()=>u.h,wmb:()=>Z,rKQ:()=>u.rK,xzS:()=>u.xz,gCU:()=>u.gC,YK:()=>f,cO5:()=>u.cO,S1W:()=>u.S1,D_S:()=>u.D_,xd0:()=>u.xd,OEv:()=>u.OE,meW:()=>u.VS,a_$:()=>u.a_,BSN:()=>te,tVS:()=>u.tV,rQx:()=>u.rQ,Iv$:()=>ne,K52:()=>X,P5N:()=>Y,Tl2:()=>u.Tl,Lzh:()=>u.Lz,JiE:()=>u.Ji,aF2:()=>j,PGw:()=>$,PVB:()=>ae.PV,dNJ:()=>se.dN,_$$:()=>se._$,kBv:()=>c.kB,WA9:()=>ae.WA,IVq:()=>ae.IV,FDg:()=>ae.FD,_bp:()=>se._b,Msb:()=>se.Ms,Cw0:()=>E,xYJ:()=>k,fcC:()=>u.fc,gVx:()=>se.gV,KQQ:()=>u.KQ,zcZ:()=>u.zc,Kt9:()=>V,EGt:()=>z,N1i:()=>u.N1,EHH:()=>u.EH,Vz3:()=>u.Vz,gMr:()=>u.gM,jp_:()=>u.jp,qZq:()=>c.qZ,sam:()=>c.s,p6T:()=>c.p6,Rny:()=>u.iL,GHK:()=>R.GH,t75:()=>b,QP5:()=>u.QP,K3w:()=>u.K3,Jl6:()=>u.Jl,j_4:()=>u.j_,ZZ2:()=>u.ZZ,VF$:()=>c.VF,Y7C:()=>u.Y7,HdA:()=>u.Hd,LM$:()=>u.LM,eCL:()=>oe,LRV:()=>c.LR,KIM:()=>re,ML4:()=>T,PIP:()=>u.PI,AOG:()=>c.AO,dg4:()=>c.dg,G4m:()=>H,v8U:()=>u.v8,Osl:()=>U,gqw:()=>g,ycM:()=>R.yc,wg6:()=>R.wg,R3Q:()=>se.R3,e7$:()=>W,ke9:()=>c.ke,nTw:()=>d.n,SJA:()=>w,Gyz:()=>I,$jd:()=>u.$j,Tac:()=>u.T,L_2:()=>u.L_,Vw0:()=>u.Vw,QbG:()=>u.Qb,C5H:()=>u.C5,S0q:()=>ie.S0,nkm:()=>u.nk,sZk:()=>u.sZ,pSx:()=>ie.pS,xyP:()=>ie.xy,Qq_:()=>ee,ldX:()=>u.ld,mBe:()=>l.mB,gTO:()=>l.gT,Ua4:()=>l.U,vGo:()=>l.vG,K0y:()=>l.K0,rA3:()=>u.rA,NHc:()=>u.NH,wtp:()=>B});var r=n(89925),o=n(96454),s=n(14487),a=n(77312),i=n(90709),c=n(21133),u=n(19408),d=n(5056),l=n(19926);function f(e,t,...[n=(0,s.g0)()]){return(0,d.n)(e,n).management.byChatId[t]}function h(e,...[t=(0,s.g0)()]){const{chatId:n,threadId:r}=(0,u.Xf)(e,t)||{};if(!n||!r)return;if((0,l.yp)(e,n))return"bot";if((0,i.L8)(n))return"user";const o=(0,c.hd)(e,n);return o?(0,i.YE)(o)?"group":"channel":void 0}function m(e,t){const n=(0,c.hd)(e,t);if(!n||n.isRestricted)return!1;const r=(0,i.L8)(n.id)?(0,l.mB)(e,t):void 0,o=r&&(0,i.Gh)(r),s=r&&(0,i.tv)(r);return Boolean(!o&&n&&!(0,c.nZ)(e,n.id)&&!(0,i.Qe)(n.id)&&((0,i.L8)(n.id)||((0,i.SJ)(n)||n.isCreator)&&!n.isNotJoined)&&!s)}var p=n(30708);function g(e,t,...[n=(0,s.g0)()]){return(0,d.n)(e,n).statistics.byChatId[t]}function y(e,...[t=(0,s.g0)()]){const{mediaViewer:{chatId:n,messageId:r,isAvatarView:o,standaloneMedia:a,isSponsoredMessage:i}}=(0,d.n)(e,t);return Boolean(a||n&&(o||r||i))}function b(e,t,...[n=(0,s.g0)()]){const o=(0,d.n)(e,n);return o.editTopicPanel?r.Ul.EditTopic:o.createTopicPanel?r.Ul.CreateTopic:o.pollResults.messageId?r.Ul.PollResults:function(e,...[t=(0,s.g0)()]){const{chatId:n,threadId:r}=(0,u.Xf)(e,t)||{};if(!n||!r)return;const o=(0,d.n)(e,t).management.byChatId[n];return o?.isActive?o:void 0}(e,n)?r.Ul.Management:o.isStatisticsShown&&o.statistics.currentMessageId?r.Ul.MessageStatistics:o.isStatisticsShown&&o.statistics.currentStoryId?r.Ul.StoryStatistics:function(e,...[t=(0,s.g0)()]){if(!(0,d.n)(e,t).isStatisticsShown)return!1;const{chatId:n}=(0,u.Xf)(e,t)||{};return n?(0,c.AW)(e,n)?.canViewStatistics:void 0}(e,n)?r.Ul.Statistics:o.boostStatistics?r.Ul.BoostStatistics:o.monetizationStatistics?r.Ul.MonetizationStatistics:void 0!==o.stickerSearch.query?r.Ul.StickerSearch:void 0!==o.gifSearch.query?r.Ul.GifSearch:o.newChatMembersProgress!==r.D7.Closed?r.Ul.AddingMembers:o.isChatAIShown?r.Ul.ChatAI:o.isChatInfoShown&&o.messageLists.length?r.Ul.ChatInfo:void 0}function v(e,t,...[n=(0,s.g0)()]){return void 0!==b(e,0,n)}function w(e){return(0,p.l)(e).theme}function I(e,t){return e.settings.themes[t]}function A(e,...[t=(0,s.g0)()]){const n=(0,d.n)(e,t);return Boolean(n.forumPanelChatId)&&(void 0===n.globalSearch.query||Boolean(n.globalSearch.isClosing))}function C(e,...[t=(0,s.g0)()]){return!A(e,t)}function S(e,...[t=(0,s.g0)()]){const{reactionPicker:n}=(0,d.n)(e,t);return Boolean(n?.position)}function E(e){return(0,p.l)(e).performance}function k(e,t){return E(e)[t]}function P(e,t){const n=(0,a.zX)(t)||(0,a.QC)(t);if(!n)return;const r=k(e,"autoplayVideos"),o=k(e,"autoplayGifs"),s=n.isGif||n.isRound;return r&&!s||o&&s}function T(e){return k(e,"loopAnimatedStickers")}function M(e){return k(e,"animatedEmoji")}function x(e){return k(e,"pageTransitions")}function N(e){return k(e,"contextMenuBlur")}function L(e){return e.isSynced}function _(e){return o.bW&&k(e,"snapEffect")}function B(e,t,...[n=(0,s.g0)()]){return(0,d.n)(e,n).webApps.openedWebApps[t]}function F(e,...[t=(0,s.g0)()]){const n=(0,d.n)(e,t).webApps.activeWebAppKey;if(n)return B(e,n,t)}function D(e,...[t=(0,s.g0)()]){return(0,d.n)(e,t).globalSearch.query}var O=n(94137),R=n(30163);function j(e,...[t=(0,s.g0)()]){return(0,d.n)(e,t).payment.inputInvoice}function U(e,...[t=(0,s.g0)()]){return(0,d.n)(e,t).starsPayment}function $(e,...[t=(0,s.g0)()]){return(0,d.n)(e,t).payment.requestId}function z(e,...[t=(0,s.g0)()]){return(0,d.n)(e,t).payment.form?.nativeParams.publishableKey}function V(e,...[t=(0,s.g0)()]){return(0,d.n)(e,t).payment.form?.nativeParams.publicToken}function W(e,...[t=(0,s.g0)()]){return(0,d.n)(e,t).payment.stripeCredentials}function H(e,...[t=(0,s.g0)()]){return(0,d.n)(e,t).payment.smartGlocalCredentials}function G(e,t){const n=(0,c.hd)(e,t);return e.currentUserId===t||n&&(0,i.WX)(n)&&(0,i.SJ)(n)&&(0,i.ub)(n,"postMessages")}function J(e,t){const n=(0,c.hd)(e,t),r=(0,l.mB)(e,t);return Boolean(r)||n&&(0,i.WX)(n)}function K(e,t,...[n=(0,s.g0)()]){return J(e,t)?(0,d.n)(e,n).savedGifts.filter:void 0}n(31481);var q=n(4350);function X(e){return e.settings.notifyDefaults}function Y(e,t){return e.chats.notifyExceptionById?.[t]}function Z(e){return(0,p.l)(e).language.replace("-raw","")}function Q(e){const t=(0,q.zk)();return e.authRememberMe&&!q.Xz&&1===Object.keys(t).length}function ee(e){return e.settings.byKey.translationLanguage||Z(e)}function te(e){return e.settings.byKey.shouldNewNonContactPeersRequirePremium}function ne(e){return e.settings.byKey.nonContactPeersPaidStars}function re(e){return e.settings.byKey.shouldHideReadMarks}function oe(e){return e.settings.byKey}var se=n(1903),ae=n(46211),ie=n(88368)},30163:(e,t,n)=>{"use strict";n.d(t,{Bm:()=>d,Cz:()=>A,GH:()=>v,Ij:()=>u,Nr:()=>w,Q3:()=>g,WL:()=>S,Wy:()=>l,oZ:()=>p,oe:()=>b,r8:()=>m,t0:()=>C,tK:()=>I,wg:()=>h,yc:()=>f});var r=n(31481),o=n(14487),s=n(5056),a=n(19926);const i={1:"1️⃣",3:"2️⃣",6:"3️⃣",12:"4️⃣",24:"5️⃣"},c={1e3:"2️⃣",2500:"3️⃣",5e3:"4️⃣"};function u(e,t){const{stickers:n}=e.stickers.favorite;return n&&n.some((({id:e})=>e===t.id))}function d(e,...[t=(0,o.g0)()]){return(0,s.n)(e,t).stickerSearch}function l(e,...[t=(0,o.g0)()]){return(0,s.n)(e,t).gifSearch}function f(e,t){return"string"==typeof t?e.stickers.setsById[t]:"id"in t?e.stickers.setsById[t.id]:"isMissing"in t?void 0:Object.values(e.stickers.setsById).find((({shortName:e})=>e.toLowerCase()===t.shortName.toLowerCase()))}function h(e,t){const n=e.stickers.added.setIds;let r=[];return e.stickers.favorite.stickers.forEach((e=>{e.emoji===t&&r.push(e)})),n?.forEach((n=>{const o=e.stickers.setsById[n].packs;o&&(r=r.concat(o[t]||[],o[y(t)]||[]))})),r}function m(e,t){const n=(0,a.g2)(e),r=e.customEmojis.added.setIds;let o=[];return r?.forEach((n=>{const r=e.stickers.setsById[n].packs;r&&(o=o.concat(r[t]||[],r[y(t)]||[]))})),n?o:o.filter((({isFree:e})=>e))}function p(e,t){const n=(0,a.g2)(e),r=e.customEmojis.added.setIds;let o=[];return r?.forEach((n=>{const r=e.stickers.setsById[n].packs;if(!r)return;const s=Object.entries(r).filter((([e])=>t.includes(e)||t.includes(y(e)))).flatMap((([,e])=>e));o=o.concat(s)})),n?o:o.filter((({isFree:e})=>e))}function g(e){return e.isEmoji&&e.stickers?.some((e=>!e.isFree))}function y(e){return e.replace("️","")}function b(e,t){const{animatedEmojis:n}=e;if(!n||!n.stickers)return;const r=y(t);return n.stickers.find((e=>e.emoji===t||e.emoji===r))}function v(e,t){const{restrictedEmoji:n}=e;if(!n||!n.stickers)return;const r=y(t);return n.stickers.find((e=>{if(e.emoji)return y(e.emoji)===r}))}function w(e,t){const{animatedEmojiEffects:n}=e;if(!n||!n.stickers)return;const r=y(t);return n.stickers.find((e=>e.emoji===t||e.emoji===r))}function I(e,t){return e?.appConfig?.emojiSounds[y(t)]}function A(e,t){return"id"in t&&(t.id===e.appConfig?.defaultEmojiStatusesStickerSetId||t.id===r.QkL)}function C(e,t=1){const n=e.premiumGifts?.stickers;if(!n)return;const r=i[t];return n.find((e=>e.emoji===r))||n[0]}function S(e,t){const n=e.premiumGifts?.stickers;if(!n||!t)return;let r;return r=t<=1e3?c[1e3]:t<2500?c[2500]:c[5e3],n.find((e=>e.emoji===r))||n[0]}},30708:(e,t,n)=>{"use strict";function r(e){return function(e){return e.sharedState}(e).settings}n.d(t,{l:()=>r})},30857:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(84051);const o=()=>{const[,e]=(0,r.J0)(!1);return(0,r.hb)((()=>{e((e=>!e))}),[])}},31481:(e,t,n)=>{"use strict";n.d(t,{$$v:()=>Pe,$4F:()=>be,$gx:()=>H,$nk:()=>_t,ACj:()=>x,AGC:()=>Y,Apc:()=>zt,BSg:()=>ke,BYH:()=>Ft,C$_:()=>me,C1b:()=>u,C39:()=>o,C7Y:()=>Zn,CH0:()=>pr,CQG:()=>Qn,CV:()=>W,CVm:()=>xe,CVv:()=>B,CfG:()=>We,Ckz:()=>Bn,Cmz:()=>h,Cyx:()=>ot,D$I:()=>lr,D3G:()=>Xe,D3m:()=>p,DRJ:()=>ge,DSF:()=>On,DUo:()=>_,EPW:()=>Wt,FHx:()=>C,FZw:()=>Wn,G38:()=>kn,G3A:()=>Vt,GW0:()=>O,GhT:()=>Lt,H4O:()=>It,H6l:()=>Ct,HGU:()=>ne,H_r:()=>wn,HaM:()=>P,HxB:()=>Yn,Hz7:()=>Te,IH3:()=>fn,IRc:()=>Q,Iz7:()=>U,J$1:()=>$t,KFG:()=>Ze,K_A:()=>Mn,Ka6:()=>Gn,Kh8:()=>on,Kp3:()=>Kt,L3V:()=>J,LFk:()=>$n,LWg:()=>mr,LaL:()=>E,Lj4:()=>nt,M$8:()=>Ar,M8B:()=>Ne,MVx:()=>y,MkD:()=>cr,Msx:()=>un,MyF:()=>Yt,N89:()=>pn,NjX:()=>En,NkL:()=>Hn,O2i:()=>wr,O4t:()=>ut,OFc:()=>vn,OMf:()=>jt,OUy:()=>st,OVC:()=>rn,Oig:()=>g,OzO:()=>yt,P3f:()=>Me,PGI:()=>or,Pje:()=>Xn,PqE:()=>ar,Q$7:()=>D,QkL:()=>Fn,RCH:()=>Tt,Rqe:()=>Nt,S4O:()=>mt,SKD:()=>gt,Sab:()=>zn,T7t:()=>oe,TBj:()=>Mt,UAx:()=>hr,Um:()=>ae,UuV:()=>N,UyP:()=>St,Uyp:()=>Dt,VIF:()=>Qe,ViI:()=>F,Vz3:()=>an,W75:()=>f,WG3:()=>fe,XLD:()=>sr,XQO:()=>ve,Xab:()=>ft,Xrp:()=>ze,Y3M:()=>Cn,YAK:()=>G,YVZ:()=>Ge,YfK:()=>br,ZhW:()=>he,_Bb:()=>rr,_E9:()=>Rn,aFH:()=>An,b5_:()=>_n,bVP:()=>mn,be8:()=>ir,bkT:()=>Et,bnE:()=>bn,bpX:()=>Qt,bxS:()=>Dn,c2m:()=>ct,cK8:()=>r,cLl:()=>z,cOD:()=>s,cUY:()=>en,cgU:()=>er,cnh:()=>tt,cqp:()=>$e,dK5:()=>fr,dR$:()=>yr,dnp:()=>Le,dqH:()=>je,dxe:()=>vr,e0F:()=>He,eKB:()=>Xt,eqO:()=>ee,es:()=>wt,f51:()=>Ln,f84:()=>dt,fNs:()=>ln,fRl:()=>lt,fSF:()=>Oe,fng:()=>l,frj:()=>ye,fwn:()=>Ot,g0Q:()=>kt,g0p:()=>dr,gQx:()=>at,gXr:()=>ce,gex:()=>dn,hfH:()=>qt,i11:()=>Fe,iIc:()=>Ae,iJx:()=>L,iKt:()=>qe,iRY:()=>gr,ikg:()=>cn,irO:()=>Se,j0M:()=>S,j1l:()=>Gt,j3k:()=>q,j41:()=>xt,j7l:()=>Un,j7z:()=>it,jNX:()=>sn,jQ1:()=>et,jhT:()=>Ir,jhd:()=>nn,jht:()=>m,jsp:()=>In,kNZ:()=>gn,lFE:()=>b,laV:()=>ie,m$5:()=>Je,mD0:()=>Rt,mFn:()=>a,mH$:()=>de,mPG:()=>Ue,map:()=>pe,mxD:()=>hn,naf:()=>At,nfi:()=>V,nnT:()=>le,npx:()=>Ve,nxZ:()=>bt,oBq:()=>M,ozB:()=>R,pX9:()=>jn,pZc:()=>Re,pk8:()=>De,pkx:()=>qn,qGQ:()=>I,qJR:()=>c,qKY:()=>k,qLe:()=>w,qbC:()=>tr,qj6:()=>Ce,r2x:()=>Bt,r6P:()=>d,r9K:()=>Kn,rBM:()=>Ie,rgX:()=>Pn,rkj:()=>v,s8T:()=>vt,sR2:()=>Ht,sXR:()=>yn,tBS:()=>Cr,tNZ:()=>xn,tP8:()=>ur,tRH:()=>Jt,u4b:()=>we,uCr:()=>se,ukY:()=>Jn,um6:()=>T,uyj:()=>A,vVF:()=>tn,wAs:()=>ue,wEk:()=>Tn,wVm:()=>Ke,wZe:()=>Ee,x6_:()=>Pt,xB5:()=>ht,xJs:()=>j,xMZ:()=>Ut,xcU:()=>rt,xw7:()=>re,y67:()=>nr,ynd:()=>Vn,yo2:()=>Z,yq1:()=>te,yq6:()=>i,z2M:()=>K,zHL:()=>_e,zLi:()=>Sn,zNY:()=>Zt,zP3:()=>Be,zPk:()=>Ye,zq7:()=>pt,zrf:()=>$,zv8:()=>Nn});const r="A",o=`Telegram Web ${r}`,s=1750761058251,a="web.telegram.org",i="https://web.telegram.org/a",c="https://web.telegram.org/",u="https://web.telegram.org/a/",d="account",l=!1,f=!1,h=!1,m=!1,p="paid_messages",g=!1,y=!1,b="tt-log.json",v=g,w=20,I="https://telegra.ph/WebA-Beta-03-20",A="https://telegram-a-host",C="Shoot!\nSomething went wrong, please see the error details in Dev Tools Console.",S="Telegram",E="[Inactive]",k=!1,P="user_auth",T="account",M="tt-passcode",x=6,N=!1,L="tt-global-state",_="tt-shared-state",B=500,F=200,D=10,O=150,R="tt-is-screen-locked",j=!1,U="tt-media",$="tt-media-avatars",z="tt-media-progressive",V="tt-custom-bg",W="tt-lang-packs-v49",H=[1,5,10,50,100,500],G="tt-global",J="tt-establish",K="tt-multitab",q=[1,2,3,4,5],X="undefined"!=typeof window&&window.innerHeight>=900,Y=1,Z=X?60:40,Q=2*Z,ee=36,te=72,ne=65,re=56,oe=X?30:25,se=100,ae=42,ie=42,ce=42,ue=20,de=5,le=30,fe=200,he=500,me=600,pe=100,ge=50,ye=15,be=10,ve=20,we=30,Ie="global",Ae=20,Ce=500,Se=20,Ee=250,ke=1,Pe=1e4,Te=1,Me=1,xe=1200,Ne=-1,Le=0,_e=1,Be=2,Fe=Be,De=16,Oe=17,Re=15,je=3,Ue=1e4,$e=3e3,ze=1e7,Ve=36e5,We="editable-message-text",He="editable-message-text-modal",Ge="editable-story-input-text",Je=`.messages-layout .Transition_slide-active #${We}, .messages-layout .Transition > .Transition_slide-to #${We}`,Ke=`#${He}`,qe=`#${Ge}`,Xe="data-has-custom-appendix",Ye="message-content",Ze=".message-content",Qe="active-view-transition",et="resizeHandle",tt=`.${et}`,nt="snap-effect-container",rt="snap-effect",ot="⭐",st="XTR",at=1275,it=925,ct=600,ut=950,dt=450,lt=2**31-1,ft="0",ht=100,mt=200,pt=10,gt=300,yt=600,bt=800,vt=300,wt=(Math.round((gt+yt)/2),new Set(["newMessage","newScheduledMessage","deleteMessages","deleteScheduledMessages","deleteHistory","deleteParticipantHistory"]),200),It=13,At=11,Ct=160,St=120,Et=72,kt=36,Pt=32,Tt=40,Mt=32,xt=20,Nt=72,Lt=72,_t=36,Bt=160,Ft=160,Dt=140,Ot=100,Rt=100,jt=140,Ut=140,$t=2,zt=7,Vt="top",Wt="popular",Ht="recent",Gt="collectibleStatus",Jt="favorite",Kt="effectStickers",qt="effectEmojis",Xt="chatStickers",Yt="topic-default-icon",Zt="status-default-icon",Qt=/<img[^>]+alt="([^"]+)"(?![^>]*data-document-id)[^>]*>/gm,en="en",tn=200,nn=450,rn="FestiveFontEmoji",on="RestrictedEmoji",sn="http://www.w3.org/2000/svg",an="image/gif",cn="application/x-tgsticker",un="video/webm",dn=new Set(["image/png","image/jpeg",an]),ln=new Set(["video/mp4","video/quicktime"]),fn=new Set(["audio/mp3","audio/ogg","audio/wav","audio/mpeg","audio/flac","audio/aac","audio/m4a","audio/mp4","audio/x-m4a"]),hn=new Set([...dn,...ln]),mn="The message is not supported on this version of Telegram.",pn=["en","ar","be","ca","zh","nl","fr","de","id","it","ja","ko","pl","pt","ru","es","uk","af","sq","am","hy","az","eu","bn","bs","bg","ceb","zh-CN","zh-TW","co","hr","cs","da","eo","et","fi","fy","gl","ka","el","gu","ht","ha","haw","he","iw","hi","hmn","hu","is","ig","ga","jv","kn","kk","km","rw","ku","ky","lo","la","lv","lt","lb","mk","mg","ms","ml","mt","mi","mr","mn","my","ne","no","ny","or","ps","fa","pa","ro","sm","gd","sr","st","sn","sd","si","sk","sl","so","su","sw","sv","tl","tg","ta","tt","te","th","tr","tk","ur","ug","uz","vi","cy","xh","yi","yo","zu"],gn="((ftp|https?):\\/\\/)?((www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z][-a-zA-Z0-9]{1,62})\\b([-a-zA-Z0-9()@:%_+.,~#?&/=]*)",yn="(@[\\w\\d_-]+)",bn=/^tg:(\/\/)?/i,vn=/^(https?:\/\/)?([-a-zA-Z0-9@:%_+~#=]{1,32}\.)?t\.me/i,wn=/^(https?:\/\/)?telegram\.org\//i,In="https://t.me/",An="botfather",Cn="USERNAME_PURCHASE_AVAILABLE",Sn="MESSAGE_ID_REQUIRED",En="auction",kn=(new Set([Cn,"USERNAME_INVALID"]),new Set(["t.me","web.t.me","a.t.me","k.t.me","z.t.me"])),Pn="weba",Tn=new Set(["AU","BD","CA","CO","EG","HN","IE","IN","JO","MX","MY","NI","NZ","PH","PK","SA","SV","US"]),Mn=["bots","channels","chats","users","groups"],xn={type:"emoji",emoticon:"❤"},Nn="777000",Ln="1271266957",_n="489000",Bn="2666000",Fn="7173162320003080",Dn=14,On=0,Rn=1,jn=-1,Un=-2,$n=-3,zn=-4,Vn=10,Wn=5,Hn=2147483646,Gn=["android","ios","tdesktop","macos"],Jn="https://bugs.telegram.org/?tag_ids=41&sort=time",Kn="https://telegram.org/faq",qn="https://telegram.org/privacy",Xn="https://telegram.org/tos/mini-apps",Yn=1,Zn=86400,Qn=4,er=10,tr=10,nr=10,rr="888",or=11,sr="#99BA92",ar="#0F0F0F",ir="#4A8E3A8C",cr="#0A0A0A8C",ur="1a",dr="2b",lr=5,fr=524288,hr=11,mr=new Set(["USER_CANCELED"]),pr=100,gr=100*pr,yr={uploadMaxFileparts:[4e3,8e3],stickersFaved:[5,10],savedGifs:[200,400],dialogFiltersChats:[100,200],dialogFilters:[10,20],dialogFolderPinned:[5,10],captionLength:[1024,4096],channels:[500,1e3],channelsPublic:[10,20],aboutLength:[70,140],chatlistInvites:[3,100],chatlistJoined:[2,20],recommendedChannels:[10,100],savedDialogsPinned:[5,100],moreAccounts:[3,x]},br=4096,vr=2147483647,wr=["stories","double_limits","more_upload","faster_download","voice_to_text","no_ads","infinite_reactions","premium_stickers","animated_emoji","advanced_chat_management","profile_badge","animated_userpics","emoji_status","translations","saved_tags","last_seen","message_privacy","effects"],Ir=["faster_download","voice_to_text","advanced_chat_management","infinite_reactions","profile_badge","animated_userpics","emoji_status","translations","saved_tags","last_seen","message_privacy","effects"],Ar=["channels","dialogFolderPinned","channelsPublic","savedGifs","stickersFaved","aboutLength","captionLength","dialogFilters","dialogFiltersChats","moreAccounts","recommendedChannels"],Cr={sortType:"byDate",shouldIncludeUnlimited:!0,shouldIncludeLimited:!0,shouldIncludeUnique:!0,shouldIncludeDisplayed:!0,shouldIncludeHidden:!0}},32625:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(84051),o=n(17712);const s=function(e,t,n=!1){const s=(0,o.A)(e);(0,r.vJ)((()=>{if(void 0===t)return;const e=setInterval((()=>s()),t);return n||s(),()=>clearInterval(e)}),[t,n])}},32989:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var r=n(14487);function o(e,t,...[n=(0,r.g0)()]){return{...e,byTabId:{...e.byTabId,[n]:{...e.byTabId[n],...t}}}}},33204:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(13439);const o=new Map;function s(e,t){const n=e.action;clearTimeout(o.get(n));const s=window.setTimeout((()=>{(0,r.ko)()[n](e.payload)}),t);o.set(n,s)}},33554:(e,t,n)=>{"use strict";n.d(t,{$:()=>o});var r=n(87894);function o(e,t){return e===t?t:(0,r.Vh)(t)?(0,r.Vh)(e)?"__deleteAllChildren"in t?{}:(0,r.Am)(Object.keys(e).concat(Object.keys(t))).reduce(((n,r)=>{const s=e[r];if(t.hasOwnProperty(r)){const e=t[r];e?.__delete||(n[r]=o(s,e))}else n[r]=s;return n}),{}):s(t):t}function s(e){return e.__deleteAllChildren?{}:Object.entries(e).reduce(((e,[t,n])=>(n?.__delete||(e[t]=(0,r.Vh)(n)?s(n):n),e)),{})}},34164:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function o(){for(var e,t,n=0,o="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}n.d(t,{$:()=>o})},34780:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>f,c_:()=>d,w4:()=>l});var r=n(84051),o=n(46536),s=n(17712);const a=(0,o.h)(),i=(0,o.h)();let c,u=!1;function d(){return u}function l(){return u||(u=!0,a.runCallbacks()),c&&(clearTimeout(c),c=void 0),function(){c&&(clearTimeout(c),c=void 0),u=!1,i.runCallbacks()}}const f=(e,t,n=!1)=>{const o=(0,s.A)(e),c=(0,s.A)(t);(0,r.vJ)((()=>{if(!n)return u&&o(),a.addCallback(o),i.addCallback(c),()=>{i.removeCallback(c),a.removeCallback(o)}}),[n,o,c])}},35049:(e,t,n)=>{"use strict";n.d(t,{a:()=>s,y:()=>o});var r=n(90709);function o(e,t,n){if(!e){if(!n)return;return t?"peer-color-count-1":"peer-color-0"}if("isCustomPeer"in e){if(void 0===e.peerColorId)return;return`peer-color-${e.peerColorId}`}return t?`peer-color-count-${(0,r.PX)(e)}`:`peer-color-${(0,r.Zg)(e)}`}function s(e){return`peer-color-${e.color}`}},35297:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(84051),o=n(73767);function s(e,t){const n=(0,o.A)(t),s=(0,r.li)();n&&!t.some(((e,t)=>e!==n[t]))||(s.current?.(),s.current=e(n||[])??void 0),(0,r._W)((()=>{s.current?.()}))}},35710:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});let r=function(e){return e[e.BlobUrl=0]="BlobUrl",e[e.Progressive=1]="Progressive",e[e.DownloadUrl=2]="DownloadUrl",e[e.Text=3]="Text",e}({})},37479:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(84051),o=n(31481),s=n(28470),a=n(71322);function i(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=new Map;class u{constructor(e){this.color=e,i(this,"filterId",void 0),i(this,"referenceCount",0),this.filterId=`color-filter-${e.slice(1)}`;const t=(0,a.E2)(e);(0,s.z)(r.Ay.createElement("filter",{"color-interpolation-filters":"sRGB",xmlns:o.jNX},r.Ay.createElement("feColorMatrix",{type:"matrix",values:`0 0 0 0 ${t.r/255} 0 0 0 0 ${t.g/255} 0 0 0 0 ${t.b/255} 0 0 0 1 0`})),this.filterId)}getFilterId(){return this.referenceCount+=1,this.filterId}removeReference(){this.referenceCount-=1,0===this.referenceCount&&(0,s.e)(this.filterId)}isUsed(){return this.referenceCount>0}}function d(e,t){if((0,r.vJ)((()=>{if(e)return()=>{const t=c.get(e);t&&(t.removeReference(),t.isUsed()||c.delete(t.color))}}),[e]),!e)return;if(c.has(e))return l(c.get(e).getFilterId(),t);const n=new u(e);return c.set(e,n),l(n.getFilterId(),t)}function l(e,t){return t?`url(#${e})`:`filter: url(#${e});`}},37661:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(84051);const o=(e=!1,t)=>{const[n,o]=(0,r.J0)(e,t);return[n,(0,r.hb)((()=>{o(!0)}),[]),(0,r.hb)((()=>{o(!1)}),[])]}},37795:(e,t,n)=>{"use strict";function r(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Ay:()=>a,Rn:()=>o,ai:()=>s});const o="summaryChats",s="urgentChats",a=class{constructor(e){this.dbManager=e,r(this,"storeName","general"),r(this,"db",null),r(this,"chataiStoreManager",void 0),this.db=e.db,this.chataiStoreManager=e}async get(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readonly").objectStore(this.storeName).get(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}}))}async set(e,t){let n;try{n=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((r,o)=>{const s=n.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(t,e);s.onsuccess=()=>{r(s.result)},s.onerror=()=>{o(s.error)}}))}async delete(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}}))}}},37836:(e,t,n)=>{"use strict";function r(e,t,n=!0,r=!0){let o;return(...s)=>{o?(clearTimeout(o),o=void 0):n&&e(...s),o=self.setTimeout((()=>{r&&e(...s),o=void 0}),t)}}function o(e,t,n=!0){let r,o,s;return(...a)=>{o=!0,s=a,r||(n&&(o=!1,e(...s)),r=self.setInterval((()=>{if(!o)return self.clearInterval(r),void(r=void 0);o=!1,e(...s)}),t))}}function s(e){return a(p,e)}function a(e,t){let n,r=!1;return(...o)=>{n=o,r||(r=!0,e((()=>{r=!1,t(...n)})))}}n.d(t,{Fe:()=>s,IJ:()=>m,P_:()=>c,aj:()=>p,kI:()=>v,nF:()=>o,nb:()=>a,sg:()=>r,v7:()=>i,yu:()=>w});const i=e=>new Promise((t=>{setTimeout((()=>t()),e)}));function c(){return new Promise((e=>{m(e)}))}const u=35;let d,l,f,h;function m(e,t=!1){d?d.add(e):(d=new Set([e]),requestAnimationFrame((()=>{const e=d;d=void 0,l=void 0,f&&(clearTimeout(f),f=void 0),e.forEach((e=>e()))}))),t&&(l?l.add(e):l=new Set([e]),f||(f=window.setTimeout((()=>{const e=l;d&&e.forEach(d.delete,d),l=void 0,f&&(clearTimeout(f),f=void 0),e.forEach((e=>e()))}),u)))}function p(e){h?h.push(e):(h=[e],Promise.resolve().then((()=>{const e=h;h=void 0,e.forEach((e=>e()))})))}const g=500;let y,b;function v(e){self.requestIdleCallback?y?y.push(e):(y=[e],requestIdleCallback((e=>{const t=y;for(y=void 0;t.length&&(t.shift()(),e.timeRemaining()););t.length&&(y?y=t.concat(y):t.forEach(v))}),{timeout:g})):p(e)}function w(e,t=!1){return b||(b=[],self.addEventListener("beforeunload",(()=>{b.forEach((e=>e()))}))),t?b.push(e):b.unshift(e),()=>{b=b.filter((t=>t!==e))}}},37932:(e,t,n)=>{"use strict";n.d(t,{Cn:()=>T,DW:()=>P,cl:()=>N});var r=n(31481),o=n(5930),s=n(2188),a=n(87894),i=n(37836),c=n(84051),u=n(30857),d=n(14745);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(null,arguments)}let f,h={isInited:!1};const m=(0,i.Fe)((()=>{f=Math.random()})),p={},g=[function(){let e;r.Oig&&(e=performance.now());for(const e of b.values()){const{mapStateToProps:t,ownProps:n,mappedProps:a,forceUpdate:i}=e;if(!x(e,h,n))continue;let c;try{c=t(h,n)}catch(e){return void(0,s.H)(e)}r.Oig&&Object.values(c).some(Number.isNaN)&&console.warn(`[TeactN] Some of \`${e.DEBUG_componentName}\` mappers contain NaN values. This may cause redundant updates because of incorrect equality check.`),Object.keys(c).length&&!(0,o.A)(a,c)&&(r.MVx&&(0,o.q)(a,c,`[TeactN] Will update ${e.DEBUG_componentName} caused by:`),e.mappedProps=c,e.DEBUG_updates++,i())}if(r.Oig){const t=performance.now()-e;t>7&&console.warn(`[TeactN] Slow containers update: ${Math.round(t)} ms`)}}],y={},b=new Map,v=(0,i.Fe)(I);let w=!0;function I(){if(w)w=!1;else if((0,c.OV)())return void c.OV.once(v);g.forEach((e=>e(h)))}function A(e,t){if("object"==typeof e&&e!==h){if(r.Oig){if(!t?.forceOutdated&&e.DEBUG_randomId&&e.DEBUG_randomId!==f)throw new Error("[TeactN.setGlobal] Attempt to set an outdated global");f=Math.random()}h=e,t?.forceSyncOnIOs?(w=!0,I()):(t?.forceOnHeavyAnimation&&(w=!0),v())}}function C(){return r.Oig&&(h={...h,DEBUG_randomId:f},m()),h}function S(){return y}let E=[];function k(e,t){p[e]||(p[e]=[],y[e]=(t,n)=>{!function(e,t,n){if(E.push((()=>{p[e]?.forEach((e=>{const o=e(r.Oig?C():h,y,t);o&&"function"!=typeof o.then&&A(o,n)}))})),1===E.length)try{for(;E.length;)E[0](),E.shift()}finally{E=[]}}(e,t,n)}),p[e].push(t)}function P(e){g.push(e)}function T(e){const t=g.indexOf(e);-1!==t&&g.splice(t,1)}function M(e=()=>({}),t){return n=>{function r(r){const a=(0,d.A)(),i=(0,u.A)();(0,c._W)((()=>{b.delete(a)}));let f=b.get(a);if(f||(f={mapStateToProps:e,activationFn:t,ownProps:r,forceUpdate:i,DEBUG_updates:0,DEBUG_componentName:n.name},b.set(a,f)),!f.mappedProps||!(0,o.A)(f.ownProps,r)&&x(f,h,r))try{f.mappedProps=e(h,r)}catch(e){(0,s.H)(e)}return f.ownProps=r,c.Ay.createElement(n,l({},f.mappedProps,r))}return r.DEBUG_contentComponentName=(0,c.$Z)(n),r}}function x(e,t,n){const{activationFn:r,stuckTo:o}=e;return!r||r(t,n,(t=>(t&&!o&&(e.stuckTo=t),t&&(!o||o===t))))}function N(){return{getGlobal:C,setGlobal:A,getActions:S,addActionHandler:k,withGlobal:M}}r.Oig&&(window.getGlobal=C,window.setGlobal=A,document.addEventListener("dblclick",(()=>{console.warn("GLOBAL CONTAINERS",(0,a.My)(Array.from(b.values()).map((({DEBUG_componentName:e,DEBUG_updates:t})=>({DEBUG_componentName:e,DEBUG_updates:t}))),"DEBUG_updates","desc"))})))},37960:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(21511);function o(e,t){const n=Boolean(e),{ref:o}=(0,r.A)({isOpen:n,noMountTransition:n,className:"slow",...t});return o}},38027:(e,t,n)=>{"use strict";e.exports=n.p+"grey.45da821d56a68ea86203.svg"},38691:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(84051),o=n(46536),s=n(15283);const a=(0,o.h)();function i(){window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`).addEventListener("change",a.runCallbacks,{once:!0})}function c(){const[e,t]=(0,r.J0)(window.devicePixelRatio);return(0,s.A)((()=>a.addCallback((()=>{t(window.devicePixelRatio)})))),e}i(),a.addCallback(i)},39351:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(43044),o=n(15283),s=n(30857);const a=()=>{const e=(0,s.A)();return(0,o.A)((()=>(0,r.iV)(e))),(0,r.Yw)()}},39751:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(84051),o=n(37836),s=n(43503),a=n(16581);const i=250;function c(){const{width:e,height:t}=s.A.get(),[n,c]=(0,r.J0)(e),[u,d]=(0,r.J0)(t),[l,f]=(0,r.J0)(!1),h=(0,a.A)(f,[f],i,!0);return(0,r.vJ)((()=>{const e=(0,o.nF)((()=>{f(!0)}),i,!0),t=(0,o.nF)((()=>{const{width:e,height:t}=s.A.get();c(e),d(t),h(!1)}),i,!1),n=()=>{e(),t()};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}}),[h]),(0,r.Kr)((()=>({width:n,height:u,isResizing:l})),[u,l,n])}},39761:(e,t,n)=>{"use strict";function r(e){for(e.pause(),e.removeAttribute("src");e.firstChild;)e.removeChild(e.firstChild);e.load()}n.d(t,{A:()=>r})},39877:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var r=n(84051),o=n(66644),s=n(90709),a=n(87357),i=n(87679),c=n(76023),u=n(87094),d=n(84080),l=n(17712),f=n(62587),h=n(59030),m=n(93545),p=n(38691),g=n(47483);const y=[{inline:22,block:38,opacity:.35,scale:.75},{inline:32,block:12,opacity:.3,scale:1},{inline:60,block:22,opacity:.25,scale:.75},{inline:75,block:44,opacity:.25,scale:1},{inline:75,block:2,opacity:.2,scale:.625},{inline:95,block:18,opacity:.2,scale:1},{inline:115,block:38,opacity:.2,scale:.625},{inline:125,block:12,opacity:.1,scale:.75}],b=c.$,v=(0,r.ph)((({emojiDocumentId:e,className:t})=>{const n=(0,r.li)(null),c=(0,r.li)(null),[v,w]=(0,r.J0)(),I=(0,p.A)(),A=(0,h.A)(),{customEmoji:C}=(0,g.A)(e),S=C?(0,s.Mw)(C,"preview"):void 0,E=(0,f.A)(S),k=(0,u.A)(c),P=(0,d.KE)((()=>{E&&(0,i.NN)(E).then(w)}),[E]);(0,r.vJ)((()=>{P()}),[P]);const T=(0,l.A)((()=>{const e=n.current;if(!e||!v||!k)return;const t=e.getContext("2d"),{width:r,height:o}=e;t.clearRect(0,0,r,o),y.forEach((({inline:e,block:n,opacity:o,scale:s})=>{const a=(A.isRtl?e:r/I-e)*I,i=n*I,c=b*I;t.save(),t.globalAlpha=o,t.translate(a,i),t.scale(s,s),t.drawImage(v,-c/2,-c/2,c,c),t.restore()}));const s=`${k}${C.isLottie?"ff":"bb"}`;t.save(),t.fillStyle=s,t.globalCompositeOperation="source-atop",t.fillRect(0,0,r,o),t.restore()})),M=(0,d.KE)(T,[T]);(0,r.vJ)((()=>{M()}),[v,A.isRtl,k,M]);const x=(0,d.KE)(((e,t)=>{(0,o.RK)((()=>{const r=n.current;r&&(r.width=e*I,r.height=t*I,r.style.width=`${e}px`,r.style.height=`${t}px`,T())}))}),[I]),N=(0,d.KE)((e=>{const{width:t,height:n}=e.contentRect;x(t,n)}),[x]);return(0,m.A)(c,N),(0,r.vJ)((()=>{const e=c.current;if(!e)return;const{width:t,height:n}=e.getBoundingClientRect();x(t,n)}),[x]),r.Ay.createElement("div",{className:(0,a.A)("pTWe_CYU",t),ref:c},r.Ay.createElement("canvas",{ref:n}))}))},40664:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(84051),o=n(87357),s=n(59030);const a=(0,r.ph)((({ref:e,id:t,className:n,value:a,label:i,error:c,success:u,disabled:d,readOnly:l,placeholder:f,autoComplete:h,inputMode:m,maxLength:p,tabIndex:g,teactExperimentControlled:y,onChange:b,onInput:v,onKeyPress:w,onKeyDown:I,onBlur:A,onPaste:C})=>{const S=(0,s.A)(),E=c||u||i,k=(0,o.A)("input-group",a&&"touched",c?"error":u&&"success",d&&"disabled",l&&"disabled",E&&"with-label",n);return r.Ay.createElement("div",{className:k,dir:S.isRtl?"rtl":void 0},r.Ay.createElement("input",{ref:e,className:"form-control",type:"text",id:t,dir:"auto",value:a||"",tabIndex:g,placeholder:f,maxLength:p,autoComplete:h,inputMode:m,disabled:d,readOnly:l,onChange:b,onInput:v,onKeyPress:w,onKeyDown:I,onBlur:A,onPaste:C,"aria-label":E,teactExperimentControlled:y}),E&&r.Ay.createElement("label",{htmlFor:t},E))}))},40708:(e,t,n)=>{"use strict";n.d(t,{GB:()=>a,Gb:()=>o,bL:()=>r,ne:()=>s});const r="777888",o="schedule-meeting",s="search-group",a="search-user"},41036:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>A,VY:()=>w,uo:()=>v});var r=n(84051),o=n(61433),s=n(13439),a=n(66644),i=n(29807),c=n(87357),u=n(25903),d=n(41402),l=n(87894),f=n(55994),h=n(30857),m=n(73767);const p="Transition_slide-active",g="Transition_slide-from",y="Transition_slide-to",b="Transition_slide-inactive",v=p,w=y,I=new Set(["slide","slideRtl","slideFade","zoomFade","zoomBounceSemiFade","slideLayers","pushSlide","reveal","slideOptimized","slideOptimizedRtl","slideVertical","slideVerticalFade"]),A=function({ref:e,activeKey:t,nextKey:n,name:v,direction:w="auto",renderCount:A,shouldRestoreHeight:C,shouldCleanup:S,cleanupExceptionKey:E,cleanupOnlyKey:k,shouldWrap:P,wrapExceptionKey:T,id:M,className:x,slideClassName:N,withSwipeControl:L,isBlockingAnimation:_,onStart:B,onStop:F,children:D}){const O=(0,r.li)(),R=I.has(v)&&!(0,i.PKK)((0,s.mS)());let j=(0,r.li)(null);e&&(j=e);const U=(0,r.li)({}),$=(0,m.A)(t),z=(0,h.A)(),V=(0,r.li)(!1),W=(0,r.li)(!1),H=void 0!==$&&t!==$;!A&&H&&(U.current={[$]:U.current[$]}),U.current[t]=D,n&&(U.current[n]=D);const G=-1===w||"auto"===w&&$>t||"inverse"===w&&$<t;(0,r.Nf)((()=>{function e(){S&&(U.current=void 0!==E?{[E]:U.current[E]}:void 0!==k?(0,l.cJ)(U.current,[k]):{},z())}const n="slideOptimized"===v||"slideOptimizedRtl"===v,s=j.current,i=Object.keys(U.current).map(Number),c=A?$:i.indexOf($),h=A?t:i.indexOf(t),m=Array.from(s.childNodes);if(!m.length)return;const w=Array.from(s.children);if(w.forEach((e=>{(0,o.YM)(e,"Transition_slide"),N&&N.split(/\s+/).forEach((t=>{(0,o.YM)(e,t)}))})),!H){if(V.current)return;return void w.forEach((e=>{e===m[h]?((0,o.YM)(e,p),n&&(0,o.Tv)(e,{transition:"none",transform:"translate3d(0, 0, 0)"})):n||(0,o.YM)(e,b)}))}if(O.current=t,n){if(!m[h])return;return void function(e,t,n,s,i,c,l,f,h,m,g,y,b,v){if(e)return(0,o.dH)(f,`Transition-${t}`,!n),(0,o.dH)(f,`Transition-${t}Backwards`,n),m instanceof HTMLElement&&((0,o.HW)(m,p),(0,o.Tv)(m,{transition:"none",transform:""})),h instanceof HTMLElement&&((0,o.YM)(h,p),(0,o.Tv)(h,{transition:"none",transform:"translate3d(0, 0, 0)"})),void s();"slideOptimizedRtl"===t&&(n=!n),l.current=!0;const w=(0,r.VK)(void 0,y);b?.(),(0,o.dH)(f,`Transition-${t}`,!n),(0,o.dH)(f,`Transition-${t}Backwards`,n),m instanceof HTMLElement&&(0,o.Tv)(m,{transition:"none",transform:"translate3d(0, 0, 0)"}),h instanceof HTMLElement&&(0,o.Tv)(h,{transition:"none",transform:`translate3d(${n?"-":""}100%, 0, 0)`}),(0,a.gm)((()=>(h instanceof HTMLElement&&(0,d.A)(h),()=>{m instanceof HTMLElement&&((0,o.HW)(m,p),(0,o.Tv)(m,{transition:"",transform:`translate3d(${n?"":"-"}100%, 0, 0)`})),h instanceof HTMLElement&&((0,o.YM)(h,p),(0,o.Tv)(h,{transition:"",transform:"translate3d(0, 0, 0)"}))}))),(0,u.j)(h,(()=>{const e=h instanceof HTMLElement?h.clientHeight:void 0;(0,a.RK)((()=>{i===c.current?(m instanceof HTMLElement&&(0,o.Tv)(m,{transition:"none",transform:""}),g&&e&&h instanceof HTMLElement&&((0,o.Tv)(h,{height:"auto"}),(0,o.Tv)(f,{height:`${e}px`})),v?.(),w(),l.current=!1,s()):w()}))}))}(R,v,G,e,t,O,V,s,m[h],m[c],C,_,B,F)}if("none"===v||R||W.current)return W.current&&(W.current=!1),m.forEach(((e,t)=>{e instanceof HTMLElement&&((0,o.HW)(e,g),(0,o.HW)(e,y),(0,o.dH)(e,p,t===h),(0,o.dH)(e,b,t!==h))})),void e();m.forEach(((e,t)=>{e instanceof HTMLElement&&((0,o.HW)(e,p),(0,o.dH)(e,g,t===c),(0,o.dH)(e,y,t===h),(0,o.dH)(e,b,t!==c&&t!==h))})),V.current=!0;const I=(0,r.VK)(void 0,_);function P(){const n=s.querySelector(`.${p}`),{clientHeight:r}=n||{};(0,a.RK)((()=>{t===O.current?((0,o.HW)(s,`Transition-${v}`),(0,o.HW)(s,`Transition-${v}Backwards`),m.forEach(((e,t)=>{e instanceof HTMLElement&&((0,o.HW)(e,g),(0,o.HW)(e,y),(0,o.dH)(e,p,t===h),(0,o.dH)(e,b,t!==h))})),C&&n&&((0,o.Tv)(n,{height:"auto"}),(0,o.Tv)(s,{height:`${r}px`})),F?.(),I(),V.current=!1,e()):I()}))}B?.(),(0,o.dH)(s,`Transition-${v}`,!G),(0,o.dH)(s,`Transition-${v}Backwards`,G);const T="reveal"!==v&&"slideFadeAndroid"!==v||!G?m[h]:m[c];if(T)if(L&&m[c]){const e=(0,u.e)(T,P);(0,f.R)(m[c],m[h],(()=>{e(),W.current=!0,F?.(),I(),V.current=!1}))}else(0,u.e)(T,P,void 0,1e3);else P()}),[t,n,$,H,G,v,B,F,A,C,S,N,E,R,z,L,_,k]),(0,r.vJ)((()=>{if(!C)return;const e=j.current,t=e.querySelector(`:scope > .${p}`)||e.querySelector(`:scope > .${g}`);if(!t)return;const{clientHeight:n,clientWidth:r}=t||{};n&&r&&(0,a.RK)((()=>{(0,o.Tv)(t,{height:"auto"}),(0,o.Tv)(e,{height:`${n}px`,flexBasis:`${n}px`})}))}),[C,D]);const J=!A,K=U.current,q=Object.keys(A?new Array(A).fill(void 0):K).map(Number).map((e=>{const n=K[e];if(!n)return;const o="function"==typeof n?n(e===t,e===$,e,t):n;return P&&e!==T||J?r.Ay.createElement("div",{key:e,teactOrderKey:e},o):o}));return r.Ay.createElement("div",{ref:j,id:M,className:(0,c.A)("Transition",x),teactFastList:J},q)}},41257:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var r=n(84051);function o(e){const t=(0,r.li)(e);return t.current=e,t}},41402:(e,t,n)=>{"use strict";function r(e){e.offsetWidth}n.d(t,{A:()=>r})},41733:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,e:()=>o});var r=n(31481);const o=e=>e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2,s=e=>{e.play().catch((t=>{r.Oig&&console.warn(t,e)}))}},42385:(e,t,n)=>{"use strict";n.d(t,{Bo:()=>O,Jr:()=>P,Lj:()=>L,Mm:()=>j,ZJ:()=>_,bN:()=>M,e:()=>F,r2:()=>N,s1:()=>T,z0:()=>B});var r=n(84051),o=n(37932),s=n(23174),a=n(31481),i=n(70758),c=n(49763),u=n(87894),d=n(4350),l=n(70934),f=n(37836),h=n(57751),m=n(90709),p=n(13439),g=n(20714),y=n(17872),b=n(29807),v=n(43874);const w=(0,f.nF)((()=>(0,r.qF)((()=>D()))),5e3,!1),I=()=>D(!0);let A,C=!1,S=!1;function E(e){return i.qc.set(d.pg,e)}function k(e){return i.qc.set(a.DUo,e)}function P(){return i.qc.get(a.DUo)}function T(){return i.qc.del(d.pg)}function M(){return i.qc.del(a.DUo)}function x(e){e?.passcode?.isScreenLocked&&localStorage.setItem(a.ozB,"true")}function N(){a.UuV||((0,p.aJ)("saveSession",(()=>{C||(_(),I())})),(0,p.aJ)("reset",(()=>{S=!0,T().finally((()=>{localStorage.removeItem(a.ozB),S=!1,C&&B()}))})))}async function L(e){if(a.UuV)return;const t=await async function(e){a.Oig&&console.time("global-state-cache-read");const t=localStorage.getItem(d.pg),n=t?JSON.parse(t):void 0;n&&localStorage.removeItem(d.pg);let r=n||await i.qc.get(d.pg);const o=await P()||e.sharedState;r&&(r={...r,sharedState:o}),a.Oig&&console.timeEnd("global-state-cache-read"),r&&F(r,e);return{...e,...r,sharedState:{...o,...r?.sharedState}}}(e);return t.passcode.hasPasscode||(0,h.wr)()?(_(),t):void B()}function _(){C=!0,A=(0,f.yu)(I,!0),window.addEventListener("blur",I),(0,o.DW)(w)}function B(){C=!1,(0,o.Cn)(w),window.removeEventListener("blur",I),A&&A()}function F(e,t){try{!function(e,t){const n=e;e.settings.byKey={...t.settings.byKey,...e.settings.byKey},e.chatFolders={...t.chatFolders,...e.chatFolders},e.appConfig&&!e.appConfig.limits&&(e.appConfig.limits=a.dR$),e.chats.similarChannelsById||(e.chats.similarChannelsById=t.chats.similarChannelsById),e.chats.similarBotsById||(e.chats.similarBotsById=t.chats.similarBotsById),e.chats.lastMessageIds||(e.chats.lastMessageIds=t.chats.lastMessageIds),n?.appConfig?.peerColors&&(n.appConfig.peerColors=void 0,n.appConfig.darkPeerColors=void 0),e.fileUploads.byMessageKey||(e.fileUploads.byMessageKey={}),e.reactions||(e.reactions=t.reactions),e.quickReplies||(e.quickReplies=t.quickReplies),e.users.previewMediaByBotId||(e.users.previewMediaByBotId=t.users.previewMediaByBotId),e.chats.loadingParameters||(e.chats.loadingParameters=t.chats.loadingParameters),e.topBotApps||(e.topBotApps=t.topBotApps),e.reactions.defaultTags?.[0]?.type||(e.reactions=t.reactions),e.users.commonChatsById||(e.users.commonChatsById=t.users.commonChatsById),e.users.botAppPermissionsById||(e.users.botAppPermissionsById=t.users.botAppPermissionsById),e.chats.topicsInfoById||(e.chats.topicsInfoById=t.chats.topicsInfoById),e.messages.pollById||(e.messages.pollById=t.messages.pollById),e.settings.botVerificationShownPeerIds||(e.settings.botVerificationShownPeerIds=t.settings.botVerificationShownPeerIds),e.peers||(e.peers=t.peers),e.cacheVersion||(e.cacheVersion=t.cacheVersion,e.messages=t.messages,e.chats.listIds=t.chats.listIds),e.messages.playbackByChatId||(e.messages.playbackByChatId=t.messages.playbackByChatId),e.cacheVersion<2&&(n.settings.themes.dark&&(n.settings.themes.dark.patternColor=t.settings.themes.dark.patternColor),n.settings.themes.light&&(n.settings.themes.light.patternColor=t.settings.themes.light.patternColor),e.cacheVersion=2),e.appConfig?.limits&&!e.appConfig.limits.moreAccounts&&(e.appConfig.limits.moreAccounts=a.dR$.moreAccounts),e.chats.notifyExceptionById||(e.chats.notifyExceptionById=t.chats.notifyExceptionById),e.sharedState||(e.sharedState=t.sharedState,e.sharedState.settings={canDisplayChatInTitle:n.settings.byKey.canDisplayChatInTitle,animationLevel:n.settings.byKey.animationLevel,messageSendKeyCombo:n.settings.byKey.messageSendKeyCombo,messageTextSize:n.settings.byKey.messageTextSize,performance:n.settings.performance,theme:n.settings.byKey.theme,timeFormat:n.settings.byKey.timeFormat,wasTimeFormatSetManually:n.settings.byKey.wasTimeFormatSetManually,shouldUseSystemTheme:n.settings.byKey.shouldUseSystemTheme,isConnectionStatusMinimized:n.settings.byKey.isConnectionStatusMinimized,shouldForceHttpTransport:n.settings.byKey.shouldForceHttpTransport,language:n.settings.byKey.language,languages:n.settings.languages,shouldSkipWebAppCloseConfirmation:n.settings.byKey.shouldSkipWebAppCloseConfirmation,miniAppsCachedPosition:n.settings.miniAppsCachedPosition,miniAppsCachedSize:n.settings.miniAppsCachedSize,shouldAllowHttpTransport:n.settings.byKey.shouldAllowHttpTransport,shouldCollectDebugLogs:n.settings.byKey.shouldCollectDebugLogs,shouldDebugExportedSenders:n.settings.byKey.shouldDebugExportedSenders,shouldWarnAboutSvg:n.settings.byKey.shouldWarnAboutSvg}),e.settings.themes||(e.settings.themes=t.settings.themes)}(e,t)}catch(e){console.error(e)}}function D(e){const t=(0,p.mS)();S||!C||t.isLoggingOut||!e&&(0,r.OV)()||O()}function O(e=!1){const t=(0,p.mS)(),{hasPasscode:n,isScreenLocked:r}=t.passcode;if(n){if(!r&&!e){const e=j(t);(0,l.yp)(void 0,e)}return x(t),E((0,y.nYM)(t,!1)),void k((0,y.i_d)(t.sharedState))}var o;x(t),E(R(t)),k((o=t.sharedState,{...o,settings:{...o.settings,languages:void 0},isInitial:void 0}))}function R(e){var t;return{...g.HB,...(0,u.Up)(e,["appConfig","config","authState","authPhoneNumber","authRememberMe","authNearestCountry","attachMenu","currentUserId","contactList","topPeers","topInlineBots","topBotApps","recentEmojis","recentCustomEmojis","push","serviceNotifications","attachmentSettings","leftColumnWidth","archiveSettings","mediaViewer","audioPlayer","shouldShowContextMenuHint","trustedBotIds","recentlyFoundChatIds","peerColors","savedReactionTags","timezones","availableEffectById"]),lastIsChatInfoShown:(0,v.Ny)()?void 0:e.lastIsChatInfoShown,customEmojis:U(e),users:$(e),chats:z(e),messages:V(e),settings:W(e),chatFolders:H(e),groupCalls:G(e),reactions:{...(0,u.Up)(e.reactions,["defaultTags","recentReactions","topReactions","effectReactions","hash"]),availableReactions:(t=e.reactions.availableReactions,t?.map((e=>(0,u.Up)(e,["reaction","staticIcon","title","isInactive"]))))},passcode:(0,u.Up)(e.passcode,["isScreenLocked","hasPasscode","invalidAttemptsCount","timeoutUntil"])}}function j(e){return JSON.stringify(R(e))}function U(e){const{lastRendered:t,byId:n}=e.customEmojis,r=t.slice(0,a.GW0);return{byId:(0,u.Up)(n,r),lastRendered:r,forEmoji:{},added:{},statusRecent:{}}}function $(e){const{users:{byId:t,statusesById:n,fullInfoById:r,botAppPermissionsById:o},currentUserId:s}=e,i=(0,u.oE)(Object.values(e.byTabId).map((({id:t})=>(0,b.Xf0)(e,t)))).map((({chatId:e})=>e)).filter((e=>(0,m.L8)(e))),d=(0,u.Am)((0,u.oE)(Object.values(e.byTabId).flatMap((({id:t})=>(0,b.NHc)(e,t)?.map((e=>e.id))||[])))),l=i.flatMap((t=>Object.values((0,b.zeq)(e,t)||{}))).map((e=>e.content.storyData?.peerId||e.content.webPage?.story?.peerId)).filter((e=>Boolean(e)&&(0,m.L8)(e))),f=Object.keys(e.attachMenu?.bots||{}),h=(0,u.Am)([...s?[s]:[],...i,...l,...d||[],...f,...e.topPeers.userIds||[],...e.recentlyFoundChatIds?.filter(m.L8)||[],...(0,c.YA)(a._E9)?.slice(0,a.Q$7).filter(m.L8)||[],...(0,c.YA)(a.DSF)?.filter(m.L8)||[],...e.contactList?.userIds||[],...Object.keys(t)]).slice(0,a.CVv);return{...g.HB.users,byId:(0,u._E)(t,h),statusesById:(0,u._E)(n,h),fullInfoById:(0,u._E)(r,h),botAppPermissionsById:o}}function z(e){const{chats:{byId:t},currentUserId:n}=e,r=(0,u.oE)(Object.values(e.byTabId).map((({id:t})=>(0,b.Xf0)(e,t)))).map((({chatId:e})=>e)),o=(0,u.oE)(Object.values(e.byTabId).flatMap((({id:t})=>{const n=(0,b.Xf0)(e,t);if(!n)return;const r=(0,b.zeq)(e,n.chatId),o=(0,b.rA3)(e,n.chatId,n.threadId,t);return o?.map((e=>{const t=r[e];if(!t)return;const n=t.content,o="message"===t.replyInfo?.type&&t.replyInfo.replyToPeerId;return n.storyData?.peerId||n.webPage?.story?.peerId||o}))}))),s=(0,u.Am)([...n?[n]:[],...r,...o,...e.recentlyFoundChatIds||[],...(0,c.YA)(a._E9)?.slice(0,a.Q$7)||[],...(0,c.YA)(a.DSF)||[],...(0,c.YA)(a.pX9)||[],...Object.keys(t)]).slice(0,a.ViI);return{...e.chats,similarChannelsById:{},similarBotsById:{},isFullyLoaded:{},notifyExceptionById:(0,u._E)(e.chats.notifyExceptionById,s),loadingParameters:g.HB.chats.loadingParameters,byId:(0,u._E)(e.chats.byId,s),fullInfoById:(0,u._E)(e.chats.fullInfoById,s),lastMessageIds:{all:(0,u._E)(e.chats.lastMessageIds.all||{},s),saved:e.chats.lastMessageIds.saved},topicsInfoById:(0,u._E)(e.chats.topicsInfoById,r)}}function V(e){const{currentUserId:t}=e,n={},r=(0,u.oE)(Object.values(e.byTabId).map((({id:t})=>(0,b.Xf0)(e,t)))).map((({chatId:e})=>e)),o=(0,u.oE)(Object.values(e.byTabId).map((({forumPanelChatId:e})=>e))),i=(0,u.Am)([...r,...t?[t]:[],...o,...(0,c.YA)(a.DSF)||[],...(0,c.YA)(a._E9)?.slice(0,a.Q$7)||[]]),d=Object.values(e.byTabId).reduce(((t,{id:n})=>{const{chatId:r,threadId:o}=(0,b.Xf0)(e,n)||{};if(!r||!o||o===s.l3)return t;const a=t[r]||new Set;return a.add(o),t[r]=a,t}),{}),l=[];return i.forEach((r=>{const a=e.messages.byChatId[r];if(!a)return;const i=(0,b.ZZX)(e,r),c=Array.from(d[r]||[]),f=Object.values(e.messages.byChatId[r].threadsById||{}).map((({threadInfo:e})=>e?.isCommentsInfo?e?.originMessageId:void 0)).filter(Boolean),h=(0,u.Am)(c.concat(f)),m=(0,u._E)(a.threadsById,[s.l3,...h]),p=(0,u.Am)(Object.values(m).flatMap((e=>e.lastViewportIds||[]))),g=(0,b.pSx)(e,r),y=g&&o.includes(r)?Object.values(g).map((({lastMessageId:e})=>e)):[],v=r===t&&e.chats.lastMessageIds.saved?Object.values(e.chats.lastMessageIds.saved):[],w=[i].concat(y).concat(v).filter(Boolean),I=(0,u.Up)(a.byId,p.concat(w)),A=Object.keys(m).reduce(((e,t)=>{const n=m[Number(t)];return e[Number(t)]={...n,listedIds:n.lastViewportIds,pinnedIds:void 0,typingStatus:void 0},e}),{}),C=Object.values(I).reduce(((e,t)=>{if(!t)return e;let n=function(e){const{photo:t,video:n,document:r,sticker:o}=e.content;return{...e,content:{...e.content,photo:t&&{...t,blobUrl:void 0},video:n&&{...n,blobUrl:void 0,previewBlobUrl:void 0},document:r&&{...r,previewBlobUrl:void 0},sticker:o&&{...o,isPreloadedGlobally:void 0}},previousLocalId:void 0}}(t);return n=function(e){return e.reactions?.results.length?{...e,reactions:{...e.reactions,results:e.reactions.results.map((e=>e.localAmount?{...e,localAmount:void 0}:e))}}:e}(n),e[t.id]=n,t.content.pollId&&l.push(t.content.pollId),e}),{});n[r]={byId:C,threadsById:A}})),{byChatId:n,pollById:(0,u._E)(e.messages.pollById,l),sponsoredByChatId:{},playbackByChatId:{}}}function W(e){const{byKey:t,botVerificationShownPeerIds:n,notifyDefaults:r,lastPremiumBandwithNotificationDate:o,themes:s}=e.settings;return{byKey:t,privacy:{},botVerificationShownPeerIds:n,lastPremiumBandwithNotificationDate:o,notifyDefaults:r,themes:s}}function H(e){return{...e.chatFolders}}function G(e){return{...e.groupCalls,byId:{},activeGroupCallId:void 0}}},42452:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(84051),o=n(37836),s=n(17712);const a=(0,r.ph)((()=>{const[e,t]=(0,r.J0)([]),n=(0,r.Kr)((()=>(0,o.sg)((()=>{t([])}),700,!1)),[]),a=(0,s.A)((r=>{if(0!==r.button)return;const o=r.currentTarget,s=o.getBoundingClientRect(),a=o.offsetWidth/2;t([...e,{x:r.clientX-s.x-a/2,y:r.clientY-s.y-a/2,size:a}]),n()}));return r.Ay.createElement("div",{className:"ripple-container",onMouseDown:a},e.map((({x:e,y:t,size:n})=>r.Ay.createElement("div",{className:"ripple-wave",style:`left: ${e}px; top: ${t}px; width: ${n}px; height: ${n}px;`}))))}))},43044:(e,t,n)=>{"use strict";n.d(t,{iV:()=>x,DV:()=>$,Yw:()=>Y,S7:()=>H,qY:()=>J,CO:()=>te,K1:()=>G,eg:()=>K});var r=n(83649),o=n(31481),s=n(24021),a=n(4961),i=n(63495),c=n(70758),u=n(59607),d=n(46536);function l(e){let t,n=!1,r=!1;for(let o=0;o<e.length;o++){const s=e[o];if("\\"!==s)if('"'!==s||n){if("="===s&&!r){t=o;break}n=!1}else r=!r;else n=!n}if(void 0!==t&&t!==e.length-1)try{return[JSON.parse(e.slice(0,t)),JSON.parse(e.slice(t+1))]}catch(t){o.Oig&&console.error("Error parsing line:",e,t)}}const f="en",h=0,m="https://translations.telegram.org/en/weba";var p=n(14487),g=n(87894),y=n(98607),b=n(37836),v=n(9705),w=n(84947);const I={WrongNumber:"Wrong number?",SentAppCode:"We've sent the code to the **Telegram** app on your other device.",LoginJustSentSms:"We've sent you a code via SMS. Please enter it above.",LoginHeaderPassword:"Enter Password",LoginEnterPasswordDescription:"You have Two-Step Verification enabled, so your account is protected with an additional password.",StartText:"Please confirm your country code\nand enter your phone number.",LoginPhonePlaceholder:"Your phone number",LoginNext:"Next",LoginQRLogin:"Log in by QR Code",LoginQRTitle:"Log in to Telegram by QR Code",LoginQRHelp1:"Open Telegram on your phone",LoginQRHelp2:"Go to **Settings** > **Devices** > **Link Desktop Device**",LoginQRHelp3:"Point your phone at this screen to confirm login",LoginQRCancel:"Log in by phone Number",YourName:"Your Name",LoginRegisterDesc:"Enter your name and add a profile photo.",LoginRegisterFirstNamePlaceholder:"First Name",LoginRegisterLastNamePlaceholder:"Last Name",LoginSelectCountryTitle:"Country",CountryNone:"Country not found",PleaseEnterPassword:"Enter your new password",ErrorPhoneNumberInvalid:"Invalid phone number, please try again.",ErrorCodeInvalid:"Invalid code, please try again.",ErrorIncorrectPassword:"Invalid password, please try again.",ErrorPasswordFlood:"Too many attempts, please try again later.",ErrorPhoneBanned:"This phone number is banned.",ErrorFloodTime:"Too many attempts, please try again in {time}.",ErrorUnexpected:"Unexpected error",ErrorUnexpectedMessage:"Unexpected error: {error}"},A="langpack-",C="en",S=new w.A(400);let E,k,P,T,M=X();const{addCallback:x,removeCallback:N,runCallbacks:L}=(0,d.h)();let _=!1;function B(){_||(_=!0,(0,b.IJ)((()=>{L(),_=!1})))}const F=new v.A;function D(e){return c.qc.get(`${A}${e}`)}function O(e){return(0,u.yK)(e.language.langCode),c.qc.set(`${A}${e.language.langCode}`,e)}let R;async function j(){if(T||R)return;R=async function(e){let t;t=e?(await n.e(5269).then(n.t.bind(n,25269,23))).readFileSync("./src/assets/localization/fallback.strings","utf8"):(await n.e(695).then(n.t.bind(n,50695,17))).default;const r=function(e){const t=e.split(/;\r?\n?/),n={};for(const e of t){if(!e.startsWith('"'))continue;const[t,r]=l(e)||[];t&&r?(n[t]&&console.warn("Duplicate key:",t),n[t]=r):console.warn("Bad formatting in line:",e)}return n}(t),o={};Object.entries(r).forEach((([e,t])=>{const[n,r]=e.split("_");if(!r)return void(o[n]=t);const s=o[n]||{};s[r]=t,o[n]=s}));const s={langCode:f,version:h,strings:o},a=Object.keys(o).length;return{langPack:s,language:{langCode:f,name:"English",nativeName:"English",pluralCode:f,stringsCount:a,translatedCount:a,translationsUrl:m}}}();const e=await R;T=e.langPack,S.clear(),E?(M=X(),B()):z(e.language)}async function U(){if(!P||!E)return void(o.Oig&&console.warn("[Localization] Trying to fetch difference without loaded data"));if(await p.T_,!(0,p.ve)())return;const e=await(0,s.px)("fetchLangDifference",{langPack:o.rgX,langCode:P.langCode,fromVersion:P.version});e&&$(e.version,e.strings,e.keysToRemove)}function $(e,t,n){if(!P||!E||e===P.version)return;const r={...P,version:e,strings:{...(0,g.cJ)(P.strings,n),...t}};W(r),O({langPack:r,language:E}),B()}function z(e){E=e,V(),M=X(),B()}function V(){if(!E)return;const e=E.pluralCode,t={format:e=>e.join(", "),formatToParts:e=>{const t=[];return e.forEach(((e,n)=>{n>0&&t.push({type:"literal",value:", "}),t.push({type:"element",value:e})})),t}};function n(e,n){return i.Ld?new Intl.ListFormat(e,{type:n}):t}try{k={pluralRules:new Intl.PluralRules(e),region:new Intl.DisplayNames(e,{type:"region"}),conjunction:n(e,"conjunction"),disjunction:n(e,"disjunction"),number:new Intl.NumberFormat(e)}}catch(e){console.warn("Failed to create formatters:",e),k={pluralRules:new Intl.PluralRules(C),region:new Intl.DisplayNames(C,{type:"region"}),conjunction:n(C,"conjunction"),disjunction:n(C,"disjunction"),number:new Intl.NumberFormat(C)}}}function W(e){P=e,S.clear(),B()}async function H(e,t){if(E)return;const n=await D(e);n?(P=n.langPack,E=n.language,V(),U()):t&&await J(e),j(),M=X(),B(),F.resolve()}async function G(e){if((0,p.ve)())return;const t=await D(e);t&&(W(t.langPack),z(t.language))}async function J(e,t){if(t){const t=await D(e);if(t)return q(t.language)}if(await p.T_,!(0,p.ve)())return;const n=await(0,s.px)("fetchLanguage",{langPack:o.rgX,langCode:e});if(n)return q(n);o.Oig&&console.warn("Failed to fetch language",e)}function K(e){E?.langCode===e&&U()}async function q(e){if(P&&E?.langCode===e.langCode)return;const t=await D(e.langCode);if(t)W(t.langPack),z(t.language),U();else{if(await p.T_,!(0,p.ve)())return;const t=await(0,s.px)("fetchLangPack",{langPack:o.rgX,langCode:e.langCode});if(!t)return void console.warn("Failed to fetch lang pack");W({langCode:e.langCode,version:t.version,strings:t.strings}),z(e),O({langPack:P,language:e})}document.documentElement.lang=e.baseLangCode||e.langCode,B()}function X(){const e=(e,t,n)=>n&&(0,r.Zh)(n)?ee(e,t,n):Q(e,t,n);return e.rawCode=E?.langCode||C,e.isRtl=E?.isRtl,e.code=E?.pluralCode||C,e.with=({key:e,variables:t,options:n})=>n&&(0,r.Zh)(n)?ee(e,t,n):Q(e,t,n),e.withRegular=({key:e,variables:t,options:n})=>Q(e,t,n),e.withAdvanced=({key:e,variables:t,options:n})=>ee(e,t,n),e.region=e=>k?.region.of(e),e.conjunction=e=>k?.conjunction.format(e)||e.join(", "),e.disjunction=e=>k?.disjunction.format(e)||e.join(", "),e.number=e=>k?.number.format(e)||String(e),e.internalFormatters=k,e.languageInfo=E,e}function Y(){return M}function Z(e,t){let n=P?.strings[e];if(n||T||j(),n||(n=T?.strings[e]),n||(n=I[e]),!n||(0,r.JR)(n))return;const o=k?.pluralRules.select(t)||"other";return(0,r.Qw)(n)?n[o]||n.other:n}function Q(e,t,n){const r=`${e}-${JSON.stringify(t)}-${JSON.stringify(n)}`;if(S.has(r))return S.get(r);const o=Z(e,n&&"pluralValue"in n?Number(n.pluralValue):0);if(!o)return e;const s=(t?Object.entries(t):[]).reduce(((e,[t,n])=>{if(void 0===n)return e;"object"==typeof n&&(n=Q(n.key,n.variables,n.options));const r=Number.isFinite(n)?k.number.format(n):String(n);return e.replace(`{${t}}`,r)}),o);return S.set(r,s),s}function ee(e,t,n){const r=Z(e,n&&"pluralValue"in n?Number(n.pluralValue):0);if(!r)return e;const o=t?Object.entries(t):[];let s=[r];if(n?.specialReplacement&&(s=Object.entries(n.specialReplacement).reduce(((e,[t,n])=>(0,y.t)(e,t,n)),s)),n?.withMarkdown||n?.renderTextFilters){const e=n?.withMarkdown?(0,g.Am)((n.renderTextFilters||[]).concat(["simple_markdown","emoji"])):n.renderTextFilters;return s.flatMap((t=>"string"!=typeof t?t:(0,a.A)(t,e,{markdownPostProcessor:e=>o.reduce(((e,[t,n])=>{if(void 0===n)return e;const r=Number.isFinite(n)?k.number.format(n):n;return(0,y.t)(e,`{${t}}`,(0,a.A)(r))}),[e])})))}return o.reduce(((e,[t,n])=>{if(void 0===n)return e;const r=Number.isFinite(n)?k.number.format(n):n;return(0,y.t)(e,`{${t}}`,(0,a.A)(r))}),s)}const te=F.promise},43336:(e,t,n)=>{"use strict";n.d(t,{Bt:()=>o,Cc:()=>i,Ki:()=>c,LI:()=>s,RI:()=>a,qE:()=>r});const r=(e,t,n)=>Math.min(n,Math.max(t,e)),o=(e,t,n)=>e>=t&&e<=n,s=(e,t=0)=>Math.round(e*10**t)/10**t,a=(e,t=0)=>Math.floor(e*10**t)/10**t,i=(e,t,n)=>(1-n)*e+n*t;function c(e){return 2*Math.round(e/2)}},43503:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,u:()=>d});var r=n(66644),o=n(96454),s=n(37836);let a=window.innerHeight,i=d();const c=(0,s.nF)((()=>{i=d()}),250,!0),u=(0,s.nF)((()=>{a=window.innerHeight,c()}),100,!1);function d(){let e;return e=o.pz?window.visualViewport.height+window.visualViewport.pageTop:window.innerHeight,(0,r.RK)((()=>{const t=.01*e;document.documentElement.style.setProperty("--vh",`${t}px`)})),{width:window.innerWidth,height:window.innerHeight}}window.addEventListener("orientationchange",u),o.pz?window.visualViewport.addEventListener("resize",c):window.addEventListener("resize",c);const l={get:()=>i,getIsKeyboardVisible:()=>a>i.height}},43874:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>v,Bb:()=>g,Ny:()=>p,cB:()=>y});var r=n(84051),o=n(31481),s=n(96454),a=n(46536),i=n(43503),c=n(30857);const u=new Map,d=(0,a.h)();let l,f,h,m;function p(){return l}function g(){return f}function y(){return!p()}function b(){l=u.get("mobile")?.matches||!1,f=!l&&(u.get("tablet")?.matches||!1),h=u.get("landscape")?.matches||!1,m=u.get("touch")?.matches||!1,(0,i.u)(),d.runCallbacks()}function v(){const e=(0,c.A)();return(0,r.vJ)((()=>d.addCallback(e)),[e]),{isMobile:l,isTablet:f,isLandscape:h,isDesktop:!l&&!f,isTouchScreen:m}}!function(){const e=window.matchMedia(`(max-width: ${o.c2m}px),   (max-width: ${o.O4t}px and max-height: ${o.f84}px)`);u.set("mobile",e),e.addEventListener("change",b);const t=window.matchMedia(`(max-width: ${o.j7z}px)`);u.set("tablet",t),t.addEventListener("change",b);const n=window.matchMedia(s.pz?"(orientation: landscape)":"screen and (min-device-aspect-ratio: 1/1) and (orientation: landscape)");u.set("landscape",n),n.addEventListener("change",b);const r=window.matchMedia("(pointer: coarse)");u.set("touch",r),r.addEventListener("change",b)}(),b()},46211:(e,t,n)=>{"use strict";n.d(t,{FD:()=>f,IV:()=>d,PV:()=>u,WA:()=>h,X2:()=>l});var r=n(31481),o=n(14487),s=n(90709),a=n(21133),i=n(5056),c=n(19926);function u(e,t){return(0,c.mB)(e,t)||(0,a.hd)(e,t)}function d(e,t){return e.peers.profilePhotosById[t]}function l(e,t){const n=(0,c.yp)(e,t),o=(0,c.mB)(e,t);return o?!n&&t!==r.zv8&&!(0,s.PL)(o):(0,a.AW)(e,t)?.areStarGiftsAvailable}function f(e,t,...[n=(0,o.g0)()]){return(0,i.n)(e,n).savedGifts.giftsByPeerId[t]}function h(e,t){const n=(0,s.L8)(t);if(n){const r=n?(0,c.vG)(e,t):void 0;return r?.paidMessagesStars}const r=(0,a.hd)(e,t);if(r&&!(0,s.SJ)(r))return r.paidMessagesStars}},46275:(e,t,n)=>{"use strict";n.d(t,{l8:()=>f,vG:()=>l,zq:()=>d});var r=n(31481),o=n(90709),s=n(63495),a=n(93578),i=n(70874),c=n(11422);const u=new Set(["t.me","telegram.me","telegram.dog"]);function d(e){return Boolean(e.match(r.OFc)||e.match(r.bnE))}function l(e){if(d(e))try{return function(e){const t=(0,a.Tc)(e);if(t){if(t.startsWith("https:")||t.startsWith("http:"))return function(e){if(!u.has(e.hostname))return;const t=E(e),n=S(e);switch(function(e,t){const n=t.length,r=t[0];if(1===n){if("share"===r)return"shareLink";if("boost"===r||void 0!==e.boost)return"chatBoostLink";if((0,c.BU)(r))return"publicUsernameOrBotLink"}else if(2===n){if("addlist"===r)return"chatFolderLink";if("login"===r)return"loginCodeLink";if("m"===r)return"businessChatLink";if("boost"===r)return"chatBoostLink";if("nft"===r)return"giftUniqueLink";if("c"===r)return void 0!==e.boost?"chatBoostLink":"privateChannelLink";if((0,c.BU)(t[0])&&C(t[1]))return"publicMessageLink"}else if(3===n){if("c"===r&&t.slice(1).every(C))return"privateMessageLink";if((0,c.BU)(t[0])&&t.slice(1).every(C))return"publicMessageLink";if("nft"===r)return"giftUniqueLink"}else if(4===n&&"c"===r&&t.slice(1).every(C))return"privateMessageLink";return"unknown"}(t,n)){case"publicMessageLink":{const{single:e,comment:r,t:o}=t,{username:s,thread:a,messageId:i}=2===n.length?{username:n[0],thread:t.thread,messageId:n[1]}:{username:n[0],thread:n[1],messageId:n[2]};return m({username:s,messageId:i,single:e,threadId:a,commentId:r,timestamp:o})}case"privateMessageLink":{const{single:e,comment:r,t:o}=t,{channelId:s,thread:a,messageId:i}=3===n.length?{channelId:n[1],thread:t.thread,messageId:n[2]}:{channelId:n[1],thread:n[2],messageId:n[3]};return p({channelId:s,messageId:i,single:e,threadId:a,commentId:r,timestamp:o})}case"shareLink":return h({text:t.text,url:t.url});case"chatFolderLink":return g({slug:n[1]});case"loginCodeLink":return y({code:n[1]});case"publicUsernameOrBotLink":return b({username:n[0],start:t.start,text:t.text,startApp:t.startapp,mode:t.mode,appName:void 0,startAttach:t.startattach,attach:t.attach,choose:t.choose,ref:t.ref});case"privateChannelLink":return v({channelId:n[1]});case"businessChatLink":return I({slug:n[1]});case"chatBoostLink":{if("boost"===n[0])return w({username:n[1],id:t.c});const e="c"===n[0];return w({username:e?void 0:n[0],id:e?n[1]:void 0})}case"giftUniqueLink":return A({slug:n.slice(1).join("/")})}}(new URL(t));if(t.startsWith("tg:")){const e=s.fM?t.replace(/^tg:\/\//,"https://"):t;return function(e){const{hostname:t}=e,n=E(e);switch(S(e),function(e,t,n){switch(n){case"resolve":{const{domain:t,post:n,bot_id:r,scope:o,public_key:s,nonce:a}=e;if("telegrampassport"===t&&r&&o&&s&&a)return"telegramPassportLink";if(t&&n)return"publicMessageLink";if((0,c.BU)(t))return"publicUsernameOrBotLink";break}case"privatepost":{const{channel:t,post:n}=e;if(t)return n?"privateMessageLink":"privateChannelLink";break}case"msg_url":return"shareLink";case"addlist":return"chatFolderLink";case"login":return"loginCodeLink";case"passport":return"telegramPassportLink";case"message":return"businessChatLink";case"premium_offer":return"premiumReferrerLink";case"premium_multigift":return"premiumMultigiftLink";case"boost":return"chatBoostLink";case"nft":return"giftUniqueLink"}return"unknown"}(n,0,t)){case"publicMessageLink":{const{domain:e,post:t,single:r,thread:o,comment:s,t:a}=n;return m({username:e,messageId:t,single:r,threadId:o,commentId:s,timestamp:a})}case"privateMessageLink":{const{channel:e,post:t,single:r,thread:o,comment:s,t:a}=n;return p({channelId:e,messageId:t,single:r,threadId:o,commentId:s,timestamp:a})}case"shareLink":return h({text:n.text,url:n.url});case"chatFolderLink":return g({slug:n.slug});case"loginCodeLink":return y({code:n.code});case"telegramPassportLink":return function(e){const{botId:t,scope:n,publicKey:r,nonce:o,callbackUrl:s,payload:a}=e;if(t&&C(t)&&n&&r&&o)return{type:"telegramPassportLink",botId:Number(t),scope:n,publicKey:r,nonce:o,callbackUrl:s,payload:a}}({botId:n.bot_id,scope:n.scope,publicKey:n.public_key,nonce:n.nonce,callbackUrl:n.callback_url,payload:n.payload});case"publicUsernameOrBotLink":return b({username:n.domain,start:n.start,text:n.text,appName:n.appname,startApp:n.startapp,mode:n.mode,startAttach:n.startattach,attach:n.attach,choose:n.choose,ref:n.ref});case"privateChannelLink":return v({channelId:n.channel});case"businessChatLink":return I({slug:n.slug});case"premiumReferrerLink":return function(e){const{referrer:t}=e;if(t)return{type:"premiumReferrerLink",referrer:t}}({referrer:n.ref});case"premiumMultigiftLink":return function(e){const{referrer:t}=e;if(t)return{type:"premiumMultigiftLink",referrer:t}}({referrer:n.ref});case"chatBoostLink":return w({username:n.domain,id:n.channel});case"giftUniqueLink":return A({slug:n.slug})}}(new URL(e))}}}(e)}catch(e){return}}function f(e){const t=l(e);if("publicUsernameOrBotLink"===t?.type)return t.username}function h(e){const{url:t,text:n}=e;if(t)return{type:"shareLink",url:t,text:n}}function m(e){const{messageId:t,threadId:n,commentId:r,username:o,single:s,timestamp:a}=e;if(o&&(0,c.BU)(o)&&t&&C(t)&&(!n||C(n))&&(!r||C(r)))return{type:"publicMessageLink",username:o,messageId:Number(t),isSingle:""===s,threadId:n?Number(n):void 0,commentId:r?Number(r):void 0,timestamp:a?(0,i.W)(a):void 0}}function p(e){const{messageId:t,threadId:n,commentId:r,channelId:s,single:a,timestamp:c}=e;if(s&&C(s)&&t&&C(t)&&(!n||C(n))&&(!r||C(r)))return{type:"privateMessageLink",channelId:(0,o.QE)(s),messageId:Number(t),isSingle:""===a,threadId:n?Number(n):void 0,commentId:r?Number(r):void 0,timestamp:c?(0,i.W)(c):void 0}}function g(e){const{slug:t}=e;if(t)return{type:"chatFolderLink",slug:t}}function y(e){const{code:t}=e;if(t)return{type:"loginCodeLink",code:t}}function b(e){const{username:t,start:n,text:r,startApp:o,mode:s,startAttach:a,attach:i,appName:u,choose:d,ref:l}=e;if(t&&(0,c.BU)(t))return{type:"publicUsernameOrBotLink",username:t,start:n,startApp:o,mode:s,appName:u,startAttach:a,attach:i,text:r,choose:d,ref:l}}function v(e){const{channelId:t}=e;if(t)return{type:"privateChannelLink",channelId:(0,o.QE)(t)}}function w(e){const{username:t,id:n}=e;if(t||n)return{type:"chatBoostLink",username:t,id:n?(0,o.QE)(n):void 0}}function I(e){const{slug:t}=e;if(t)return{type:"businessChatLink",slug:t}}function A(e){const{slug:t}=e;if(t)return{type:"giftUniqueLink",slug:t}}function C(e){return/^-?\d+$/.test(e)}function S(e){const t=e.pathname.split("/").filter(Boolean);return"s"===t[0]&&t.shift(),t.map(decodeURI)}function E(e){return Object.fromEntries(e.searchParams)}},46536:(e,t,n)=>{"use strict";function r(){const e=new Set;function t(t){e.delete(t)}return{runCallbacks:function(...t){e.forEach((e=>{e(...t)}))},addCallback:function(n){return e.add(n),()=>{t(n)}},removeCallback:t,hasCallbacks:function(){return Boolean(e.size)}}}n.d(t,{h:()=>r})},46637:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(84051),o=n(66644),s=n(46536),a=n(17712);const i=new Map;function c(e,t,n=!1){const c=(0,a.A)(t);(0,r.vJ)((()=>{const t=e&&"current"in e?e.current:e;if(!t||n)return;const a=new Map;function u(){for(const e of a.values())e.target.offsetParent&&c(e);a.clear()}const d=([e])=>{a.set(e.target,e),(0,r.OV)()?r.OV.once((()=>{(0,o.YS)(u)})):u()};let[l,f]=i.get(t)||[void 0,void 0];return l||(f=(0,s.h)(),l=new IntersectionObserver(f.runCallbacks),i.set(t,[l,f]),l.observe(t)),f.addCallback(d),()=>{f.removeCallback(d),f.hasCallbacks()||(l.unobserve(t),l.disconnect(),i.delete(t))}}),[n,e])}},47483:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(84051),o=n(13439),s=n(29807),a=n(60261),i=n(37836);let c=new Set;const u=new Set,d=(0,i.nF)((()=>{const e=[...c],t=e.slice(0,100),n=e.slice(101);(0,o.ko)().loadCustomEmojis({ids:t}),c=new Set(n),c.size&&d()}),200,!1),l=(0,i.nF)((()=>{(0,o.ko)().updateLastRenderedCustomEmojis({ids:[...u].reverse()}),u.clear()}),200,!1);function f(e){u.add(e),l()}(0,a.K3)(f);var h=n(17712);function m(e){const[t,n]=(0,r.J0)(e?(0,o.mS)().customEmojis.byId[e]:void 0),[i,u]=(0,r.J0)((0,s.BWX)((0,o.mS)()));var l;(l=e)&&(f(l),(0,o.mS)().customEmojis.byId[l]||(c.add(l),d()));const m=(0,h.A)((t=>{if(!e)return;const r=(0,o.mS)();n((t??r.customEmojis).byId[e]),u((0,s.BWX)(r))}));return(0,r.vJ)(m,[e,m]),(0,r.vJ)((()=>{if(e)return(0,a.Il)(m,e),()=>{(0,a.LQ)(m)}}),[t,e,m]),{customEmoji:t,canPlay:i}}},48544:(e,t,n)=>{"use strict";var r=n(89925),o=n(31481),s=n(26120),a=n(70758),i=n(96454),c=n(74824),u=n(14487),d=n(4350),l=n(5560),f=n(70934),h=n(66414),m=n(37836),p=n(57751),g=n(84553),y=n(24021),b=n(42385),v=n(13439),w=n(17872),I=n(30708),A=n(55232);(0,v.aJ)("initApi",((e,t)=>{const n=(0,h.f4)(),{shouldAllowHttpTransport:r,shouldForceHttpTransport:o,shouldDebugExportedSenders:s,shouldCollectDebugLogs:a,language:c}=(0,I.l)(e),u=window.location.search.includes("test")||"1"===n?.tgWebAuthTest,l=(0,d.zk)(),f=Object.values(l).map((({userId:e})=>e))?.filter(Boolean);(0,y.Ru)(t.apiUpdate,{userAgent:navigator.userAgent,platform:i.Aw,sessionData:(0,p.CX)(),isWebmSupported:i.OF,maxBufferSize:i.kn,webAuthToken:n?.tgWebAuthToken,dcId:n?.tgWebAuthDcId?Number(n?.tgWebAuthDcId):void 0,mockScenario:n?.mockScenario,shouldAllowHttpTransport:r,shouldForceHttpTransport:o,shouldDebugExportedSenders:s,langCode:c,isTestServerRequested:u,accountIds:f}),(0,y.eu)(Boolean(a))})),(0,v.aJ)("setAuthPhoneNumber",((e,t,n)=>{const{phoneNumber:r}=n;return(0,y.px)("provideAuthPhoneNumber",r.replace(/[^\d]/g,"")),{...e,authIsLoading:!0,authErrorKey:void 0}})),(0,v.aJ)("setAuthCode",((e,t,n)=>{const{code:r}=n;return(0,y.px)("provideAuthCode",r),{...e,authIsLoading:!0,authErrorKey:void 0}})),(0,v.aJ)("setAuthPassword",((e,t,n)=>{const{password:r}=n;return(0,y.px)("provideAuthPassword",r),{...e,authIsLoading:!0,authErrorKey:void 0}})),(0,v.aJ)("uploadProfilePhoto",(async(e,t,n)=>{const{file:o,isFallback:s,isVideo:a,videoTs:i,bot:c,tabId:d=(0,u.g0)()}=n;e=(0,w.G42)(e,r.TD.InProgress,d),(0,v.UF)(e),await(0,y.px)("uploadProfilePhoto",o,s,a,i,c)&&(e=(0,v.mS)(),e=(0,w.G42)(e,r.TD.Complete,d),(0,v.UF)(e),t.loadFullUser({userId:e.currentUserId}))})),(0,v.aJ)("signUp",((e,t,n)=>{const{firstName:r,lastName:o}=n;return(0,y.px)("provideAuthRegistration",{firstName:r,lastName:o}),{...e,authIsLoading:!0,authErrorKey:void 0}})),(0,v.aJ)("returnToAuthPhoneNumber",(e=>((0,y.px)("restartAuth"),{...e,authErrorKey:void 0}))),(0,v.aJ)("goToAuthQrCode",(e=>((0,y.px)("restartAuthWithQr"),{...e,authIsLoadingQrCode:!0,authErrorKey:void 0}))),(0,v.aJ)("saveSession",((e,t,n)=>{if(e.passcode.isScreenLocked)return;const{sessionData:r}=n;r?(0,p.AA)(r):(0,p.rE)()})),(0,v.aJ)("signOut",(async(e,t,n)=>{"hangUp"in t&&t.hangUp({tabId:(0,u.g0)()}),"leaveGroupCall"in t&&t.leaveGroupCall({tabId:(0,u.g0)()});try{(0,h.lD)(),(0,h.vO)(),await(0,l.al)(),await Promise.race([(0,y.px)("destroy"),(0,m.v7)(3e3)]),await(0,g.nv)(!1)}catch(e){}t.reset(),n?.forceInitApi&&t.initApi()})),(0,v.aJ)("requestChannelDifference",((e,t,n)=>{const{chatId:r}=n;(0,y.px)("requestChannelDifference",r)})),(0,v.aJ)("reset",((e,t)=>{(0,p.rE)(d.Xz),(0,f.WN)(),c.clear(o.Iz7),c.clear(o.zrf),c.clear(o.cLl),c.clear(o.nfi),(0,b.s1)(),(0,A.m)();const n=(0,d.zk)();Object.values(n).length||(a.B6.clear(),(0,b.bN)());const r=o.CV.replace(/\d+$/,""),i=Number((o.CV.match(/\d+$/)||["0"])[0]);for(let e=0;e<i;e++)c.clear(`${r}${0===e?"":e}`);(0,s.q)(0),t.initShared({force:!0}),Object.values(e.byTabId).forEach((({id:e,isMasterTab:n})=>{t.init({tabId:e,isMasterTab:n})}))})),(0,v.aJ)("disconnect",(()=>{(0,y.eZ)("disconnect")})),(0,v.aJ)("destroyConnection",(()=>{(0,y.eZ)("destroy",!0,!0)})),(0,v.aJ)("loadNearestCountry",(async e=>{if("connectionStateReady"!==e.connectionState)return;const t=await(0,y.px)("fetchNearestCountry");e=(0,v.mS)(),e={...e,authNearestCountry:t},(0,v.UF)(e)})),(0,v.aJ)("setDeviceToken",((e,t,n)=>({...e,push:{deviceToken:n,subscribedAt:Date.now()}}))),(0,v.aJ)("deleteDeviceToken",(e=>({...e,push:void 0}))),(0,v.aJ)("lockScreen",(async e=>{const t=JSON.stringify({...(0,p.CX)(),userId:e.currentUserId}),n=await(0,b.Mm)(e);await(0,f.yp)(t,n),(0,f.m)(),(0,p.rE)(),(0,s.q)(0),e=(0,v.mS)(),e=(0,w.Vg3)(e,{isScreenLocked:!0,invalidAttemptsCount:0,timeoutUntil:void 0}),(0,v.UF)(e),setTimeout((()=>{e=(0,v.mS)(),e=(0,w.nYM)(e),(0,v.UF)(e)}),o.es);try{await(0,l.al)(),await(0,y.px)("destroy",!0)}catch(e){}}))},48775:(e,t,n)=>{"use strict";n.d(t,{K:()=>c,U:()=>u});var r=n(84051),o=n(31481),s=n(87357),a=n(18276),i=n(9267);function c(e,t){return e("StarsAmountText",{amount:t},{pluralValue:t})}function u(e,t,n){const{asFont:c,className:u,containerClassName:d}=n||{},l=c?r.Ay.createElement(a.A,{name:"star",className:(0,s.A)("star-amount-icon",u)}):r.Ay.createElement(i.A,{type:"gold",className:(0,s.A)("star-amount-icon",u),size:"adaptive"});return d?r.Ay.createElement("span",{className:d},e("StarsAmount",{amount:t},{withNodes:!0,specialReplacement:{[o.Cyx]:l}})):e("StarsAmount",{amount:t},{withNodes:!0,specialReplacement:{[o.Cyx]:l}})}},48894:(e,t,n)=>{"use strict";n.d(t,{Bz:()=>l,LS:()=>u,Yi:()=>d,Zf:()=>i,bM:()=>a,rX:()=>c,v2:()=>s,vG:()=>f,xp:()=>o});var r=n(87679);function o(e){return[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)]}function s(e){const t=e[0].toString(16),n=e[1].toString(16),r=e[2].toString(16);return(1==t.length?"0"+t:t)+(1==n.length?"0"+n:n)+(1==r.length?"0"+r:r)}function a([e,t,n]){e/=255,t/=255,n/=255;let r,o,s=Math.max(e,t,n),a=Math.min(e,t,n),i=s,c=s-a;if(o=0==s?0:c/s,s==a)r=0;else{switch(s){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return[r,o,i]}function i([e,t,n]){let r,o,s,a=Math.floor(6*e),i=6*e-a,c=n*(1-t),u=n*(1-i*t),d=n*(1-(1-i)*t);switch(a%6){case 0:r=n,o=d,s=c;break;case 1:r=u,o=n,s=c;break;case 2:r=c,o=n,s=d;break;case 3:r=c,o=u,s=n;break;case 4:r=d,o=c,s=n;break;case 5:r=n,o=c,s=u}return[Math.round(255*r),Math.round(255*o),Math.round(255*s)]}async function c(e){const t=[0,0,0];let n,o,s,a,i=-4,c=[0,0,0],u=0;const d=document.createElement("canvas"),l=d.getContext&&d.getContext("2d");if(!l)return t;const f=await(0,r.NN)(e);s=f.naturalHeight||f.offsetHeight||f.height,o=f.naturalWidth||f.offsetWidth||f.width,d.height=s,d.width=o,l.drawImage(f,0,0);try{n=l.getImageData(0,0,o,s)}catch(e){return t}for(a=n.data.length;(i+=20)<a;)0!==n.data[i+3]&&(++u,c[0]+=n.data[i],c[1]+=n.data[i+1],c[2]+=n.data[i+2]);return c[0]=Math.floor(c[0]/u),c[1]=Math.floor(c[1]/u),c[2]=Math.floor(c[2]/u),c}function u(e){const[t,n,r]=e;return.2126*t+.7152*n+.0722*r}function d(e){let[t,n,r]=a(e);return n=Math.min(1,n+.05+.1*(1-n)),r=r>.5?Math.max(0,.65*r):Math.max(0,Math.min(1,1-.65*r)),`#${s(function([e,t,n]){let r=t*Math.min(n,1-n),o=(t,o=(t+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[o(0),o(8),o(4)]}([360*t,n,r]).map((e=>Math.floor(255*e))))}66`}const l=e=>`rgba(${e>>16&255}, ${e>>8&255}, ${255&e}, ${(e>>24&255)/255})`,f=e=>u([e>>16&255,e>>8&255,255&e])>128?"black":"white"},49763:(e,t,n)=>{"use strict";n.d(t,{BU:()=>x,P1:()=>L,PZ:()=>E,Ts:()=>I,Xq:()=>k,YA:()=>A,Yw:()=>M,dk:()=>N,jn:()=>S,uk:()=>T,vp:()=>P,zm:()=>C});var r=n(84051),o=n(37932),s=n(13439),a=n(31481),i=n(27109),c=n(29807),u=n(5930),d=n(46536),l=n(87894),f=n(37836);const h=6,m=R();let p=m.prevGlobal,g=m.prepared,y=m.results,b=m.callbacks;a.Oig&&(window.DEBUG_getFolderManager=()=>({prepared:g,results:y}));const v=(0,f.nF)((()=>{(0,r.qF)((()=>{_((0,s.mS)())}))}),500);let w=!1;function I(){w=!0,(0,o.DW)(v),(0,s.aJ)("reset",j);const e=(0,s.mS)();(0,c.nTw)(e).isMasterTab||F(e,!0,!0,!0,!0),_(e)}function A(e){return w||I(),y.orderedIdsByFolderId[e]}function C(e){return w||I(),y.pinnedCountByFolderId[e]||0}function S(){return w||I(),y.chatsCountByFolderId}function E(){return w||I(),y.unreadCountersByFolderId}function k(){return w||I(),y.unreadChatIdsByFolderId}function P(){return E()[a.DSF]?.notificationsCount||0}function T(e,t){const n=g.chatSummariesById.get(e);return t?n.orderInSaved:n.orderInAll}function M(e,t){return b.orderedIdsByFolderId[e]||(b.orderedIdsByFolderId[e]=(0,d.h)()),b.orderedIdsByFolderId[e].addCallback(t)}function x(e){return b.chatsCountByFolderId.addCallback(e)}function N(e){return b.unreadChatIdsByFolderId.addCallback(e)}function L(e){return b.unreadCountersByFolderId.addCallback(e)}function _(e){let t;a.Oig&&(t=performance.now());const n=Boolean(e.chats.listIds.active&&B(a.DSF,e.chats.listIds.active,e.chats.orderedPinnedIds.active)),r=Boolean(e.chats.listIds.archived&&B(a._E9,e.chats.listIds.archived,e.chats.orderedPinnedIds.archived)),o=Boolean(e.chats.listIds.saved&&B(a.pX9,e.chats.listIds.saved,e.chats.orderedPinnedIds.saved)),s=e.chats.isFullyLoaded.active!==p.isAllFolderFullyLoaded,d=e.chats.isFullyLoaded.archived!==p.isArchivedFolderFullyLoaded,f=e.chats.isFullyLoaded.saved!==p.isSavedFolderFullyLoaded,m=e.chatFolders.byId!==p.foldersById,b=e.chats.byId!==p.chatsById,v=e.chats.lastMessageIds.saved!==p.lastSavedMessageIds,w=e.chats.lastMessageIds.all!==p.lastAllMessageIds,I=e.chats.topicsInfoById!==p.topicsInfoById,A=e.users.byId!==p.usersById,C=(0,c.K52)(e)!==p.notifyDefaults,S=e.chats.notifyExceptionById!==p.notifyExceptions;let E=[];if((s||d||f)&&(E=E.concat(function(e,t=!1,n=!1){let r=[];t&&r.push(a._E9),n&&r.push(a.pX9);const o=e.chats.isFullyLoaded.active,s=e.chats.isFullyLoaded.archived,i=e.chats.isFullyLoaded.saved;if(o&&s){const e=Object.keys(g.folderSummariesById).filter((e=>!y.orderedIdsByFolderId[e])).map(Number);r=r.concat(e)}return p.isAllFolderFullyLoaded=o,p.isArchivedFolderFullyLoaded=s,p.isSavedFolderFullyLoaded=i,r}(e,d,f))),!(n||r||o||m||b||A||I||C||S||v||w))return void(E.length&&O(E));const k=p.allFolderListIds,P=p.archivedFolderListIds,T=p.savedFolderListIds;if(F(e,n,r,o,m),E=E.concat(function(e,t,n,r,o,s,d){const f=e.chats.byId,h=e.users.byId,m=e.chats.lastMessageIds.all,b=e.chats.lastMessageIds.saved,v=(0,c.K52)(e),w=e.chats.notifyExceptionById,I=Object.values(g.folderSummariesById),A=new Set,C=e.chats.listIds.active,S=e.chats.listIds.archived,E=e.chats.listIds.saved,k=[...C||[],...S||[]];let P=[...k,...E||[]];return C===o&&S===s&&E===d||(P=(0,l.Am)(P.concat(o||[],s||[],d||[]))),P.forEach((o=>{const s=f[o];if(!t&&!n&&!r&&s===p.chatsById[o]&&h[o]===p.usersById[o]&&m?.[o]===p.lastAllMessageIds?.[o]&&b?.[o]===p.lastSavedMessageIds?.[o])return;let d;if(s){const n=g.chatSummariesById.get(o),r=!k.includes(o),l=!E?.includes(o),f=function(e,t,n,r,o,s,u){const{id:d,type:l,isRestricted:f,isNotJoined:h,migratedTo:m,folderId:p,unreadCount:g,unreadMentionsCount:y,hasUnreadMark:b,isForum:v}=t,w=(0,c.pSx)(e,t.id),{unreadCount:I,unreadMentionsCount:A}=v?Object.values(w||{}).reduce(((e,t)=>(e.unreadCount+=t.unreadCount,e.unreadMentionsCount+=t.unreadMentionsCount,e)),{unreadCount:0,unreadMentionsCount:0}):{unreadCount:g,unreadMentionsCount:y},C="chatTypePrivate"===l&&o,S=(0,c.yHC)(e,t.id),E=t.id===a.zv8&&(!S||"historyClear"===S.content.action?.type),k=Math.max(t.creationDate||0,t.draftDate||0,S?.date||0),P=(0,c.yHC)(e,t.id,"saved"),T=P?.date||0;return{id:d,type:l,isListedInAll:Boolean(!(f||h||m||E||s)),isListedInSaved:!u,isArchived:p===a._E9,isMuted:(0,i.If)(t,n,r?.[t.id]),isUnread:Boolean(I||A||b),unreadCount:I,unreadMentionsCount:A,isUserBot:C?"userTypeBot"===C.type:void 0,isUserContact:C?C.isContact:void 0,orderInAll:k,orderInSaved:T}}(e,s,v,w,h[o],r,l);if(!t&&n&&(0,u.A)(f,n))return;g.chatSummariesById.set(o,f),d=function(e,t){return t.reduce(((t,n)=>(function(e,t){if(!(t.id===a.pX9?e.isListedInSaved:e.isListedInAll))return!1;const{id:n,type:r}=e;if(t.listIds)return!(e.isArchived&&t.id===a.DSF||!e.isArchived&&t.id===a._E9)&&t.listIds.has(n);if(t.excludedChatIds?.has(n))return!1;if(t.includedChatIds?.has(n))return!0;if(t.pinnedChatIds?.has(n))return!0;if(t.excludeArchived&&e.isArchived)return!1;if(t.excludeRead&&!e.isUnread)return!1;if(t.excludeMuted&&e.isMuted&&!e.unreadMentionsCount)return!1;if("chatTypePrivate"===r)if(e.isUserBot){if(t.bots)return!0}else{if(t.contacts&&e.isUserContact)return!0;if(t.nonContacts&&!e.isUserContact)return!0}else{if("chatTypeChannel"===r)return Boolean(t.channels);if("chatTypeBasicGroup"===r||"chatTypeSuperGroup"===r)return Boolean(t.groups)}return!1}(e,n)&&t.push(n.id),t)),[]).sort()}(f,I),d.forEach((e=>{A.add(e)}))}else g.chatSummariesById.delete(o),d=[];const C=g.folderIdsByChatId[o]||[];if((0,l.k)(d,C))return;const S=function(e,t,n){const r=new Set(t),o=new Set(n),s=[];return(0,l.Am)([...t,...n]).forEach((t=>{let n=y.orderedIdsByFolderId[t];r.has(t)&&!o.has(t)?(g.chatIdsByFolderId[t].delete(e),s.push(t),n&&(n=n.filter((t=>t!==e)),g.isOrderedListJustPatched[t]=!0)):!r.has(t)&&o.has(t)&&(g.chatIdsByFolderId[t]||(g.chatIdsByFolderId[t]=new Set),g.chatIdsByFolderId[t].add(e),n&&(n.push(e),g.isOrderedListJustPatched[t]=!0)),y.orderedIdsByFolderId[t]=n})),g.folderIdsByChatId[e]=n,s}(o,C,d);S.forEach((e=>{A.add(e)}))})),p.chatsById=f,p.usersById=h,p.lastAllMessageIds=m,p.lastSavedMessageIds=b,p.notifyDefaults=v,p.notifyExceptions=w,Array.from(A)}(e,m||n||r||o,C,S,k,P,T)),O((0,l.Am)(E)),a.Oig){const e=performance.now()-t;e>h&&console.warn(`Slow \`updateFolderManager\`: ${Math.round(e)} ms`)}}function B(e,t,n){const r=e===a.DSF?p.allFolderListIds:e===a.pX9?p.savedFolderListIds:p.archivedFolderListIds,o=e===a.DSF?p.allFolderPinnedIds:e===a.pX9?p.savedFolderPinnedIds:p.archivedFolderPinnedIds;return r!==t||o!==n}function F(e,t,n,r,o){const s=[];if(t){const t=e.chats.listIds.active,n=e.chats.orderedPinnedIds.active;g.folderSummariesById[a.DSF]=D(a.DSF,t,n),g.folderSummariesById[a.j7l]=D(a.j7l,t,n),g.folderSummariesById[a.LFk]=D(a.LFk,t,n),g.folderSummariesById[a.Sab]=D(a.Sab,t,n),p.allFolderListIds=t,p.allFolderPinnedIds=n,s.push(a.DSF),s.push(a.j7l),s.push(a.LFk),s.push(a.Sab)}if(n){const t=e.chats.listIds.archived,n=e.chats.orderedPinnedIds.archived;g.folderSummariesById[a._E9]=D(a._E9,t,n),p.archivedFolderListIds=t,p.archivedFolderPinnedIds=n,s.push(a._E9)}if(r){const t=e.chats.listIds.saved,n=e.chats.orderedPinnedIds.saved;g.folderSummariesById[a.pX9]=D(a.pX9,t,n),p.savedFolderListIds=t,p.savedFolderPinnedIds=n,s.push(a.pX9)}if(o){const t=e.chatFolders.byId;Object.values(t).forEach((e=>{e!==p.foldersById[e.id]&&(g.folderSummariesById[e.id]=function(e){return{...e,orderedPinnedIds:e.pinnedChatIds,excludedChatIds:e.excludedChatIds?new Set(e.excludedChatIds):void 0,includedChatIds:e.excludedChatIds?new Set(e.includedChatIds):void 0,pinnedChatIds:e.excludedChatIds?new Set(e.pinnedChatIds):void 0}}(e),s.push(e.id))})),p.foldersById=t}return s}function D(e,t,n){return{id:e,listIds:new Set(t),orderedPinnedIds:n,pinnedChatIds:new Set(n)}}function O(e){let t=!1,n=!1,r=!1;if(Array.from(e).forEach((e=>{const{pinnedCount:o,orderedIds:s}=function(e){const t=g.folderSummariesById[e];if(!t)return{};const{orderedPinnedIds:n,pinnedChatIds:r}=t,{chatIdsByFolderId:{[e]:o}}=g,{orderedIdsByFolderId:{[e]:s}}=y,i=e===a.pX9,c=o?n?.filter((e=>o.has(e))):n,u=s||o&&Array.from(o)||[],d=(r?u.filter((e=>!r.has(e))):u).sort(((e,t)=>T(t,i)-T(e,i)));return{pinnedCount:c?.length||0,orderedIds:[...c||[],...d]}}(e);if(!s)return;const i=y.orderedIdsByFolderId[e],c=y.pinnedCountByFolderId[e];(!i||void 0===c||c!==o||g.isOrderedListJustPatched[e]||!(0,l.k)(s,i))&&(g.isOrderedListJustPatched[e]=!1,y.orderedIdsByFolderId[e]=s,y.pinnedCountByFolderId[e]=o,b.orderedIdsByFolderId[e]?.runCallbacks(s));const d=y.chatsCountByFolderId[e],f=s.length;n||(n=d!==f),y.chatsCountByFolderId[e]=f;const h=y.unreadCountersByFolderId[e],m=function(e){const{chatSummariesById:t}=g,{orderedIdsByFolderId:{[e]:n}}=y;return n.reduce(((e,n)=>{const r=t.get(n);return r?(r.isUnread&&(e.chatsCount++,r.unreadMentionsCount&&(e.notificationsCount+=r.unreadMentionsCount),r.isMuted||(r.unreadCount?e.notificationsCount+=r.unreadCount:r.unreadMentionsCount||(e.notificationsCount+=1))),e):e}),{chatsCount:0,notificationsCount:0})}(e);t||(t=!h||!(0,u.A)(m,h)),y.unreadCountersByFolderId[e]=m;const p=y.unreadChatIdsByFolderId[e],v=function(e){const{chatSummariesById:t}=g,{orderedIdsByFolderId:{[e]:n}}=y;return n.filter((e=>{const n=t.get(e);return n?.isUnread}))}(e);r||(r=!p||!(0,l.k)(v,p)),y.unreadChatIdsByFolderId[e]=v})),n){const e={...y.chatsCountByFolderId};y.chatsCountByFolderId=e,b.chatsCountByFolderId.runCallbacks(e)}if(t){const e={...y.unreadCountersByFolderId};y.unreadCountersByFolderId=e,b.unreadCountersByFolderId.runCallbacks(e)}r&&b.unreadChatIdsByFolderId.runCallbacks(y.unreadChatIdsByFolderId)}function R(){return{prevGlobal:{foldersById:{},chatsById:{},usersById:{},topicsInfoById:{}},prepared:{folderSummariesById:{},chatSummariesById:new Map,folderIdsByChatId:{},chatIdsByFolderId:{},isOrderedListJustPatched:{}},results:{orderedIdsByFolderId:{},pinnedCountByFolderId:{},chatsCountByFolderId:{},unreadCountersByFolderId:{},unreadChatIdsByFolderId:{}},callbacks:{orderedIdsByFolderId:{},chatsCountByFolderId:(0,d.h)(),unreadCountersByFolderId:(0,d.h)(),unreadChatIdsByFolderId:(0,d.h)()}}}function j(){const e=R();p=e.prevGlobal,g=e.prepared,y=e.results,b=e.callbacks}},50110:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(31481),o=n(2188);const s=!r.MVx;function a(e,t){if(!s)return e();const{rescue:n,always:r,shouldIgnoreError:a}=t??{};try{return e()}catch(e){return n?.(e),void(a||(0,o.H)(e))}finally{r?.()}}},50442:(e,t,n)=>{"use strict";n.d(t,{h6:()=>u,no:()=>d,fG:()=>l,ez:()=>c,wJ:()=>w});var r=n(96454);function o(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(43336),a=n(37836),i=n(43503);let c=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right",e}({});const u=20,d=10,l=1.5,f=15,h=20,m=150,p=150;function g(e,t){return t?Math.hypot(t.pageX-e.pageX,t.pageY-e.pageY):0}function y(e,t){return{x:(e.pageX+t.pageX)/2,y:(e.pageY+t.pageY)/2}}let b=0;const v=new class{constructor({stability:e=8,sensitivity:t=100,tolerance:n=1.1,delay:r=150}={}){o(this,"stability",void 0),o(this,"sensitivity",void 0),o(this,"tolerance",void 0),o(this,"delay",void 0),o(this,"lastUpDeltas",void 0),o(this,"lastDownDeltas",void 0),o(this,"deltasTimestamp",void 0),this.stability=e,this.sensitivity=t,this.tolerance=n,this.delay=r,this.lastUpDeltas=new Array(2*this.stability).fill(0),this.lastDownDeltas=new Array(2*this.stability).fill(0),this.deltasTimestamp=new Array(2*this.stability).fill(0)}check(e){let t;return void 0!==(e=e.originalEvent||e).wheelDelta?t=e.wheelDelta:void 0!==e.deltaY?t=-40*e.deltaY:void 0===e.detail&&0!==e.detail||(t=-40*e.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),t>0?(this.lastUpDeltas.push(t),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(t),this.lastDownDeltas.shift(),this.isInertia(-1))}isInertia(e){const t=-1===e?this.lastDownDeltas:this.lastUpDeltas;if(void 0===t[0])return e;if(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&t[0]===t[2*this.stability-1])return!1;const n=t.slice(0,this.stability),r=t.slice(this.stability,2*this.stability),o=n.reduce(((e,t)=>e+t)),s=r.reduce(((e,t)=>e+t)),a=o/n.length,i=s/r.length;return Math.abs(a)<=Math.abs(i*this.tolerance)&&this.sensitivity<Math.abs(i)}}({stability:5,sensitivity:25,tolerance:r.H8?1:.6,delay:150});function w(e,t){let n,o=!1,d=!1,l=!1,w=0,I=t.initialZoom??1,A={x:0,y:0},C={x:!1,y:!1};const S=i.A.get();let E,k={x:S.width/2,y:S.height/2};const P=t.minZoom??1,T=t.maxZoom??4;function M(r){const o=r.target,{excludedClosestSelector:s,includedClosestSelector:a,withNativeDrag:i,withCursor:c,onDrag:u}=t;(e===o||e.contains(o))&&"INPUT"!==o.tagName&&"TEXTAREA"!==o.tagName&&(s&&(o.matches(s)||o.closest(s))||a&&!o.matches(a)&&!o.closest(a)||(n=r,"mousedown"===r.type?(!i&&u&&r.preventDefault(),document.addEventListener("mousemove",N),document.addEventListener("mouseup",x)):"touchstart"===r.type&&(o.addEventListener("touchmove",N,{passive:!0}),o.addEventListener("touchend",x,{passive:!0}),o.addEventListener("touchcancel",x,{passive:!0}),"touches"in r&&(void 0===r.pageX&&(r.pageX=r.touches[0].pageX),void 0===r.pageY&&(r.pageY=r.touches[0].pageY),2===r.touches.length&&(w=g(r.touches[0],r.touches[1]),k=y(r.touches[0],r.touches[1])))),c&&document.body.classList.add("cursor-grabbing"),t.onCapture?.(r)))}function x(e){n&&(t.withCursor&&document.body.classList.remove("cursor-grabbing"),document.removeEventListener("mouseup",x),document.removeEventListener("mousemove",N),n.target.removeEventListener("touchcancel",x),n.target.removeEventListener("touchend",x),n.target.removeEventListener("touchmove",N),r.pz&&t.selectorToPreventScroll&&Array.from(document.querySelectorAll(t.selectorToPreventScroll)).forEach((e=>{e.style.overflow=""})),e&&(o?t.onRelease&&t.onRelease(e):"mouseup"===e.type&&(t.onDoubleClick&&Date.now()-b<300?t.onDoubleClick(e,{centerX:n.pageX,centerY:n.pageY}):!t.onClick||"button"in e&&0!==e.button||t.onClick(e),b=Date.now()))),o=!1,d=!1,l=!1,w=0,I=(0,s.qE)(I,P,T),E=void 0,A={x:0,y:0},C={x:!1,y:!1};const a=i.A.get();k={x:a.width/2,y:a.height/2},n=void 0}function N(e){if(n){if("touchmove"===e.type&&"touches"in e&&(void 0===e.pageX&&(e.pageX=e.touches[0].pageX),void 0===e.pageY&&(e.pageY=e.touches[0].pageY),t.onZoom&&w>0&&2===e.touches.length)){const n=g(e.touches[0],e.touches[1]),r=y(e.touches[0],e.touches[1]),s=r.x-k.x,a=r.y-k.y,i=n/w;t.onZoom(e,{zoomFactor:i,initialCenterX:k.x,initialCenterY:k.y,dragOffsetX:s,dragOffsetY:a,currentCenterX:r.x,currentCenterY:r.y}),1!==i&&(o=!0)}const s=e.pageX-n.pageX,a=e.pageY-n.pageY;(Math.abs(s)>=f||Math.abs(a)>=f)&&(o=!0);let l=!1;t.onDrag&&(t.onDrag(e,n,{dragOffsetX:s,dragOffsetY:a}),l=!0),t.onSwipe&&!d&&(d=function(e,n,o){if(r.pz){const t=e.touches[0].pageX;if(t<=u||t>=i.A.get().width-u)return!1}const s=Math.abs(n),a=Math.abs(o),d=t.swipeThreshold??h;let l;if(s>a&&s>=d?l="x":a>s&&a>=d&&(l="y"),!l)return!1;if(E){if(E!==l)return!1}else E=l;return function(e,t,n,r,o){const s={dragOffsetX:n,dragOffsetY:r};return"x"===t?o(e,n<0?c.Left:c.Right,s):"y"===t&&o(e,r<0?c.Up:c.Down,s)}(e,l,n,o,t.onSwipe)}(e,s,a),l=d),r.pz&&l&&t.selectorToPreventScroll&&Array.from(document.querySelectorAll(t.selectorToPreventScroll)).forEach((e=>{e.style.overflow="hidden"}))}}const L=(0,a.sg)(x,p,!1),_=(0,a.sg)(x,m,!1);function B(e){o||(M(e),o=!0,k={x:e.x,y:e.y})}function F(e){if(!t.onZoom&&!t.onDrag)return;if(t.excludedClosestSelector&&(e.target.matches(t.excludedClosestSelector)||e.target.closest(t.excludedClosestSelector)))return;e.preventDefault(),e.stopPropagation();const{doubleTapZoom:r=3}=t;if(t.onDoubleClick&&Object.is(e.deltaX,-0)&&Object.is(e.deltaY,-0)&&e.ctrlKey)return B(e),I=I>1?1:r,t.onDoubleClick(e,{centerX:e.pageX,centerY:e.pageY}),void(o=!1);const a=e.metaKey||e.ctrlKey||e.shiftKey;if(a&&function(e){if(!t.onZoom)return;B(e);const n=e.x-k.x,r=e.y-k.y,o=(0,s.qE)(e.deltaY,-25,25);I-=.01*o,I=(0,s.qE)(I,.5*P,3*T),l=!0,t.onZoom(e,{zoom:(0,s.LI)(I,2),initialCenterX:k.x,initialCenterY:k.y,dragOffsetX:n,dragOffsetY:r,currentCenterX:e.x,currentCenterY:e.y}),_(e)}(e),!a&&!l){const r=v.check(e);(1!==I||r)&&function(e){if(!t.onDrag)return;B(e),C.x&&Math.sign(A.x)!==Math.sign(e.deltaX)||(A.x-=e.deltaX),C.y&&Math.sign(A.y)!==Math.sign(e.deltaY)||(A.y-=e.deltaY);const{x:r,y:o}=A;t.onDrag(e,n,{dragOffsetX:r,dragOffsetY:o},((e,t)=>{C={x:e,y:t}})),L(e)}(e)}}return t.withWheelDrag&&e.addEventListener("wheel",F),e.addEventListener("mousedown",M),document.body.addEventListener("touchstart",M,{passive:!t.isNotPassive}),()=>{x(),document.body.removeEventListener("touchstart",M),e.removeEventListener("mousedown",M),e.removeEventListener("wheel",F)}}},50680:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(84051),o=n(87357);const s=(e=!1,t,n=!1,s="fast",a=!1,i=350,c=!1)=>{const[u,d]=(0,r.J0)(!e),l=(0,r.li)(),[f,h]=(0,r.J0)(e&&n);if(e)d(!1),h(!0),l.current&&(window.clearTimeout(l.current),l.current=void 0);else if(h(!1),!u&&!l.current){const e=()=>{d(!0),t&&t(),l.current=void 0};a?e():l.current=window.setTimeout(e,i)}const m=f&&!(a&&!e)||c&&e,p=Boolean(l.current),g=e||p;return{shouldRender:g,transitionClassNames:(0,o.A)(s&&"opacity-transition",s,m&&"open",!m&&"not-open",g&&"shown",!g&&"not-shown",p&&"closing"),hasShownClass:g,hasOpenClass:m,isClosing:p}}},50805:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={root:"W4ndaFuS",contentBox:"qIESjPFU",textContent:"cgQoy2xy",hasFullContent:"x0D811xX",inlineWrapper:"CrZTrncJ",singleLine:"j1bGIpWD",strong:"d5ep97lr",messageLink:"Soqky8rY",contextContainer:"Rz1leKMF",fluidMultiline:"oL3NoM4Y",fluidBackground:"faqkTF52",info:"Jcta1qBG",stickerWrapper:"F8w9vDlr",channelPhoto:"wnjg6GZj",suggestedAvatar:"ClHX4zX1",suggestedText:"jT6o01vL",actionButton:"LB5i9s3a",title:"Cp_BJqe5",subtitle:"VCJyqpS8",starGift:"lcncBNHa",uniqueGift:"jxcv_A2w",uniqueBackgroundWrapper:"lsTgPDw1",uniqueBackground:"uzTnIOE7",uniqueValue:"pae10ItJ"}},50856:(e,t,n)=>{"use strict";n.d(t,{QP:()=>de});const r=e=>{const t=i(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),o(n,t)||a(e)},getConflictingClassGroupIds:(e,t)=>{const o=n[e]||[];return t&&r[e]?[...o,...r[e]]:o}}},o=(e,t)=>{if(0===e.length)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?o(e.slice(1),r):void 0;if(s)return s;if(0===t.validators.length)return;const a=e.join("-");return t.validators.find((({validator:e})=>e(a)))?.classGroupId},s=/^\[(.+)\]$/,a=e=>{if(s.test(e)){const t=s.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},i=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const e in n)c(n[e],r,e,t);return r},c=(e,t,n,r)=>{e.forEach((e=>{if("string"!=typeof e){if("function"==typeof e)return d(e)?void c(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((([e,o])=>{c(o,u(t,e),n,r)}))}else(""===e?t:u(t,e)).classGroupId=n}))},u=(e,t)=>{let n=e;return t.split("-").forEach((e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n},d=e=>e.isThemeGetter,l=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(o,s)=>{n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(o(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):o(e,t)}}},f=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,o=0,s=0;for(let a=0;a<e.length;a++){let i=e[a];if(0===r&&0===o){if(":"===i){t.push(e.slice(s,a)),s=a+1;continue}if("/"===i){n=a;continue}}"["===i?r++:"]"===i?r--:"("===i?o++:")"===i&&o--}const a=0===t.length?e:e.substring(s),i=h(a);return{modifiers:t,hasImportantModifier:i!==a,baseClassName:i,maybePostfixModifierPosition:n&&n>s?n-s:void 0}};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},h=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,m=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map((e=>[e,!0])));return e=>{if(e.length<=1)return e;const n=[];let r=[];return e.forEach((e=>{"["===e[0]||t[e]?(n.push(...r.sort(),e),r=[]):r.push(e)})),n.push(...r.sort()),n}},p=/\s+/;function g(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=y(e))&&(r&&(r+=" "),r+=t);return r}const y=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=y(e[r]))&&(n&&(n+=" "),n+=t);return n};function b(e,...t){let n,o,s,a=function(c){const u=t.reduce(((e,t)=>t(e)),e());return n=(e=>({cache:l(e.cacheSize),parseClassName:f(e),sortModifiers:m(e),...r(e)}))(u),o=n.cache.get,s=n.cache.set,a=i,i(c)};function i(e){const t=o(e);if(t)return t;const r=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:s}=t,a=[],i=e.trim().split(p);let c="";for(let e=i.length-1;e>=0;e-=1){const t=i[e],{isExternal:u,modifiers:d,hasImportantModifier:l,baseClassName:f,maybePostfixModifierPosition:h}=n(t);if(u){c=t+(c.length>0?" "+c:c);continue}let m=!!h,p=r(m?f.substring(0,h):f);if(!p){if(!m){c=t+(c.length>0?" "+c:c);continue}if(p=r(f),!p){c=t+(c.length>0?" "+c:c);continue}m=!1}const g=s(d).join(":"),y=l?g+"!":g,b=y+p;if(a.includes(b))continue;a.push(b);const v=o(p,m);for(let e=0;e<v.length;++e){const t=v[e];a.push(y+t)}c=t+(c.length>0?" "+c:c)}return c})(e,n);return s(e,r),r}return function(){return a(g.apply(null,arguments))}}const v=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},w=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,I=/^\((?:(\w[\w-]*):)?(.+)\)$/i,A=/^\d+\/\d+$/,C=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,S=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,E=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,k=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,P=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,T=e=>A.test(e),M=e=>Boolean(e)&&!Number.isNaN(Number(e)),x=e=>Boolean(e)&&Number.isInteger(Number(e)),N=e=>e.endsWith("%")&&M(e.slice(0,-1)),L=e=>C.test(e),_=()=>!0,B=e=>S.test(e)&&!E.test(e),F=()=>!1,D=e=>k.test(e),O=e=>P.test(e),R=e=>!U(e)&&!G(e),j=e=>Q(e,se,F),U=e=>w.test(e),$=e=>Q(e,ae,B),z=e=>Q(e,ie,M),V=e=>Q(e,te,F),W=e=>Q(e,re,O),H=e=>Q(e,F,D),G=e=>I.test(e),J=e=>ee(e,ae),K=e=>ee(e,ce),q=e=>ee(e,te),X=e=>ee(e,se),Y=e=>ee(e,re),Z=e=>ee(e,ue,!0),Q=(e,t,n)=>{const r=w.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},ee=(e,t,n=!1)=>{const r=I.exec(e);return!!r&&(r[1]?t(r[1]):n)},te=e=>"position"===e,ne=new Set(["image","url"]),re=e=>ne.has(e),oe=new Set(["length","size","percentage"]),se=e=>oe.has(e),ae=e=>"length"===e,ie=e=>"number"===e,ce=e=>"family-name"===e,ue=e=>"shadow"===e,de=b((Symbol.toStringTag,()=>{const e=v("color"),t=v("font"),n=v("text"),r=v("font-weight"),o=v("tracking"),s=v("leading"),a=v("breakpoint"),i=v("container"),c=v("spacing"),u=v("radius"),d=v("shadow"),l=v("inset-shadow"),f=v("drop-shadow"),h=v("blur"),m=v("perspective"),p=v("aspect"),g=v("ease"),y=v("animate"),b=()=>[G,U,c],w=()=>[T,"full","auto",...b()],I=()=>[x,"none","subgrid",G,U],A=()=>["auto",{span:["full",x,G,U]},G,U],C=()=>[x,"auto",G,U],S=()=>["auto","min","max","fr",G,U],E=()=>["auto",...b()],k=()=>[T,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],P=()=>[e,G,U],B=()=>[N,$],F=()=>["","none","full",u,G,U],D=()=>["",M,J,$],O=()=>["","none",h,G,U],Q=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",G,U],ee=()=>["none",M,G,U],te=()=>["none",M,G,U],ne=()=>[M,G,U],re=()=>[T,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[L],breakpoint:[L],color:[_],container:[L],"drop-shadow":[L],ease:["in","out","in-out"],font:[R],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[L],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[L],shadow:[L],spacing:["px",M],text:[L],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",T,U,G,p]}],container:["container"],columns:[{columns:[M,U,G,i]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",U,G]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[x,"auto",G,U]}],basis:[{basis:[T,"full","auto",i,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[M,T,"auto","initial","none",U]}],grow:[{grow:["",M,G,U]}],shrink:[{shrink:["",M,G,U]}],order:[{order:[x,"first","last","none",G,U]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":S()}],"auto-rows":[{"auto-rows":S()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","stretch","baseline"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","stretch","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:E()}],mx:[{mx:E()}],my:[{my:E()}],ms:[{ms:E()}],me:[{me:E()}],mt:[{mt:E()}],mr:[{mr:E()}],mb:[{mb:E()}],ml:[{ml:E()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:k()}],w:[{w:[i,"screen",...k()]}],"min-w":[{"min-w":[i,"screen","none",...k()]}],"max-w":[{"max-w":[i,"screen","none","prose",{screen:[a]},...k()]}],h:[{h:["screen",...k()]}],"min-h":[{"min-h":["screen","none",...k()]}],"max-h":[{"max-h":["screen",...k()]}],"font-size":[{text:["base",n,J,$]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,G,z]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",N,U]}],"font-family":[{font:[K,U,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,G,U]}],"line-clamp":[{"line-clamp":[M,"none",G,z]}],leading:[{leading:[s,...b()]}],"list-image":[{"list-image":["none",G,U]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",G,U]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[M,"from-font","auto",G,$]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[M,"auto",G,U]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",G,U]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",G,U]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",q,V]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",X,j]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},x,G,U],radial:["",G,U],conic:[x,G,U]},Y,W]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:F()}],"rounded-s":[{"rounded-s":F()}],"rounded-e":[{"rounded-e":F()}],"rounded-t":[{"rounded-t":F()}],"rounded-r":[{"rounded-r":F()}],"rounded-b":[{"rounded-b":F()}],"rounded-l":[{"rounded-l":F()}],"rounded-ss":[{"rounded-ss":F()}],"rounded-se":[{"rounded-se":F()}],"rounded-ee":[{"rounded-ee":F()}],"rounded-es":[{"rounded-es":F()}],"rounded-tl":[{"rounded-tl":F()}],"rounded-tr":[{"rounded-tr":F()}],"rounded-br":[{"rounded-br":F()}],"rounded-bl":[{"rounded-bl":F()}],"border-w":[{border:D()}],"border-w-x":[{"border-x":D()}],"border-w-y":[{"border-y":D()}],"border-w-s":[{"border-s":D()}],"border-w-e":[{"border-e":D()}],"border-w-t":[{"border-t":D()}],"border-w-r":[{"border-r":D()}],"border-w-b":[{"border-b":D()}],"border-w-l":[{"border-l":D()}],"divide-x":[{"divide-x":D()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":D()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[M,G,U]}],"outline-w":[{outline:["",M,J,$]}],"outline-color":[{outline:[e]}],shadow:[{shadow:["","none",d,Z,H]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",G,U,l]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[M,$]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":D()}],"inset-ring-color":[{"inset-ring":P()}],opacity:[{opacity:[M,G,U]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none",G,U]}],blur:[{blur:O()}],brightness:[{brightness:[M,G,U]}],contrast:[{contrast:[M,G,U]}],"drop-shadow":[{"drop-shadow":["","none",f,G,U]}],grayscale:[{grayscale:["",M,G,U]}],"hue-rotate":[{"hue-rotate":[M,G,U]}],invert:[{invert:["",M,G,U]}],saturate:[{saturate:[M,G,U]}],sepia:[{sepia:["",M,G,U]}],"backdrop-filter":[{"backdrop-filter":["","none",G,U]}],"backdrop-blur":[{"backdrop-blur":O()}],"backdrop-brightness":[{"backdrop-brightness":[M,G,U]}],"backdrop-contrast":[{"backdrop-contrast":[M,G,U]}],"backdrop-grayscale":[{"backdrop-grayscale":["",M,G,U]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[M,G,U]}],"backdrop-invert":[{"backdrop-invert":["",M,G,U]}],"backdrop-opacity":[{"backdrop-opacity":[M,G,U]}],"backdrop-saturate":[{"backdrop-saturate":[M,G,U]}],"backdrop-sepia":[{"backdrop-sepia":["",M,G,U]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",G,U]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[M,"initial",G,U]}],ease:[{ease:["linear","initial",g,G,U]}],delay:[{delay:[M,G,U]}],animate:[{animate:["none",y,G,U]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,G,U]}],"perspective-origin":[{"perspective-origin":Q()}],rotate:[{rotate:ee()}],"rotate-x":[{"rotate-x":ee()}],"rotate-y":[{"rotate-y":ee()}],"rotate-z":[{"rotate-z":ee()}],scale:[{scale:te()}],"scale-x":[{"scale-x":te()}],"scale-y":[{"scale-y":te()}],"scale-z":[{"scale-z":te()}],"scale-3d":["scale-3d"],skew:[{skew:ne()}],"skew-x":[{"skew-x":ne()}],"skew-y":[{"skew-y":ne()}],transform:[{transform:[G,U,"","none","gpu","cpu"]}],"transform-origin":[{origin:Q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:re()}],"translate-x":[{"translate-x":re()}],"translate-y":[{"translate-y":re()}],"translate-z":[{"translate-z":re()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",G,U]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",G,U]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[M,J,$,z]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}}))},51217:(e,t,n)=>{"use strict";n.d(t,{Ho:()=>a,Su:()=>i,od:()=>s});var r=n(2543),o=n(13439);function s(e){const t=(0,o.mS)(),n=t?.chatFolders?.aiChatFolders?.activePresetTag;if(!e||!n||!n?.length)return e;const s=t?.chatFolders?.aiChatFolders?.list;return s?.length?s?.filter((e=>(0,r.intersection)(e?.presetTag,n).length))?.map((e=>e?.id??"")):e}function a(e){const t=(0,o.mS)(),n=t?.chatFolders?.aiChatFolders?.activeAITag;if(!e||!n||!n?.length)return e;const s=t?.chatFolders?.aiChatFolders?.list;return s?.length?s?.filter((e=>(0,r.intersection)(e?.AITag,n).length))?.map((e=>e?.id??"")):e}function i(){const e=(0,o.mS)(),t=e?.chatFolders?.aiChatFolders?.list;return(0,r.uniq)(t?.filter((e=>e?.AITag?.length))?.flatMap((e=>e?.AITag)))??[]}},52491:(e,t,n)=>{"use strict";n.d(t,{D0:()=>m,On:()=>d,P_:()=>l,cp:()=>h,mS:()=>f});var r=n(61433),o=n(66644),s=n(98221),a=n(19314);const i=["female_sign","male_sign","medical_symbol"],c=127397;function u(e){const t=e.split("-").map((e=>parseInt(e,16)));return String.fromCodePoint(...t)}const d=new Set;function l(e){const t=e.currentTarget;d.add(e.currentTarget.dataset.path),(0,o.RK)((()=>{(0,r.YM)(t,"open")}))}const f=(0,a.A)((function(e){return function(e){let t;if(1===e.length)t=e.charCodeAt(0).toString(16).padStart(4,"0");else{const n=[];for(let t=0;t<e.length;t++)e.charCodeAt(t)>=55296&&e.charCodeAt(t)<=56319?e.charCodeAt(t+1)>=56320&&e.charCodeAt(t+1)<=57343&&n.push(1024*(e.charCodeAt(t)-55296)+(e.charCodeAt(t+1)-56320)+65536):(e.charCodeAt(t)<55296||e.charCodeAt(t)>57343)&&n.push(e.charCodeAt(t));t=n.map((e=>e.toString(16).padStart(4,"0"))).join("-")}return t}((0,s.a)(e))}));function h(e){const t={categories:[],emojis:{}};for(let n=0;n<e.length;n+=2){const r={id:e[n][0],name:e[n][1],emojis:[]};for(let o=0;o<e[n+1].length;o++){const s=e[n+1][o];i.includes(s[1][0])||(r.emojis.push(s[1][0]),t.emojis[s[1][0]]={id:s[1][0],names:s[1],native:u(s[0]),image:s[0].toLowerCase()})}t.categories.push(r)}return t}function m(e){if("FT"===e)return"🏴‍☠️";const t=e.toUpperCase();if(!/^[A-Z]{2}$/.test(t))return e;const n=[...t].map((e=>e.codePointAt(0)+c));return String.fromCodePoint(...n)}},52674:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});const r={Enter:"onEnter",Backspace:"onBackspace",Delete:"onDelete",Esc:"onEsc",Escape:"onEsc",ArrowUp:"onUp",ArrowDown:"onDown",ArrowLeft:"onLeft",ArrowRight:"onRight",Tab:"onTab"},o={onEnter:[],onDelete:[],onBackspace:[],onEsc:[],onUp:[],onDown:[],onLeft:[],onRight:[],onTab:[]};function s(e){return a()||document.addEventListener("keydown",i,!0),Object.keys(e).forEach((t=>{const n=e[t];if(!n)return;const r=o[t];r&&r.push(n)})),()=>{!function(e){Object.keys(e).forEach((t=>{const n=e[t],r=o[t];if(r){const e=r.findIndex((e=>e===n));-1!==e&&r.splice(e,1)}})),a()||document.removeEventListener("keydown",i,!1)}(e)}}function a(){return Object.values(o).some((e=>Boolean(e.length)))}function i(e){const t=r[e.key];if(!t)return;const{length:n}=o[t];if(n)for(let r=n-1;r>=0;r--)if(!1!==(0,o[t][r])(e)){e.stopPropagation();break}}},52683:(e,t,n)=>{"use strict";n.d(t,{J:()=>a});var r=n(13439),o=n(90709),s=n(29807);const a=(e,t)=>{if("undefined"!=typeof window&&"function"==typeof window.gtag){const n=(0,r.mS)(),{currentUserId:a}=n,i=(0,s.mBe)(n,a),c=(0,o.Yg)(i);t={...t,userId:a,name:c},window.gtag("event",e,t||{})}else console.warn("gtag is not defined")}},52745:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(84051),o=n(87357),s=n(57474);const a=(0,r.ph)((({color:e="blue",backgroundColor:t,className:n,onClick:a})=>r.Ay.createElement("div",{className:(0,o.A)("Loading",a&&"interactive",n),onClick:a},r.Ay.createElement(s.A,{color:e,backgroundColor:t}))))},54464:(e,t,n)=>{"use strict";n.d(t,{l:()=>s,u:()=>a});var r=n(31481),o=n(96454);function s(e,t=!1){o.pz||!document.activeElement||document.activeElement.id!==r.CfG||!t&&e.target!==e.currentTarget||e.preventDefault()}function a(e){s(e,!0)}},55148:(e,t,n)=>{"use strict";n.d(t,{E:()=>c,_:()=>i});var r=n(13439),o=n(31481),s=n(63495),a=n(46275);const i=e=>{const t=(0,r.ko)(),n=(0,a.vG)(e);if(n)switch(n.type){case"privateMessageLink":return t.openPrivateChannel({id:n.channelId,threadId:n.threadId,messageId:n.messageId,commentId:n.commentId,timestamp:n.timestamp}),!0;case"publicMessageLink":return t.openChatByUsername({username:n.username,threadId:n.threadId,messageId:n.messageId,commentId:n.commentId,timestamp:n.timestamp}),!0;case"publicUsernameOrBotLink":{const e=function(e){if(!e)return;return e.toLowerCase().split(" ").flatMap((e=>"groups"===e?["chats","groups"]:[e])).filter((e=>o.K_A.includes(e)))}(n.choose);return t.openChatByUsername({username:n.username,startParam:n.start,ref:n.ref,text:n.text,startApp:n.startApp,mode:n.mode,startAttach:n.startAttach,attach:n.attach,choose:e,originalParts:[n.username,n.appName]}),!0}case"privateChannelLink":return t.openPrivateChannel({id:n.channelId}),!0;case"businessChatLink":return t.resolveBusinessChatLink({slug:n.slug}),!0;case"premiumReferrerLink":return t.openPremiumModal(),!0;case"premiumMultigiftLink":return t.openGiftRecipientPicker(),!0;case"chatBoostLink":return t.processBoostParameters({usernameOrId:n.username||n.id,isPrivate:Boolean(n.id)}),!0;case"giftUniqueLink":return t.openUniqueGiftBySlug({slug:n.slug}),!0}if(!e.match(o.bnE))return!1;const i=s.fM?e.replace(/^tg:\/\//,"https://"):e,{protocol:u,searchParams:d,hostname:l}=new URL(i);if("tg:"!==u)return!1;const f=l,h=Object.fromEntries(d),{checkChatInvite:m,openChatByUsername:p,openChatByPhoneNumber:g,openStickerSet:y,joinVoiceChatByLink:b,openInvoice:v,openChatWithDraft:w,checkChatlistInvite:I,openStoryViewerByUsername:A,checkGiftCode:C,openStarsBalanceModal:S}=t;switch(f){case"resolve":{const{domain:e,phone:t,post:n,comment:r,voicechat:o,livestream:s,start:a,startattach:i,attach:c,thread:u,topic:d,appname:l,startapp:f,mode:m,story:y,text:v}=h,w=Number(u)||Number(d)||void 0;"telegrampassport"!==e&&(l?p({username:e,startApp:f,mode:m,originalParts:[e,l],text:v}):h.hasOwnProperty("voicechat")||h.hasOwnProperty("livestream")?b({username:e,inviteHash:o||s}):t?g({phoneNumber:t,startAttach:i,attach:c,text:v}):y?A({username:e,storyId:Number(y)}):p({username:e,messageId:n?Number(n):void 0,commentId:r?Number(r):void 0,startParam:a,mode:m,startAttach:i,attach:c,threadId:w}));break}case"bg":case"login":break;case"join":{const{invite:e}=h;m({hash:e});break}case"addemoji":case"addstickers":{const{set:e}=h;y({stickerSetInfo:{shortName:e}});break}case"share":case"msg":case"msg_url":{const{url:e,text:t}=h;w({text:c(e,t)});break}case"addlist":I({slug:h.slug});break;case"invoice":{const{slug:e}=h;v({type:"slug",slug:e});break}case"stars_topup":{const{balance:e,purpose:t}=h,n=Number(e);if(!n||n<0)return!0;S({topup:{balanceNeeded:n,purpose:t}});break}case"giftcode":{const{slug:e}=h;C({slug:e});break}default:return!1}return!0};function c(e,t,n){return{text:[e,n,t].filter(Boolean).join("\n")}}},55232:(e,t,n)=>{"use strict";n.d(t,{X:()=>h,m:()=>g});var r=n(37932),o=n(31481),s=n(95175),a=n(33554),i=n(37836),c=n(20714),u=n(13439);let d,l=!1,f=c.$8;function h(e){d=new SharedWorker(new URL(n.p+n.u(5060),n.b),{name:o.C39}),d.port.addEventListener("message",p),d.port.start(),v({type:"reqGetFullState",localState:e}),(0,r.DW)(m)}function m(){const e=(0,u.mS)();e.sharedState!==f&&(e.sharedState.isInitial||function(e){if(!l)return;const t=(0,s.K)(f,e);f=e,"symbol"!=typeof t&&v({type:"reqUpdateState",update:t})}(e.sharedState))}function p(e){const t=e.data;switch(t.type){case"stateUpdate":w((0,a.$)(f,t.update));break;case"fullState":l=!0,w(t.state)}}function g(){d&&(d.port.removeEventListener("message",p),d.port.close(),d=void 0,(0,r.Cn)(m))}const y=new Set,b=(0,i.Fe)((()=>{if(!d)throw new Error("Shared worker not initialized");for(const e of y)d.port.postMessage(e);y.clear()}));function v(e){if(!d)throw new Error("Shared worker not initialized");y.add(e),b()}function w(e){let t=(0,u.mS)();f={...t.sharedState,...e},t={...t,sharedState:f},(0,u.UF)(t)}},55994:(e,t,n)=>{"use strict";n.d(t,{P:()=>g,R:()=>y});var r=n(66644),o=n(96454),s=n(19822),a=n(50442),i=n(25903),c=n(43336);const u=300,d=s.qM.easeOutCubic;let l,f,h,m,p=!1;function g(e,t){return(0,a.wJ)(e,{excludedClosestSelector:t.excludedClosestSelector,selectorToPreventScroll:t.selectorToPreventScroll,swipeThreshold:10,onSwipe(e,n,r){if(n===a.ez.Left)t.onSwipeLeftStart?.();else{if(n!==a.ez.Right)return!1;t.onSwipeRightStart?.()}return o.pz&&(p=!0,l=r),!0},onDrag(e,t,n){p&&f?.(n)},onRelease(){p&&(p=!1,h?.(t.onCancel),f=void 0,h=void 0)}})}function y(e,t,n){if(m?.(),!p)return;const o=function(e){for(const t of e.getAnimations())if(t.effect instanceof KeyframeEffect)for(const e of t.effect.getKeyframes()){if(1!==e.offset||!e.transform)continue;const t=v(e.transform);if(t)return t}}(e);if(!o)return;let a;e.getAnimations().forEach((e=>e.pause())),t.getAnimations().forEach((e=>e.pause())),e.style.animationTimingFunction="linear",t.style.animationTimingFunction="linear",(0,r.YS)((()=>{const p=(g=getComputedStyle(e).transform,y=o.axis,g.slice(7,-1).split(",").map(Number)["X"===y?4:5]);var g,y;const v=("px"===o.units?o.value:o.value/100*("X"===o.axis?e.offsetWidth:e.offsetHeight))-p;let w=0;f=({dragOffsetX:n,dragOffsetY:r})=>{const s="X"===o.axis?n-l.dragOffsetX:r-l.dragOffsetY,i=(0,c.qE)(s/v,0,1);a=i>w?1:-1,w=i,b([e,t],w)},h=o=>{const c=-1===a;function l(){e.getAnimations().forEach((e=>e.cancel())),t.getAnimations().forEach((e=>e.cancel())),(0,r.RK)((()=>{e.style.animationTimingFunction="",t.style.animationTimingFunction=""}))}c||(0,i.e)(e,l),m=(0,s.Hd)({from:w,to:c?0:1,duration:u,timing:d,onUpdate(n){b([e,t],n)},onEnd(e=!1){m=void 0,(e||c)&&(l(),n(),o())}})}}))}function b(e,t){e.map((e=>e.getAnimations())).flat().forEach((e=>{e.currentTime=e.effect.getTiming().duration*t}))}function v(e){const t=e.match(/([XY])\((-?\d+)(%|px)\)/);if(t)return{axis:t[1],value:Number(t[2]),units:t[3]}}},56362:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(84051),o=n(13439),s=n(23174),a=n(29807),i=n(43874);const c=(0,o.EK)(((e,{userId:t})=>({userOrChat:t?(0,a.mBe)(e,t):void 0})))((({userId:e,username:t,userOrChat:n,children:a})=>{const{openChat:c,openChatByUsername:u,closeStoryViewer:d,setShouldCloseRightColumn:l}=(0,o.ko)(),{isMobile:f}=(0,i.Ay)();return r.Ay.createElement("a",{onClick:()=>{f&&l({value:!0}),n?c({id:n.id}):t&&(d(),u({username:t.substring(1)}))},className:"text-entity-link",dir:"auto","data-entity-type":e?s.C7.MentionName:s.C7.Mention},a)}))},56863:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(84051);const o=(e,t,n)=>{const[o,s]=(0,r.J0)(!1),[a,i]=(0,r.J0)(),[c,u]=(0,r.J0)(n);return(0,r.vJ)((()=>{s(!0);let t=!1;return e().then((e=>{t||(s(!1),u(e))}),(e=>{t||(s(!1),i(e))})),()=>{t=!0}}),t),{isLoading:o,error:a,result:c}}},57309:(e,t,n)=>{"use strict";function r(e){const{chatId:t,id:n}=e;return`${t}_${n}`}function o(e){const[t,n]=e.split("_");return[t,Number(n)]}n.d(t,{D:()=>r,a:()=>o})},57363:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r,o,s,a=n(13439),i=n(72531),c=n(29807),u=n(40708);class d{static updateRoomData(e,t){const n=this.chatId,r=localStorage.getItem("room-ai-data"),o=r?JSON.parse(r):{},s=o[n]||{};s[e]=t,o[n]=s,localStorage.setItem("room-ai-data",JSON.stringify(o)),"unreadCount"===e&&i.A.emit(i.E.UpdateRoomAIUnreadCount,{chatId:n,count:t})}static getUnreadCount(){const e=localStorage.getItem("room-ai-data");return e&&JSON.parse(e)?.[this.chatId]?.unreadCount||0}static increaseUnreadCount(){const e=(0,a.mS)(),t=(0,c.meB)(e);if(t?.id!==this.chatId){const e=this.getUnreadCount()+1;this.updateRoomData("unreadCount",e)}}}r=d,o="chatId",s=u.bL,(o=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(o))in r?Object.defineProperty(r,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[o]=s},57474:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(84051),o=n(87357);const s=({color:e="blue",backgroundColor:t,className:n})=>r.Ay.createElement("div",{className:(0,o.A)("Spinner",n,e,t&&"with-background",t&&`bg-${t}`)},r.Ay.createElement("div",{className:"Spinner__inner"}))},57675:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(84051),o=n(66644),s=n(91800),a=n(16581),i=n(17712),c=n(39751);const u=200;function d(e,t,n,d){const l=(0,r.li)(!0),f=(0,r.li)(),[h,m]=(0,r.J0)(!d),[p,g]=(0,r.J0)(h);(0,r.Nf)((()=>{const t=(n||e).current;d||!t||l.current||(0,o.RK)((()=>{t.style.maxHeight=p?`${f.current}px`:""}))}),[n,p,d,e]);const y=(0,i.A)((()=>{if(d||!e.current)return;const n=e.current,{lineHeight:r,totalLines:o}=(0,s.A)(n);o>t?(f.current=r*t,m(!0)):(m(!1),g(!1))})),b=(0,a.A)((()=>(0,o.YS)(y)),[y],u);(0,r.Nf)((()=>{!d&&l.current&&(0,o.gm)((()=>(y(),()=>{l.current=!1;const t=(n||e).current;t&&(t.style.maxHeight=f.current?`${f.current}px`:"")})))}),[n,d,y,e]);const{width:v}=(0,c.A)();return(0,r.vJ)((()=>{if(d)m(!1),g(!1);else{if(l.current)return;b()}}),[b,d,v]),{isCollapsed:p,isCollapsible:h,setIsCollapsed:g}}},57751:(e,t,n)=>{"use strict";n.d(t,{$m:()=>l,AA:()=>a,CX:()=>c,id:()=>d,rE:()=>i,wr:()=>s});var r=n(31481),o=n(4350);function s(){if(l())return!0;const e=u(o.Xz);if(e)return Boolean(e.dcId);if(!o.Xz){const e=localStorage.getItem(r.HaM);if(e)try{const t=JSON.parse(e);return Boolean(t&&t.id&&t.dcID)}catch(e){return!1}}return!1}function a(e){const{mainDcId:t,keys:n,isTest:s}=e,a=u(o.Xz),i={...a,dcId:t,isTest:s};Object.keys(n).map(Number).forEach((e=>{i[`dc${e}_auth_key`]=n[e]})),o.Xz||function(e,t){const{mainDcId:n,keys:o,isTest:s}=e;localStorage.setItem(r.HaM,JSON.stringify({dcID:n,id:t,test:s})),localStorage.setItem("dc",String(n)),Object.keys(o).map(Number).forEach((e=>{localStorage.setItem(`dc${e}_auth_key`,JSON.stringify(o[e]))}))}(e,a?.userId),(0,o.gD)(o.Xz,i)}function i(e){e||[r.HaM,"dc",...r.j3k.map((e=>`dc${e}_auth_key`)),...r.j3k.map((e=>`dc${e}_hash`)),...r.j3k.map((e=>`dc${e}_server_salt`))].forEach((e=>{localStorage.removeItem(e)})),localStorage.removeItem(`${r.um6}${e||1}`)}function c(){if(!s())return;const e=u(o.Xz);if(!e){if(o.Xz)return;return function(){if(!s())return;const e=JSON.parse(localStorage.getItem(r.HaM)||"null");if(!e)return;const t=Number(e.dcID),n=e.test,o={};return r.j3k.forEach((e=>{try{const t=localStorage.getItem(`dc${e}_auth_key`);t&&(o[e]=JSON.parse(t))}catch(e){r.Oig&&console.warn("Failed to load stored session",e)}})),Object.keys(o).length?{mainDcId:t,keys:o,isTest:n}:void 0}()}return{mainDcId:e.dcId,keys:r.j3k.reduce(((t,n)=>{const r=e[`dc${n}_auth_key`];return r&&(t[n]=r),t}),{}),isTest:e.isTest||void 0}}function u(e){try{const t=JSON.parse(localStorage.getItem(`${r.um6}${e||1}`)||"{}");if(!t.dcId)return;return t}catch(e){return}}function d(e){u(o.Xz)&&(0,o.Ph)(o.Xz,{userId:e})}function l(){return"true"===localStorage.getItem(r.ozB)}},58554:(e,t,n)=>{"use strict";n.d(t,{ch:()=>C,hd:()=>I,Ih:()=>A,RB:()=>E,Cn:()=>S});var r=n(23174),o=n(31481),s=n(24021),a=n(96454),i=n(74824),c=n(87679),u=n(4350);const d=48e3,l=16;async function f(e){const t=await new Response(e).arrayBuffer();return new Promise((e=>{const r=new Uint8Array(t);let o=new Worker(new URL(n.p+n.u(4180),n.b)),s=new Worker(new URL(n.p+n.u(3731),n.b));o.onmessage=e=>{null===e.data?s.postMessage({command:"done"}):s.postMessage({command:"encode",buffers:e.data},e.data.map((({buffer:e})=>e)))},s.onmessage=t=>{"page"===t.data.message&&(e(new Blob([t.data.page],{type:"audio/wav"})),o.terminate(),o=void 0,s.terminate(),s=void 0)},s.postMessage({command:"init",wavBitDepth:l,wavSampleRate:d}),o.postMessage({command:"init",decoderSampleRate:d,outputBufferSampleRate:d}),o.postMessage({command:"decode",pages:r},[r.buffer])}))}const h={[r.qZ.BlobUrl]:i.Type.Blob,[r.qZ.Text]:i.Type.Text,[r.qZ.DownloadUrl]:void 0,[r.qZ.Progressive]:void 0},m=`${o.jht?o.uyj:"."}/progressive/`,p="./download/",g=5,y=new Map,b=new Map,v=new Map,w=new Map;function I(e,t,n=!1,s,i){if(t===r.qZ.Progressive)return a.Uz?Promise.resolve(E(e)):I(e,r.qZ.BlobUrl,n,s,i);if(t===r.qZ.DownloadUrl)return a.Uz?Promise.resolve(function(e){const t=new URL(`${p}${e}`,window.location.href);return u.Xz&&t.searchParams.set("account",u.Xz.toString()),t.href}(e)):I(e,r.qZ.BlobUrl,n,s,i);if(!b.has(e)){const r=k(e,t,n).catch((e=>{o.Oig&&console.warn(e)})).finally((()=>{b.delete(e),v.delete(e),w.delete(e)}));b.set(e,r)}if(s&&i){let t=v.get(e);t||(t=new Map,v.set(e,t)),t.set(i,s)}return b.get(e)}function A(e){return y.get(e)}function C(e){v.forEach(((t,n)=>{t.forEach((t=>{if(t===e){const e=w.get(n);if(!e)return;(0,s.om)(e),w.delete(n),v.delete(n)}}))}))}function S(e,t){const n=v.get(e);n&&n.delete(t)}function E(e){const t=new URL(`${m}${e}`,window.location.href);return u.Xz&&t.searchParams.set("account",u.Xz.toString()),y.set(e,t.href),t.href}async function k(e,t,n,r=0){if(!o.xJs){const r=e.startsWith("avatar")?o.zrf:o.Iz7,s=await i.fetch(r,e,h[t],n);if(s){let t=s;"audio/ogg"!==s.type||a.Oo||(t=await f(t));const n=P(t);return y.set(e,n),n}}const u=function(e){const t=n=>{v.get(e)?.forEach((e=>{e(n),e.isCanceled&&(t.isCanceled=!0)}))};return t}(e);w.set(e,u);const d=await(0,s.px)("downloadMedia",{url:e,mediaFormat:t,isHtmlAllowed:n},u);if(!d){if(r>=g)throw new Error(`Failed to fetch media ${e}`);return await new Promise((e=>{setTimeout(e,function(e){return 250*2**e}(r))})),o.Oig&&console.debug(`Retrying to fetch media ${e}`),k(e,t,n,r+1)}let{mimeType:l}=d,m=P(d.dataBlob);if("audio/ogg"===l&&!a.Oo){const e=await(0,c.sZ)(m);URL.revokeObjectURL(m);const t=await f(e);m=P(t),l=t.type}return y.set(e,m),m}function P(e){return e instanceof Blob?URL.createObjectURL(e):e}a.Uz&&navigator.serviceWorker.addEventListener("message",(async e=>{const{type:t,messageId:n,params:o}=e.data;if("requestPart"!==t)return;const a=await(0,s.px)("downloadMedia",{mediaFormat:r.qZ.Progressive,...o});if(!a)return;const{arrayBuffer:i,mimeType:c,fullSize:u}=a;navigator.serviceWorker.controller.postMessage({type:"partResponse",messageId:n,result:{arrayBuffer:i,mimeType:c,fullSize:u}},[i])}))},58734:(e,t,n)=>{"use strict";n.d(t,{Rr:()=>f,Y5:()=>l,_p:()=>u,hB:()=>d});var r=n(13439),o=n(23174),s=n(31481),a=n(87357),i=n(60261),c=n(76023);const u="img[data-document-id]";function d(e){const[t,n,r]=(0,i.Qy)(e);return`<img\n    class="${(0,a.A)("custom-emoji","emoji","emoji-small",t&&"placeholder",e.shouldUseTextColor&&"colorable")}"\n    draggable="false"\n    alt="${e.emoji}"\n    data-document-id="${e.id}"\n    ${r?`data-unique-id="${r}"`:""}\n    data-entity-type="${o.C7.CustomEmoji}"\n    src="${n}"\n  />`}function l(e,t){const n=(0,r.mS)().customEmojis.byId[t.documentId],[s,c,u]=(0,i.Qy)(n);return`<img\n    class="${(0,a.A)("custom-emoji","emoji","emoji-small",s&&"placeholder",n?.shouldUseTextColor&&"colorable")}"\n    draggable="false"\n    alt="${e}"\n    data-document-id="${t.documentId}"\n    ${u?`data-unique-id="${u}"`:""}\n    data-entity-type="${o.C7.CustomEmoji}"\n    src="${c}"\n  />`}function f(e){if(e)return e>s.Apc?2.25*c.$:1===e?7*c.$:Math.min(7.5-.75*e,5.625)*c.$}},58849:(e,t,n)=>{"use strict";function r(e,t){return!e||!t||e.length<=t?e:`${e.substring(0,t)}...`}n.d(t,{A:()=>r})},59030:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(6e4),o=n(15283),s=n(30857);const a=()=>{const e=(0,s.A)();return(0,o.A)((()=>r.DW(e))),r.Yw()}},59607:(e,t,n)=>{"use strict";n.d(t,{Ld:()=>C,mY:()=>I,yK:()=>S});var r=n(84051),o=n(37932),s=n(13439),a=n(29807),i=n(24021),c=n(95175),u=n(33554),d=n(14487),l=n(87894),f=n(4350);const h=800;let m,p,g=!1,y=!1;const b=new BroadcastChannel(f.rL);let v,w=!1;function I(){(0,d.VS)((e=>{if(e===(0,d.g0)()){b.removeEventListener("message",A),y=!0;const t=(0,s.mS)(),n={...t,byTabId:(0,l.cJ)(t.byTabId,[e])},r=(0,c.K)(t,n);return void("symbol"!=typeof r&&b.postMessage({type:"globalDiffUpdate",diff:r}))}let t=(0,s.mS)();t={...t,byTabId:(0,l.cJ)(t.byTabId,[e])},(0,s.UF)(t)})),(0,o.DW)((e=>{if(g&&!y){if(p!==e){if(!p)return p=e,void b.postMessage({type:"globalUpdate",global:e});w||(w=!0,v=p,(0,r.qF)((()=>{const e=(0,c.K)(v,p);"symbol"!=typeof e&&b.postMessage({type:"globalDiffUpdate",diff:e}),w=!1}))),p=e}}else p=e})),b.addEventListener("message",A)}function A({data:e}){if(e)switch(e.type){case"initApi":{const t=(0,s.mS)();if(!(0,a.nTw)(t).isMasterTab)return;const{initialArgs:n}=e;(0,i.Ru)((0,s.ko)().apiUpdate,n);break}case"globalDiffUpdate":{if(!g)return;const{diff:t}=e,n=(0,s.mS)(),r=(0,u.$)(n,t);r.DEBUG_randomId=n.DEBUG_randomId,p=r,(0,s.UF)(r);break}case"globalUpdate":{if(g)return;const t=(0,s.mS)();e.global.DEBUG_randomId=t.DEBUG_randomId,p=e.global,(0,s.UF)(e.global),m&&(m(),m=void 0,g=!0);break}case"requestGlobal":{const{appVersion:t}=e;if("10.9.50"!==t)return void window.location.reload();if(!g)return;const n=(0,s.mS)();if(!(0,a.nTw)(n).isMasterTab)return;b.postMessage({type:"globalUpdate",global:n}),(0,d.ZQ)();break}case"messageCallback":{if(!g)return;const t=(0,s.mS)();if((0,a.nTw)(t).isMasterTab)return;(0,i.PH)(e);break}case"localDbUpdate":{if(!g)return;const t=(0,s.mS)();if((0,a.nTw)(t).isMasterTab)return;const{batchedUpdates:n}=e;n.forEach((({name:e,prop:t,value:n})=>{(0,i.fj)(e,t,n)}));break}case"localDbUpdateFull":{if(!g)return;const t=(0,s.mS)();if((0,a.nTw)(t).isMasterTab)return;const{localDb:n}=e;(0,i.iB)(n);break}case"messageResponse":{if(!g)return;const t=(0,s.mS)();if((0,a.nTw)(t).isMasterTab)return;(0,i.Hn)(e);break}case"cancelApiProgress":{if(!g)return;const t=(0,s.mS)();if(!(0,a.nTw)(t).isMasterTab)return;const{messageId:n}=e;(0,i.Ar)(n);break}case"callApi":{if(!g)return;const t=(0,s.mS)();if(!(0,a.nTw)(t).isMasterTab)return;const{name:n,messageId:r,token:o,args:c,withCallback:u}=e,d=u?[...c,(...e)=>{b.postMessage({type:"messageCallback",token:o,messageId:r,callbackArgs:e})}]:c;(async()=>{const e=await(0,i.eZ)(n,...d);b.postMessage({type:"messageResponse",token:o,messageId:r,response:e})})();break}case"langpackRefresh":(0,s.ko)().refreshLangPackFromCache({langCode:e.langCode})}}function C(e){b.postMessage({type:"requestGlobal",appVersion:e});const t=()=>{m&&(m(),m=void 0),g=!0};return localStorage.getItem(f.pn)?(setTimeout(t,h),new Promise((e=>{m=e}))):(t(),Promise.resolve())}function S(e){b.postMessage({type:"langpackRefresh",langCode:e})}},59852:(e,t,n)=>{"use strict";function r(){const e=getComputedStyle(document.documentElement),t=s(e,"--color-background"),n=s(e,"--color-text-secondary"),r=t,o=s(e,"--color-text"),a=s(e,"--color-primary"),i=s(e,"--color-white"),c=s(e,"--color-links"),u=n,d=s(e,"--color-background-secondary"),l=s(e,"--color-divider");return{bg_color:r,text_color:o,hint_color:u,link_color:c,button_color:a,button_text_color:i,secondary_bg_color:d,header_bg_color:t,accent_text_color:s(e,"--color-primary"),section_bg_color:t,section_header_text_color:n,subtitle_text_color:u,destructive_text_color:s(e,"--color-error"),section_separator_color:l}}function o(e){return/^#[0-9A-F]{6}$/i.test(e)}function s(e,t){const n=e.getPropertyValue(t);if(n)return a(n.trim())}function a(e){return o(e)?e:`#${e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)$/).slice(1).map(((e,t)=>(3===t?Math.round(255*parseFloat(e)):parseFloat(e)).toString(16).padStart(2,"0").replace("NaN",""))).join("")}`}n.d(t,{A:()=>r,To:()=>o,yY:()=>a})},59950:(e,t,n)=>{"use strict";n.d(t,{z:()=>v});var r=n(25279),o=n(13439),s=n(84448),a=n(31481),i=n(72531),c=n(90709),u=n(29807),d=n(49763),l=n(57363),f=n(20919),h=n(37795),m=n(52683),p=n(68144),g=n(40708);function y(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b{constructor(){y(this,"pendingMessages",[]),y(this,"summaryChats",[]),y(this,"customizationTemplate",void 0),y(this,"unreadSummaryCount",0),y(this,"summaryChatsInitialized",!1),y(this,"timmer",void 0),y(this,"summaryAllUnreadMessages",(async()=>{const e={},t=(0,o.mS)(),n=(0,d.YA)(a.DSF)||[],r=this.summaryChats.length?this.summaryChats:n;for(let n=0;n<r.length;n++){const o=r[n],a=(0,u.hds)(t,o),i=(0,c.DX)(o)?void 0:(0,u.yps)(t,o);if(a&&a.unreadCount&&!i){const n=(0,u.RjD)(t,o,s.l3)||a.lastReadInboxMessageId,r=await(0,p.VM)({chat:a,offsetId:n||0,addOffset:-30,sliceSize:30,threadId:s.l3,unreadCount:a.unreadCount,maxCount:100});r.length>0&&(e[o]=r)}}Object.keys(e).length&&this.startSummary(e)}))}initTask(){this.timmer&&clearInterval(this.timmer),this.timmer=setInterval((()=>{const e=new Date,t=e.getHours(),n=e.getMinutes();console.log("计时任务hours",t),console.log("计时任务minutes",n),t>=9&&t<12&&n%30==0&&this.initSummaryChats(),t>=14&&t<17&&n%30==0&&this.initSummaryChats(),t>=17&&t<23&&(t-17)%2==0&&0===n&&this.initSummaryChats()}),6e4),i.A.on(i.E.ChatAIStoreReady,(async()=>{await this.updateSummarySettings();const e=await(f.zs.general?.get(f.ST));e?Date.now()-e>36e6&&this.summaryMessageByDeadline(e):this.summaryAllUnreadMessages()}))}async initSummaryChats(){const e=await(f.zs.general?.get(f.ST));e?this.summaryMessageByDeadline(e):this.summaryAllUnreadMessages()}async updateSummarySettings(){try{this.customizationTemplate=await(f.zs.general?.get("lastDefinedPrompt")),this.summaryChats=await(f.zs.general?.get(h.Rn))||[]}catch(e){console.log(e)}}updateSummaryDefineTemplate(e){this.customizationTemplate=e}updateSummaryChats(e){this.summaryChats=e}async startSummary(e,t){const n=(0,o.mS)(),{autoTranslateLanguage:s}=n.settings.byKey,a=await(f.zs.general?.get(f.ST))||0,d=function(){const e=new Date,t=e.getHours(),n=e.getMinutes(),r=(t,n=0)=>{const r=new Date(e);return r.setHours(t,n,0,0),r.getTime()};return t>=9&&t<12||t>=14&&t<17?r(t,30*Math.floor(n/30)):t>=17&&t<23?r(2*Math.floor((t-17)/2)+17,0):null}();if(!Object.keys(e).length)return;const h=[];if(Object.keys(e).forEach((t=>{const r=t?(0,u.hds)(n,t):void 0,o=(0,c.L8)(t)?"private":"group",s=e[t].map((e=>{if(e.content.text?.text){const t=e.senderId?(0,u.mBe)(n,e.senderId):void 0;return{senderId:e.senderId,senderName:t?`${t.firstName||""} ${t.lastName||""}`:"",date:e.date,messageId:Math.floor(e.id),content:e.content.text?.text??""}}return null})).filter(Boolean);s.length>0&&h.push({chatId:t,chatName:r?.title??"Unknown",chatType:o,messages:s})})),!h.length)return;const p={summaryStartTime:a||null,summaryEndTime:d,summaryMessageCount:Object.values(e).reduce(((e,t)=>e+t.length),0),summaryChatIds:Object.keys(e)};fetch("https://telegpt-three.vercel.app/global-summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:h,language:s,definePrompt:this.customizationTemplate?.prompt||""})}).then((e=>e.json())).then((e=>{console.log("summary response",e);const n={...e.data,summaryInfo:p,customizationTemplate:this.customizationTemplate},s={timestamp:(new Date).getTime(),content:JSON.stringify(n),id:(0,r.A)(),createdAt:new Date,role:"assistant",annotations:[{type:"global-summary"}]};f.zs.summary?.storeMessage(s),f.zs.general?.set(f.ST,d),i.A.emit(i.E.AddSummaryMessage,s),l.A.increaseUnreadCount(),window.Notification.requestPermission().then((e=>{if("granted"===e){const e=new Notification("Chat Summary",{body:"You have received a new Chat Summary"});e.onclick=()=>{(0,o.ko)().openChat({id:g.bL}),(0,m.J)("summary_view")},setTimeout((()=>e.close()),5e3)}})),t?.()})),this.clearPendingMessages()}async summaryMessageByDeadline(e){const t={},n=(0,o.mS)(),r=(0,d.YA)(a.DSF)||[],i=this.summaryChats.length?this.summaryChats:r;for(let r=0;r<i.length;r++){const o=i[r],a=(0,u.hds)(n,o),d=(0,c.DX)(o)?void 0:(0,u.yps)(n,o),l=(0,u.ZZX)(n,o)||0;if(a&&a.unreadCount&&!d&&l){const n=await(0,p.Rq)({chat:a,deadline:e/1e3,offsetId:l,addOffset:-30,sliceSize:30,threadId:s.l3,maxCount:100});t[o]=n}}Object.keys(t).length&&this.startSummary(t)}async mergeUnreadSummarys(){const e=await(f.zs.general?.get(f.i5));e&&this.unreadSummaryCount>2&&this.summaryMessageByDeadline(e),f.zs.general?.set(f.i5,(new Date).getTime()),this.unreadSummaryCount=0}getSummaryChats(){return new Promise((e=>{this.summaryChatsInitialized?e(this.summaryChats):(this.summaryChatsInitialized=!0,f.zs.general?.get(h.Rn).then((t=>{this.summaryChats=t||[],e(t||[])})).catch((()=>{e([])})))}))}async addNewMessage(e){const t=await this.getSummaryChats()||[],n=e.chatId;(0===t.length||t.includes(n))&&(this.pendingMessages.push(e),console.log("待总结的消息",this.pendingMessages))}clearPendingMessages(){this.pendingMessages=[]}getPendingMessages(){return this.pendingMessages}static getInstance(){return b.instance||(b.instance=new b),b.instance}}y(b,"instance",void 0);const v=b.getInstance()},6e4:(e,t,n)=>{"use strict";n.d(t,{DW:()=>y,Yw:()=>E,bV:()=>P,wT:()=>k,yE:()=>S});var r=n(13439),o=n(31481),s=n(30708),a=n(24021),i=n(74824),c=n(46536),u=n(43044),d=n(14242);const l=/%\d?\$?[sdf@]/g,f=["value","zeroValue","oneValue","twoValue","fewValue","manyValue","otherValue"],h={en:e=>1!==e?6:2,ar:e=>0===e?1:1===e?2:2===e?3:e%100>=3&&e%100<=10?4:e%100>=11?5:6,be:e=>{const t=String(e).split("."),n=Number(t[0])===e,r=n?Number(t[0].slice(-1)):0,o=n?Number(t[0].slice(-2)):0;return 1===r&&11!==o?2:r>=2&&r<=4&&(o<12||o>14)?4:n&&0===r||r>=5&&r<=9||o>=11&&o<=14?5:6},ca:e=>1!==e?6:2,cs:e=>{const t=String(e).split("."),n=Number(t[0]),r=!t[1];return 1===e&&r?2:n>=2&&n<=4&&r?4:r?6:5},de:e=>1!==e?6:2,es:e=>1!==e?6:2,fa:e=>e>1?6:2,fi:e=>1!==e?6:2,fr:e=>e>1?6:2,id:()=>0,it:e=>1!==e?6:2,hr:e=>{const t=String(e).split("."),n=t[0],r=t[1]||"",o=!t[1],s=Number(n.slice(-1)),a=Number(n.slice(-2)),i=Number(r.slice(-1)),c=Number(r.slice(-2));return o&&1===s&&11!==a||1===i&&11!==c?2:o&&s>=2&&s<=4&&(a<12||a>14)||i>=2&&i<=4&&(c<12||c>14)?4:6},hu:e=>e>1?6:2,ko:()=>0,ms:()=>0,nb:e=>e>1?6:2,nl:e=>1!==e?6:2,pl:e=>1===e?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,"pt-br":e=>e>1?6:2,ru:e=>e%10==1&&e%100!=11?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,sk:e=>{const t=String(e).split("."),n=Number(t[0]),r=!t[1];return 1===e&&r?2:n>=2&&n<=4&&r?4:r?6:5},sr:e=>{const t=String(e).split("."),n=t[0],r=t[1]||"",o=!t[1],s=Number(n.slice(-1)),a=Number(n.slice(-2)),i=Number(r.slice(-1)),c=Number(r.slice(-2));return o&&1===s&&11!==a||1===i&&11!==c?2:o&&s>=2&&s<=4&&(a<12||a>14)||i>=2&&i<=4&&(c<12||c>14)?4:6},tr:e=>e>1?6:2,uk:e=>e%10==1&&e%100!=11?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,uz:e=>e>1?6:2},m=new Map;let p,g;const{addCallback:y,removeCallback:b,runCallbacks:v}=(0,c.h)();let w,I;function A(){return(e,t,n,r)=>{if(void 0!==t){const o=Array.isArray(t)?JSON.stringify(t):t,s=m.get(`${e}_${o}_${n}${r?`_${r}`:""}`);if(s)return s}g||T();const o=p?.[e]||g?.[e];return o?function(e,t,n,r,o){const s="number"==typeof n||void 0!==o?function(e){const t=w||"en",n=h[t]?h[t](e):0;return f[n]}(o??n):"value",a="string"==typeof e?e:"value"===s?"object"==typeof e?e.value:e:"object"==typeof e?e[s]||e.otherValue:void 0;if(!a?.trim()){const e=t.split(".");return e[e.length-1]}if(void 0!==n){const e=function(e,t){t=Array.isArray(t)?t:[t];const n=e.split(l),r=n.shift();return n.reduce(((e,n,r)=>`${e}${String(t[r]??"")}${n}`),r||"")}(a,"i"===r?(0,d.Sm)(n):n),s=Array.isArray(n)?JSON.stringify(n):n;return m.set(`${t}_${s}_${r}${o?`_${o}`:""}`,e),e}return a}(o,e,t,n,r):e}}let C=A();function S(...e){return C(...e)}function E(){return C}async function k(e,t,n=!1){if((0,u.qY)(e,!0),p&&e===w)return void(t&&t());let c=await i.fetch(o.CV,e,i.Type.Json);if(!c&&(n&&await T(),c=await async function(e){const t=await(0,a.px)("oldFetchLangPack",{sourceLangPacks:o.Ka6,langCode:e});if(t)return await i.save(o.CV,e,t.langPack),t.langPack}(e),!c))return;m.clear(),w=e,p=c,document.documentElement.lang=e;const d=(0,r.mS)(),{languages:l,timeFormat:f}=(0,s.l)(d),h=l?.find((t=>t.langCode===e));C=A(),C.isRtl=Boolean(h?.isRtl),C.code=e.replace("-raw",""),C.langName=h?.nativeName,C.timeFormat=f,t&&t(),v()}function P(e){e&&e===I||(I=e,C.timeFormat=e,v())}async function T(){g||(g=(await n.e(5193).then(n.bind(n,65193))).default,v())}},60160:(e,t,n)=>{"use strict";n.d(t,{Xt:()=>F,Ag:()=>B,qX:()=>_});const r=(e,t)=>t.some((t=>e instanceof t));let o,s;const a=new WeakMap,i=new WeakMap,c=new WeakMap;let u={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return f(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){u=e(u)}function l(e){return"function"==typeof e?(t=e,(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(h(this),e),f(this.request)}:function(...e){return f(t.apply(h(this),e))}):(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)}));a.set(e,t)}(e),r(e,o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,u):e);var t}function f(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{t(f(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",s)}));return c.set(t,e),t}(e);if(i.has(e))return i.get(e);const t=l(e);return t!==e&&(i.set(e,t),c.set(t,e)),t}const h=e=>c.get(e),m=["get","getKey","getAll","getAllKeys","count"],p=["put","add","delete","clear"],g=new Map;function y(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(g.get(t))return g.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=p.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!m.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,o?"readwrite":"readonly");let a=s.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),o&&s.done]))[0]};return g.set(t,s),s}d((e=>({...e,get:(t,n,r)=>y(t,n)||e.get(t,n,r),has:(t,n)=>!!y(t,n)||e.has(t,n)})));const b=["continue","continuePrimaryKey","advance"],v={},w=new WeakMap,I=new WeakMap,A={get(e,t){if(!b.includes(t))return e[t];let n=v[t];return n||(n=v[t]=function(...e){w.set(this,I.get(this)[t](...e))}),n}};async function*C(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;const n=new Proxy(t,A);for(I.set(n,t),c.set(n,h(t));t;)yield n,t=await(w.get(n)||t.continue()),w.delete(n)}function S(e,t){return t===Symbol.asyncIterator&&r(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&r(e,[IDBIndex,IDBObjectStore])}d((e=>({...e,get:(t,n,r)=>S(t,n)?C:e.get(t,n,r),has:(t,n)=>S(t,n)||e.has(t,n)})));function E(e,t){if(t.metadata)for(const n in t.metadata)if(e.metadata[n]!==t.metadata[n])return!1;return!(t.text&&!(Array.isArray(t.text)?t.text:[t.text]).includes(e.text))}function k(e){return JSON.stringify(e).length/1024/1024}function P(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T{constructor(e={}){P(this,"db",void 0),P(this,"documents",[]),P(this,"maxSizeInMB",void 0),P(this,"debounceTime",void 0),P(this,"openaiModel",void 0),P(this,"openaiApiKey",void 0),P(this,"embedTextsFn",void 0),P(this,"dbName",void 0),this.dbName=e.dbName??"VectorStorage",this.maxSizeInMB=e.maxSizeInMB??2048,this.debounceTime=e.debounceTime??0,this.openaiModel=e.openaiModel??"text-embedding-ada-002",this.embedTextsFn=e.embedTextsFn??this.embedTexts,this.openaiApiKey=e.openAIApiKey,this.openaiApiKey||e.embedTextsFn?this.loadFromIndexDbStorage():console.error("VectorStorage: pass as an option either an OpenAI API key or a custom embedTextsFn function.")}async addText(e,t,n){const r={metadata:n,text:e,id:t,timestamp:Date.now(),vector:[],vectorMag:0};return(await this.addDocuments([r]))[0]}async updateText(e,t,n){const r={metadata:n,text:e,id:t,timestamp:Date.now(),vector:[],vectorMag:0};return await this.updateDocument(r)}async deleteText(e){this.documents=this.documents.filter((t=>t.id!==e)),this.db||(this.db=await this.initDB());try{const t=this.db.transaction("documents","readwrite");t.objectStore("documents").delete(e),await t.done}catch(e){console.error("Error deleting text:",e)}}async getText(e){this.db||(this.db=await this.initDB());const t=this.db.transaction("documents","readonly");return await t.objectStore("documents").get(e)}async addTexts(e,t){if(e.length!==t.length)throw new Error("The lengths of texts and metadata arrays must match.");const n=e.map(((e,n)=>({metadata:t[n],text:e,timestamp:Date.now(),vector:[],vectorMag:0})));return this.addDocuments(n)}async similaritySearch(e){const{query:t,k:n=4,filterOptions:r,includeValues:o}=e,s=await this.embedText(t),a=await this.calculateMagnitude(s),i=function(e,t){let n=e;return t&&(t.include&&(n=n.filter((e=>E(e,t.include)))),t.exclude&&(n=n.filter((e=>!E(e,t.exclude))))),n}(this.documents,r),c=this.calculateSimilarityScores(i,s,a).sort(((e,t)=>t[1]-e[1])).slice(0,n).map((e=>({...e[0],score:e[1]})));return this.updateHitCounters(c),c.length>0&&this.removeDocsLRU(),o||c.forEach((e=>{delete e.vector,delete e.vectorMag})),{query:{embedding:s,text:t},similarItems:c}}async initDB(){return function(e,t,{blocked:n,upgrade:r,blocking:o,terminated:s}={}){const a=indexedDB.open(e,t),i=f(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(f(a.result),e.oldVersion,e.newVersion,f(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),i.then((e=>{s&&e.addEventListener("close",(()=>s())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),i}(this.dbName,void 0,{upgrade(e){const t=e.createObjectStore("documents",{autoIncrement:!0,keyPath:"id"});t.createIndex("text","text",{unique:!0}),t.createIndex("metadata","metadata"),t.createIndex("timestamp","timestamp"),t.createIndex("vector","vector"),t.createIndex("vectorMag","vectorMag"),t.createIndex("hits","hits"),t.createIndex("id","id",{unique:!0})}})}async addDocuments(e){const t=e.filter((e=>!this.documents.some((t=>t.text===e.text))));if(0===t.length)return[];const n=await this.embedTextsFn(t.map((e=>e.text)));return t.forEach(((e,t)=>{e.vector=n[t],e.vectorMag=M(e)})),this.documents.push(...t),this.removeDocsLRU(),await this.addToIndexDbStorage(t),t}async updateDocument(e){const t=await this.embedTextsFn([e.text]);return e.vector=t[0],e.vectorMag=M(e),this.documents.find((t=>t.id===e.id))?this.documents=this.documents.map((t=>t.id===e.id?e:t)):this.documents.push(e),this.removeDocsLRU(),await this.addToIndexDbStorage([e]),e}async embedTexts(e){const t=await fetch("https://api.openai.com/v1/embeddings",{body:JSON.stringify({input:e,model:this.openaiModel}),headers:{Authorization:`Bearer ${this.openaiApiKey}`,"Content-Type":"application/json"},method:"POST"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return(await t.json()).data.map((e=>e.embedding))}async embedText(e){return(await this.embedTextsFn([e]))[0]}calculateMagnitude(e){return Math.sqrt(e.reduce(((e,t)=>e+t*t),0))}calculateSimilarityScores(e,t,n){return e.map((e=>{let r=(o=e.vector.reduce(((e,n,r)=>e+n*t[r]),0),s=e.vectorMag,o/(s*n));var o,s;return r=function(e){return(e+1)/2}(r),[e,r]}))}updateHitCounters(e){e.forEach((e=>{e.hits=(e.hits??0)+1}))}async loadFromIndexDbStorage(){this.db||(this.db=await this.initDB()),this.documents=await this.db.getAll("documents"),this.removeDocsLRU()}async saveToIndexDbStorage(){this.db||(this.db=await this.initDB());try{const e=this.db.transaction("documents","readwrite");await e.objectStore("documents").clear();for(const t of this.documents)await e.objectStore("documents").put(t);await e.done}catch(e){console.error("Failed to save to IndexedDB:",e.message)}}async addToIndexDbStorage(e){this.db||(this.db=await this.initDB());try{const t=this.db.transaction("documents","readwrite");for(const n of e)await t.objectStore("documents").put(n);await t.done}catch(e){console.error("Failed to save to IndexedDB:",e.message)}}removeDocsLRU(){if(k(this.documents)>this.maxSizeInMB)for(this.documents.sort(((e,t)=>(e.hits??0)-(t.hits??0)||e.timestamp-t.timestamp));k(this.documents)>this.maxSizeInMB;)this.documents.shift()}}function M(e){return Math.sqrt(e.vector.reduce(((e,t)=>e+t*t),0))}async function x(e){const t=await fetch("https://telegpt-three.vercel.app/embeddings",{body:JSON.stringify({values:e}),headers:{"Content-Type":"application/json"},method:"POST"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return(await t.json()).embeddings}const N=new Map;function L(e){return N.has(e)||N.set(e,new T({embedTextsFn:x,dbName:e})),N.get(e)}const _=L("tools-embedding"),B=L("message-embedding"),F=L("knowledge-embedding");window.toolsEmbeddingStore=_},60261:(e,t,n)=>{"use strict";n.d(t,{Il:()=>w,K3:()=>A,ZR:()=>E,Qy:()=>P,VU:()=>S,LQ:()=>I});var r=n(37932),o=n(13439),s=n(23174),a=n(66644),i=n(90709),c=n(29807),u=n(96454),d=n(46536),l=n(14235),f=n(58554),h=n(37836),m=n(61911);const p=n.p+"square.370a4828a4f2afc14ada.svg",g=new Set,y=new Map,b=(0,d.h)();let v;function w(e,t){y.set(e,t)}function I(e){y.delete(e)}(0,r.DW)((e=>{if(e.customEmojis.byId!==v?.customEmojis.byId||(0,c.BWX)(e)!==(0,c.BWX)(v)){for(const t of y){const[n,r]=t;e.customEmojis.byId[r]&&n(e.customEmojis)}!function(e){const t=Array.from(g).filter((t=>Boolean(e.byId[t])));t.length&&(t.forEach((e=>g.delete(e))),S())}(e.customEmojis)}v=e}));const A=b.addCallback,C=(0,h.nF)(b.runCallbacks,500),S=(0,h.nF)((function(){document.querySelectorAll(".custom-emoji.placeholder").forEach((e=>{const t=(0,o.mS)().customEmojis.byId[e.dataset.documentId];if(!t)return void g.add(e.dataset.documentId);const[n,r,s]=P(t);t.shouldUseTextColor&&!e.classList.contains("colorable")&&(0,a.RK)((()=>{e.classList.add("colorable")})),n||(0,a.RK)((()=>{e.src=r,e.classList.remove("placeholder"),s&&(e.dataset.uniqueId=s),C(t.id)}))}))}),500);function E(e,t){const n=(0,i.aL)(e,t),r=f.Ih(n);if(r)return r;k(n)}function k(e){return f.hd(e,s.qZ.BlobUrl).then((()=>{S()}))}function P(e){if(!e)return[!0,p,void 0];const t=!u.OF&&e.isVideo;if(e.isLottie||e.isVideo&&!t)return k(`sticker${e.id}`),[!1,m,(0,l.A)()];const n=E(e.id,t);return[!n,n||p,void 0]}},60343:(e,t,n)=>{"use strict";function r(e){const{chatId:t}=e;return s(t,"randomId"in e?Number(e.randomId):e.previousLocalId||e.id)}function o(e){if(i(e.id))return;const{chatId:t,id:n}=e;return s(t,n)}function s(e,t){return`msg${e}-${t}`}function a(e){const t=e.match(/^msg(-?\d+)-(\d+)/);return{chatId:t[1],messageId:Number(t[2])}}function i(e){return!Number.isInteger(e)}n.d(t,{AD:()=>o,ES:()=>a,bj:()=>r,iL:()=>i})},61157:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,g:()=>d});var r=n(84051),o=n(46536),s=n(17712);const a=(0,o.h)(),i=(0,o.h)();let c=document.hasFocus();function u(e,t,n=!1){const o=(0,s.A)(e),u=(0,s.A)(t);(0,r.vJ)((()=>{if(!n)return c||o(),a.addCallback(o),i.addCallback(u),()=>{i.removeCallback(u),a.removeCallback(o)}}),[n,o,u])}function d(){return!c}window.addEventListener("blur",(()=>{c&&(c=!1,a.runCallbacks())})),window.addEventListener("focus",(()=>{c=!0,i.runCallbacks()}))},61182:(e,t,n)=>{"use strict";n.d(t,{F8:()=>u,bO:()=>a,fw:()=>i,pF:()=>c});const r=["log","error","warn","info","debug"],o=r.reduce(((e,t)=>(e[t]=console[t],e)),{});let s=[];function a(e,...t){s.push({level:e,args:t,date:new Date}),o[e](...t)}function i(){s=[],r.forEach((e=>{console[e]=(...t)=>{a(e,...t)}}))}function c(){r.forEach((e=>{console[e]=o[e]})),s=[]}function u(){return JSON.stringify(s,((e,t)=>"bigint"==typeof t?t.toString():t))}},61433:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>R,HW:()=>B,Tv:()=>D,YM:()=>_,dH:()=>F});var r=n(31481),o=n(87894),s=n(9935),a=n(84051);const i="http://www.w3.org/2000/svg",c=new Set(["key","ref","teactFastList","teactOrderKey"]),u=new Set(["dir","role","form"]),d=["INPUT","TEXTAREA","SELECT"],l={autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoPlay:"autoplay",spellCheck:"spellcheck"},f="__indexKey#",h=new WeakMap,m=new WeakMap,p=new WeakMap;function g(e,t,n,o,s,c,u={}){const{skipComponentUpdate:d,fragment:l}=u;let{nextSibling:f,namespace:h}=u;const m=t?.type===a.wr.Component,p=n?.type===a.wr.Component,g=n,A=!m&&t?.type===a.wr.Fragment,k=!p&&n?.type===a.wr.Fragment;if(n?.type===a.wr.Tag&&("svg"===n.tag&&(h=i),n.props.xmlns&&(h=n.props.xmlns)),!d&&m&&p&&!(0,a.rO)(t,n)&&(n=function(e,t){return e.componentInstance.props=t.componentInstance.props,(0,a.Cc)(e.componentInstance)}(t,n)),!d&&p&&n.componentInstance.mountState===a.pT.Mounted&&b(e,n,o,s,c),t===n)return n;if(r.Oig&&n){const e="target"in n&&n.target;if(e&&(!t||"target"in t&&e!==t.target))throw new Error("[Teact] Cached virtual element was moved within tree")}if(!t&&n)if(p||k)p&&(s=(n=y(e,n,o,s,c)).componentInstance.context??s),v(e,n,s,{nextSibling:f,fragment:l,namespace:h});else if(l||f||g.type!==a.wr.Text||1!==o.children.length||e.firstChild){const t=w(g,s,h);g.target=t,C(l||e,t,f),g.type===a.wr.Tag&&P(g,t)}else e.textContent=g.value,g.target=e.firstChild;else if(t&&!n)I(e,t,s,void 0);else if(t&&n)if((0,a.rO)(t,n))if(f||(f=S(t)),p||k)p&&(s=(n=y(e,n,o,s,c)).componentInstance.context??s),I(e,t,s,void 0),v(e,n,s,{nextSibling:f,fragment:l,namespace:h});else{const n=w(g,s,h);g.target=n,I(e,t,s,n,f),g.type===a.wr.Tag&&P(g,n)}else if(m&&p||A&&k)E(t,n,s,e,f,u.forceMoveToEnd);else{const r=t,o=r.target;if(g.target=o,r.target=void 0,t.type===a.wr.Tag){const r=n;P(t,void 0),P(r,o),(f||u.forceMoveToEnd)&&C(e,o,f),function(e,t,n,r){T(n.tagName,t.props);const o=Object.entries(e.props),s=Object.entries(t.props);for(const[e,r]of o){const o=t.props[e];void 0!==r&&(void 0===o||r!==o&&e.startsWith("on"))&&x(n,e,r)}for(const[t,o]of s){const s=e.props[t];void 0!==o&&o!==s&&M(n,t,o,r)}}(t,r,o,h),E(t,r,s,o,void 0,void 0,h)}}return n}function y(e,t,n,r,o){const{componentInstance:s}=t;return t.componentInstance.context=r,s.mountState===a.pT.Unmounted&&b(e,t=(0,a.bF)(s),n,r,o),t}function b(e,t,n,r,o){const{componentInstance:s}=t;s.onUpdate=()=>{n.children[o]=g(e,n.children[o],s.$element,n,r,o,{skipComponentUpdate:!0})}}function v(e,t,n,r){const{children:o}=t;for(let s=0,a=o.length;s<a;s++){const a=o[s],i=g(e,void 0,a,t,n,s,r);i!==a&&(o[s]=i)}}function w(e,t,n="http://www.w3.org/1999/xhtml"){if(e.type===a.wr.Empty)return document.createTextNode("");if(e.type===a.wr.Text)return document.createTextNode(e.value);const{tag:r,props:o,children:s}=e,i=document.createElementNS(n,r);T(r,o);for(const e in o)o.hasOwnProperty(e)&&void 0!==o[e]&&M(i,e,o[e],n);!function(e,t){d.includes(e.tagName)&&(t.defaultValue&&M(e,"value",t.defaultValue),t.defaultChecked&&M(e,"checked",t.defaultChecked))}(i,o);for(let r=0,o=s.length;r<o;r++){const o=s[r],a=g(i,void 0,o,e,t,r,{namespace:n});a!==o&&(s[r]=a)}return i}function I(e,t,n,r,o){const s=t.type===a.wr.Component,i=!s&&t.type===a.wr.Fragment;s||i?(s&&(0,a.s4)(t.componentInstance),function(e,t,n){for(const r of t.children)g(e,r,void 0,t,n,-1)}(e,t,n),r&&C(e,r,o)):(r?e.replaceChild(r,t.target):e.removeChild(t.target),A(t))}function A(e){if(e.type===a.wr.Component)(0,a.s4)(e.componentInstance);else if(e.type!==a.wr.Fragment&&(e.type===a.wr.Tag&&(m.delete(e.target),P(e,void 0),(0,s.iB)(e.target)),e.target=void 0,e.type!==a.wr.Tag))return;for(const t of e.children)A(t)}function C(e,t,n){n?e.insertBefore(t,n):e.appendChild(t)}function S(e){return e.type===a.wr.Component||e.type===a.wr.Fragment?S(e.children[e.children.length-1]):e.target.nextSibling||void 0}function E(e,t,n,s,i,c=!1,u){if(r.Oig&&function(e){const t=e[0];if(t&&"props"in t&&void 0!==t.props.key){const t=e.reduce(((e,t)=>("props"in t&&t.props.key&&e.push(t.props.key),e)),[]);if(t.length!==(0,o.Am)(t).length)throw console.warn("[Teact] Duplicated keys:",t.filter(((e,t,n)=>n.indexOf(e)!==t)),e),new Error("[Teact] Children keys are not unique")}}(t.children),"props"in t&&t.props.teactFastList)return void function(e,t,n,o){const s=e.children,i=t.children,c=new Set;for(const e of i){const t="props"in e?e.props.key:void 0;if(r.Oig&&(0,a.jo)(e)&&(null==t&&console.warn("Missing `key` in `teactFastList`"),e.type===a.wr.Fragment))throw new Error("[Teact] Fragment can not be child of container with `teactFastList`");c.add(t)}let u=0;const d={};for(let e=0,r=s.length;e<r;e++){const r=s[e];let a="props"in r?r.props.key:void 0;const l=null!=a;if(!l||c.has(a)){if(!l){const s=i[e],c=s&&"props"in s?s.props.key:void 0;if(!s||c){g(o,r,void 0,t,n,-1);continue}a=`${f}${e}`}d[a]={$element:r,index:u++,orderKey:"props"in r?r.props.teactOrderKey:void 0}}else g(o,r,void 0,t,n,-1)}let l,h,m=0;for(let e=0,r=i.length;e<r;e++){const r=i[e],s=d["props"in r?r.props.key:`${f}${e}`];if(!s){void 0===h&&(l=e,h=0),h++;continue}h&&(k(l,h,o,t,n),h=void 0,l=void 0);const a="props"in r?r.props.teactOrderKey:void 0,c=s.index!==m&&(!a||s.orderKey!==a),u=c&&m>s.index;c&&!u||m++;const p=o.childNodes[u?e+1:e],y=c?p?{nextSibling:p}:{forceMoveToEnd:!0}:void 0,b=g(o,s.$element,r,t,n,e,y);b!==r&&(i[e]=b)}h&&k(l,h,o,t,n)}(e,t,n,s);const d=e.children,l=t.children,h=d.length,m=l.length,p=Math.max(h,m),y=m>h?document.createDocumentFragment():void 0,b=e.children[h-1],v=y&&(i||(b?S(b):void 0));for(let e=0;e<p;e++){const r=g(s,d[e],l[e],t,n,e,e>=h?{fragment:y,namespace:u}:{nextSibling:i,forceMoveToEnd:c,namespace:u});r&&r!==l[e]&&(l[e]=r)}y&&C(s,y,v)}function k(e,t,n,r,o){const s=n.childNodes[e];if(1===t){const t=r.children[e],a=g(n,void 0,t,r,o,e,{nextSibling:s});return void(a!==t&&(r.children[e]=a))}const a=document.createDocumentFragment();for(let s=e;s<e+t;s++){const e=r.children[s],t=g(n,void 0,e,r,o,s,{fragment:a});t!==e&&(r.children[s]=t)}C(n,a,s)}function P(e,t){const{ref:n}=e.props;"object"==typeof n?(n.current=t,n.onChange?.()):"function"==typeof n&&n(t)}function T(e,t){if(!t.teactExperimentControlled)return;const n=void 0!==t.value,r=void 0!==t.checked;if(!n&&!r||!d.includes(e.toUpperCase()))return;const{value:o,checked:s,onInput:a,onChange:i}=t;t.onChange=void 0,t.onInput=e=>{if(a?.(e),i?.(e),void 0!==o&&o!==e.currentTarget.value){const{selectionStart:t,selectionEnd:n}=e.currentTarget,r=t===n&&n===e.currentTarget.value.length;if(e.currentTarget.value=o,"number"==typeof t&&"number"==typeof n){e.currentTarget.setSelectionRange(t,n);const o={selectionStart:t,selectionEnd:n,isCaretAtEnd:r};e.currentTarget.dataset.__teactSelectionState=JSON.stringify(o)}}void 0!==s&&(e.currentTarget.checked=s)}}function M(e,t,n,r){if("className"===t)N(e,n,r);else if("value"===t){const t=e;if(t.value!==n){t.value=n;const e=t.dataset.__teactSelectionState;if(e){const{selectionStart:n,selectionEnd:r,isCaretAtEnd:o}=JSON.parse(e);if(o){const e=t.value.length;t.setSelectionRange(e,e)}else"number"==typeof n&&"number"==typeof r&&t.setSelectionRange(n,r)}}}else"style"===t?L(e,n):"dangerouslySetInnerHTML"===t?e.innerHTML=n.__html:t.startsWith("on")?(0,s.q2)(e,t,n,t.endsWith("Capture")):r===i||t.startsWith("data-")||t.startsWith("aria-")||u.has(t)?e.setAttribute(t,n):c.has(t)||(e[l[t]||t]=n)}function x(e,t,n){"className"===t?N(e,""):"value"===t?e.value="":"style"===t?L(e,""):"dangerouslySetInnerHTML"===t?e.innerHTML="":t.startsWith("on")?(0,s.f)(e,t,n,t.endsWith("Capture")):c.has(t)||e.removeAttribute(t)}function N(e,t,n){if(n===i)return void e.setAttribute("class",t);const r=e,o=m.get(e);if(!o)return void(r.className=t);const s=Array.from(o);t&&s.push(t),r.className=s.join(" ")}function L(e,t){e.style.cssText=t,p.get(e)&&O(e)}function _(e,t){e.classList.add(t);const n=m.get(e);n?n.add(t):m.set(e,new Set([t]))}function B(e,t){e.classList.remove(t);const n=m.get(e);n&&(n.delete(t),n.size||m.delete(e))}function F(e,t,n){!0===n?_(e,t):!1===n||m.get(e)?.has(t)?B(e,t):_(e,t)}function D(e,t){p.set(e,t),O(e)}function O(e){const t=Object.entries(p.get(e)).reduce(((t,[n,r])=>(n.startsWith("--")?e.style.setProperty(n,r):t[n]=r,t)),{});Object.assign(e.style,t)}const R={render:function(e,t){h.has(t)||h.set(t,{children:[]});const n=(0,a.ek)(),r=h.get(t),o=g(t,r.children[0],e,r,{},0);n?.(),r.children=o?[o]:[]}}},61911:(e,t,n)=>{"use strict";e.exports=n.p+"blank.8dd283bceccca95a48d8.png"},62214:(e,t,n)=>{"use strict";n.d(t,{A5:()=>D,CO:()=>R,Gg:()=>I,IC:()=>F,Js:()=>C,L7:()=>S,L8:()=>l,PX:()=>$,QE:()=>f,Q_:()=>N,Qe:()=>w,Rl:()=>v,SJ:()=>k,Sq:()=>M,TJ:()=>B,VN:()=>y,Vs:()=>p,WX:()=>g,YE:()=>h,Zg:()=>U,__:()=>x,cG:()=>z,cP:()=>E,e7:()=>A,gA:()=>O,gU:()=>L,i7:()=>H,kE:()=>b,l1:()=>T,nr:()=>W,rz:()=>j,sT:()=>V,ub:()=>P,yn:()=>m,zc:()=>_});var r=n(23174),o=n(31481),s=n(17663),a=n(80140),i=n(13439),c=n(20179),u=n(79089);const d=Date.now()/1e3+31622400;function l(e){return!e.startsWith("-")}function f(e){return`-1${e.padStart(o.bxS-2,"0")}`}function h(e){return m(e)||p(e)}function m(e){return"chatTypeBasicGroup"===e.type}function p(e){return"chatTypeSuperGroup"===e.type}function g(e){return"chatTypeChannel"===e.type}function y(e){return"chatTypePrivate"===e.type||"chatTypeBasicGroup"===e.type}function b(e){return e===o.f51}function v(e){return e===o.b5_}function w(e){return e===o.Ckz}function I(e){switch(e.type){case"chatTypePrivate":return"PrivateChat";case"chatTypeBasicGroup":case"chatTypeSuperGroup":return"AccDescrGroup";case"chatTypeChannel":return"AccDescrChannel";default:return"Chat"}}function A(e){if("chatTypePrivate"===e.type||"chatTypeSecret"===e.type)return e.id}function C(e,t,n=!1){return n?e("SavedMessages"):t.title||e("HiddenName")}function S(e){const t=(0,u.Kl)(e);return t?`${o.jsp}${t}`:void 0}function E(e,t="normal",n=e.avatarPhotoId){if(n)return"big"===t?`profile${e.id}?${n}`:`avatar${e.id}?${n}`}function k(e){return Boolean(e.adminRights||e.isCreator)}function P(e,t){return e.adminRights?.[t]||!1}function T(e,t){return t.id===o.HxB?e.isCreator:e.isCreator||P(e,"manageTopics")||t.isOwner}function M(e,t,n){const r=n?.boostsToUnrestrict&&(n.boostsApplied||0)>=n.boostsToUnrestrict;return Boolean(e.currentUserBannedRights?.[t]||e.defaultBannedRights?.[t]&&!r)}function x(e,t,n,r){if(t&&e.isForum){if(e.isNotJoined)return!1;if(t?.isClosed&&!t.isOwner&&!P(e,"manageTopics"))return!1}return!(e.isRestricted||e.isForbidden||e.migratedTo||!n&&e.isNotJoined||(0,c.DX)(e.id)||w(e.id))&&(!!e.isCreator||!!l(e.id)||(g(e)?P(e,"postMessages"):k(e)||!M(e,"sendMessages",r)))}function N(e,t,n=!1,r=!1,o,s=!1){if(!e||o&&s)return{canAttachMedia:!1,canAttachPolls:!1,canSendStickers:!1,canSendGifs:!1,canAttachEmbedLinks:!1,canSendPhotos:!1,canSendVideos:!1,canSendRoundVideos:!1,canSendAudios:!1,canSendVoices:!1,canSendPlainText:!1,canSendDocuments:!1};const a=k(e);return{canAttachMedia:a||r||!M(e,"sendMedia",t),canAttachPolls:!r&&(a||!M(e,"sendPolls",t))&&(!l(e.id)||n),canSendStickers:a||r||!M(e,"sendStickers",t),canSendGifs:a||r||!M(e,"sendGifs",t),canAttachEmbedLinks:!r&&(a||!M(e,"embedLinks",t)),canSendPhotos:a||r||!M(e,"sendPhotos",t),canSendVideos:a||r||!M(e,"sendVideos",t),canSendRoundVideos:a||r||!M(e,"sendRoundvideos",t),canSendAudios:a||r||!M(e,"sendAudios",t),canSendVoices:a||r||!M(e,"sendVoices",t),canSendPlainText:a||r||!M(e,"sendPlain",t),canSendDocuments:a||r||!M(e,"sendDocs",t)}}function L(e,t,n){if(t?.sendMessages){const{untilDate:n}=t;return n&&n<d?e("Channel.Persmission.Denied.SendMessages.Until",e("formatDateAtTime",[(0,s.A)(new Date(1e3*n),e.code),(0,s.fU)(e,1e3*n)])):e("Channel.Persmission.Denied.SendMessages.Forever")}if(n?.sendMessages)return e("Channel.Persmission.Denied.SendMessages.DefaultRestrictedText")}function _(e,t,n=r.l3,s,a){if(!t?.isForum)return;if(n===r.l3){if(a||s&&!s[o.HxB]?.isClosed)return;return e("lng_forum_replies_only")}const i=s?.[Number(n)];return i?!i.isClosed||i.isOwner||P(t,"manageTopics")?void 0:e("TopicClosedByAdmin"):void 0}function B(e){return e.folderId===o._E9}function F(e){return m(e)||(p(e)||g(e))&&e.isCreator}function D(e,t,n){const{excludedChatIds:r,includedChatIds:o,bots:s,groups:a,contacts:i,nonContacts:c,channels:u}=t,d=[s,a,i,c,u];return void 0!==n&&(Object.values(d).filter(Boolean).length>1||r?.length||o?.length)?e("Chats",n):s?e("FilterBots"):a?e("FilterGroups"):u?e("FilterChannels"):i?e("FilterContacts"):c?e("FilterNonContacts"):void 0}function O(e){return e.usernames?.some((({isActive:e})=>e))}function R(e,t,n=!1){if(n)return e.sort(((e,t)=>t.lastMessageId-e.lastMessageId));{const n=e.filter((e=>e.isPinned)),r=e.filter((e=>!e.isPinned&&!e.isHidden)).sort(((e,t)=>t.lastMessageId-e.lastMessageId)),o=e.filter((e=>!e.isPinned&&e.isHidden)).sort(((e,t)=>t.lastMessageId-e.lastMessageId));return[...t?t.map((e=>n.find((t=>t.id===e)))).filter(Boolean):n,...r,...o]}}function j(e){return(t=e).length===o.bxS&&t.startsWith("-1")?e.replace(/^-10+/,""):e.replace("-","");var t}function U(e){return e?.color?.color?e.color.color:e?(t=e.id,Math.abs(Number(j(t)))%7):0;var t}function $(e){const t=U(e);return(0,i.mS)().peerColors?.general[t].colors?.length||1}function z(e,t,n){return e===n&&t!==r.l3}function V(e,t){const n=e(I(t)),{membersCount:r}=t;return t.isRestricted?"Channel"===n?"channel is inaccessible":"group is inaccessible":r?e("Channel"===n?"Subscribers":"Members",r,"i"):n}function W(e){const{title:t,color:n,isVerified:r,isFake:o,isScam:s}=e;return{isCustomPeer:!0,title:t,peerColorId:n,isVerified:r,fakeType:o?"fake":s?"scam":void 0}}function H(e,t){const{result:n}=t,r=n?.sendMessage?.replyMarkup?.inlineButtons;return{chatId:e,content:n.sendMessage.content,date:(0,a.Fm)(),id:0,isOutgoing:!0,viaBotId:e,inlineButtons:r}}},62587:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(84051),o=n(23174),s=n(29807),a=n(58554),i=n(63527),c=n(30857);const u=(e,t=!1,n=o.qZ.BlobUrl,u)=>{const d=e?a.Ih(e):void 0,l=(0,c.A)(),f=(0,i.A)(s.nIz);return(0,r.vJ)((()=>{if(!t&&e&&!d){const t=Date.now();a.hd(e,n).then((()=>{const e=Date.now()-t;!u||e>=u?l():setTimeout(l,u-e)}))}}),[t,e,d,n,u,f]),d}},63495:(e,t,n)=>{"use strict";n.d(t,{G9:()=>a,Ld:()=>o,fM:()=>s,vM:()=>r});const r="SharedWorker"in globalThis,o="ListFormat"in Intl,s="host"!==new URL("tg://host").host,a="VideoDecoder"in globalThis},63527:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(19129),o=n(98255);function s(e){const t=(0,o.A)(e);return(0,r.A)(t)}},64493:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(84051),o=n(96454),s=n(87357),a=n(95807),i=n(17712),c=n(59030),u=n(85118),d=n(42452),l=n(57474);const f=({ref:e,type:t="button",id:n,onClick:f,onContextMenu:h,onMouseDown:m,onMouseUp:p,onMouseEnter:g,onMouseLeave:y,onFocus:b,children:v,size:w="default",color:I="primary",backgroundImage:A,className:C,round:S,pill:E,badge:k,fluid:P,isText:T,isLoading:M,isShiny:x,withPremiumGradient:N,withSparkleEffect:L,onTransitionEnd:_,ariaLabel:B,ariaControls:F,hasPopup:D,href:O,download:R,disabled:j,nonInteractive:U,allowDisabledClick:$,noFastClick:z="danger"===I,ripple:V,faded:W,tabIndex:H,isRtl:G,isRectangular:J,noPreventDefault:K,shouldStopPropagation:q,noForcedUpperCase:X,style:Y})=>{let Z=(0,r.li)(null);e&&(Z=e);const Q=(0,c.A)(),[ee,te]=(0,r.J0)(!1),ne=j||U,re=(0,s.A)("Button",C,w,I,S&&"round",E&&"pill",P&&"fluid",k&&"badge",ne&&"disabled",U&&"non-interactive",$&&"click-allowed",T&&"text",M&&"loading",V&&"has-ripple",W&&"faded",ee&&"clicked",A&&"with-image",x&&"shiny",N&&"premium",J&&"rectangular",X&&"no-upper-case"),oe=(0,i.A)((e=>{!$&&ne||!f||f(e),q&&e.stopPropagation(),te(!0),setTimeout((()=>{te(!1)}),400)})),se=(0,i.A)((e=>{K||e.preventDefault(),!$&&ne||!m||m(e),o.TF||e.button!==o.w3.Main||z||oe(e)})),ae=r.Ay.createElement(r.Ay.Fragment,null,L&&r.Ay.createElement(u.A,{preset:"button"}),M?r.Ay.createElement("div",null,r.Ay.createElement("span",{dir:G?"auto":void 0},Q("Cache.ClearProgress")),r.Ay.createElement(l.A,{color:T?"blue":"white"})):v,!ne&&V&&r.Ay.createElement(d.A,null));return O?r.Ay.createElement("a",{ref:Z,id:n,className:re,href:O,title:B,download:R,tabIndex:H,dir:G?"rtl":void 0,"aria-label":B,"aria-controls":F,style:Y,onTransitionEnd:_,target:"_blank",rel:"noreferrer"},ae):r.Ay.createElement("button",{ref:Z,id:n,type:t,className:re,onClick:o.TF||z?oe:void 0,onContextMenu:h,onMouseDown:se,onMouseUp:p,onMouseEnter:g&&!ne?g:void 0,onMouseLeave:y&&!ne?y:void 0,onTransitionEnd:_,onFocus:b&&!ne?b:void 0,"aria-label":B,"aria-controls":F,"aria-haspopup":D,title:B,tabIndex:H,dir:G?"rtl":void 0,style:(0,a.A)(Y,A&&`background-image: url(${A})`)||void 0},ae)}},64713:(e,t,n)=>{"use strict";n.d(t,{Ox:()=>c,gH:()=>s,n4:()=>i,oL:()=>a});const r="X",o="XXX XXX XXX XXX";function s(e,t){return e.find((e=>e.iso2===t))}function a(e,t=""){let n=t.replace(/[^\d+]+/g,"");n.startsWith("+")&&(n=n.substr(1));const r=e.filter((e=>n.startsWith(e.countryCode))).map((e=>(e.prefixes||[""]).map((t=>({code:`${e.countryCode}${t}`,country:e}))))).flat().filter((({code:e})=>n.startsWith(e))).sort(((e,t)=>e.code.length-t.code.length));return r[r.length-1]?.country}function i(e,t){if(!e)return"";let n=e.replace(/[^\d]+/g,"");if(t)n=n.substr(t.countryCode.length);else if(e.startsWith("+"))return e;const s=function(e,t){if(!t||0===t.length)return o;if(1===t.length)return t[0];const n=t.find((e=>e.startsWith(r)))||o,s=t.filter((t=>{const n=t.replace(/[^\dX]+/g,"");if(n.startsWith(r))return!1;for(let t=0;t<e.length;t++)if(t>n.length-1||n[t]!==r&&n[t]!==e[t])return!1;return!0}));return 1===s.length?s[0]:n}(n,t?.patterns),a=[];let i=0;for(let e=0;e<n.length;e++){for(;s[i]!==r&&i<s.length&&(a.push(s[i]),s[i]!==n[e]||(e++,e!==n.length));)i++;a.push(n[e]),i++}return a.join("")}function c(e,t){if(!t)return"";const n=t.startsWith("+")?t:`+${t}`,r=a(e,n);return r?`+${r.countryCode} ${i(n,r)}`:n}},65843:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(84051),o=n(71533),s=n(17712),a=n(35297),i=n(73622),c=n(66644),u=n(84080),d=n(34780),l=n(61157);function f(){return(0,r.OV)()||(0,d.c_)()||(0,l.g)()}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(null,arguments)}const m=(0,r.ph)((function({ref:e,isPriority:t,canPlay:n,children:m,onReady:p,onBroken:g,onTimeUpdate:y,...b}){const v=(0,r.li)(null);e||(e=v);const{handlePlaying:w}=function(e,t,n){const o=(0,r.li)();o.current=t;const{play:a,pause:i}=function(e){const t=(0,r.li)(!1),n=(0,r.li)(!1);return{play:(0,s.A)((()=>{t.current=!1,e.current&&!n.current&&document.body.contains(e.current)&&(n.current=!0,e.current.play().then((()=>{n.current=!1,t.current&&(e.current?.pause(),t.current=!1)})).catch((e=>{console.warn(e)})))})),pause:(0,s.A)((()=>{n.current?t.current=!0:e.current?.pause()}))}}(e),h=(0,s.A)((()=>{!o.current||!n&&f()||a()})),m=(0,s.A)((()=>{(0,c.YS)(h)}));(0,l.A)(i,m,!t||n),(0,u.Ay)(i,h,!t||n),(0,d.Ay)(i,h,!t||n);const p=(0,s.A)((()=>{(!o.current||!n&&f())&&i()}));return(0,r.vJ)((()=>{t?!n&&f()||a():i()}),[t,a,i,n]),{handlePlaying:p}}(e,n,t),I=(0,r.li)(!1),A=(0,s.A)((()=>{I.current||(p?.(),I.current=!0)})),{isBuffered:C,bufferingHandlers:S}=(0,o.A)(!0,y,g),{onPlaying:E,...k}=S;(0,a.A)((([e])=>{void 0!==e&&A()}),[C,A]);const P=(0,s.A)((e=>{w(),E(e),A(),b.onPlaying?.(e)})),T=(0,r.Kr)((()=>{const e={};return Object.keys(k).forEach((t=>{const n=t;e[n]=e=>{b[n]?.(e),k[n]?.(e)}})),e}),[k,b]);return(0,i.A)(e,T),r.Ay.createElement("video",h({ref:e,autoPlay:!0},b,T,{onPlaying:P}),m)}))},66414:(e,t,n)=>{"use strict";n.d(t,{az:()=>l,cA:()=>g,dk:()=>h,f4:()=>m,fY:()=>p,lD:()=>u,vO:()=>d,xV:()=>f});var r=n(23174),o=n(31481);let s,a,i=!1,c=window.location.hash;function u(){i=!1,a=void 0,s=void 0,c=""}function d(){window.location.hash=""}const l=(e,t,n)=>{const o="thread"===t?void 0:t;return(n===r.l3?[e,o]:[e,n,o]).filter(Boolean).join("_")};function f(e){if(m(),!a)return;const t=a.split("_");let n,o,s;if(1===t.length)n=t[0];else if(2===t.length){const e=["thread","pinned","scheduled"].includes(t[1]);n=t[0],o=e?t[1]:"thread",s=e?void 0:t[1]}else t.length>=3&&([n,s,o]=t);if(!n?.match(/^-?\d+$/))return;const i=["thread","pinned","scheduled"].includes(o);return{chatId:n,type:o&&i?o:"thread",threadId:(n===e?s:Number(s))||r.l3}}const h=(e,t,n)=>{const r=new URL(window.location.href);return r.hash=l(e,t,n),r.href};function m(){if(s)return s;if(i)return;const e=g();if(!e)return;let t=e.replace(/^#/,"");return t.includes("?")?([a,t]=t.split("?"),o.fng||(window.location.hash=a)):t.includes("=")&&(o.fng||(window.location.hash="")),s=t.includes("=")?t.split("&").reduce(((e,t)=>{const[n,r]=t.split("=");return e[n]=r,e}),{}):void 0,i=!0,s||(a=t),s}function p(){s&&delete s.tgWebAuthToken}function g(){return c}},66644:(e,t,n)=>{"use strict";n.d(t,{RK:()=>f,Uj:()=>s.Uj,Uz:()=>h,YS:()=>l,Z3:()=>s.Z3,dL:()=>s.dL,gm:()=>m});var r=n(50110),o=n(37836),s=n(75357);let a=[],i=[],c=[];const u=(d=()=>{const e=a;a=[],e.forEach((e=>{(0,r.A)(e)})),Promise.resolve().then((()=>{(0,s.A)("mutate");const e=i;i=[],e.forEach((e=>{(0,r.A)(e)}))})).then((()=>{(0,s.A)("measure");const e=[];for(const t of c)(0,r.A)((()=>{const n=t();n&&e.push(n)}));return c=[],e})).then((e=>{(0,s.A)("mutate");for(const t of e)(0,r.A)(t)})).then((()=>{(0,s.A)("measure")}))},(0,o.nb)((e=>{(0,o.IJ)(e,!0)}),d));var d;function l(e){a.push(e),u()}function f(e){i.push(e),u()}function h(e){l((()=>{f(e)}))}function m(e){c.push(e),u()}},68144:(e,t,n)=>{"use strict";n.d(t,{Np:()=>c,Rq:()=>i,VM:()=>a,iZ:()=>u,qq:()=>d});var r=n(13439),o=n(29807);const{callApi:s}=n(8805),a=async e=>{let t=[],n=0,{offsetId:r}=e;const o=Math.min(e.unreadCount,e.maxCount||100);for(;t.length<o;){const a=await s("fetchMessages",{...e,offsetId:r,limit:e.sliceSize});if(!a||!a.messages?.length)break;const i=a.messages.reverse();if(n+i.length>o){t=t.concat(i.slice(0,o-t.length));break}if(t=t.concat(i),n+=i.length||0,r=i[i.length-1].id,i.length<e.sliceSize)break}return t},i=async e=>{let t=[],{offsetId:n,deadline:r,sliceSize:o,maxCount:a=100}=e;for(;(!t.length||t[0]?.date>=r)&&t.length<a;){const i=await s("fetchMessages",{...e,offsetId:n,limit:o});if(!i||!i.messages?.length)break;if(i.messages[i.messages.length-1].date<r){const e=i.messages.filter((e=>e.date>=r));t=t.concat(e);break}if(t.length+i.messages.length>a){t=t.concat(i.messages.slice(0,a-t.length));break}if(t=t.concat(i.messages),n=i.messages[i.messages.length-1].id,i.messages.length<e.sliceSize)break}return t.reverse()},c=async e=>{let t=[],{offsetId:n,sliceSize:r,maxCount:o=100}=e;for(;!t.length&&t.length<o;){const a=await s("fetchMessages",{...e,offsetId:n,limit:r});if(!a||!a.messages?.length)break;if(t.length+a.messages.length>=o){t=t.concat(a.messages.slice(0,o-t.length));break}if(t=t.concat(a.messages),n=a.messages[a.messages.length-1].id,a.messages.length<e.sliceSize)break}return t.reverse()},u=e=>{const t=(0,r.mS)();return e.map((e=>{if(e.content.text?.text){const n=e.senderId?(0,o.mBe)(t,e.senderId):void 0;return{senderId:e?.senderId||e?.chatId,senderName:n?`${n.firstName||""} ${n.lastName||""}`:"",date:e.date,messageId:Math.floor(e.id),content:e.content.text?.text??""}}return null})).filter(Boolean)},d=async e=>{let t=[],{offsetId:n,sliceSize:r,maxCount:o=100}=e;for(;!t.length||t.length<o;){const o=await s("fetchMessages",{...e,offsetId:n,limit:r});if(!o||!o.messages?.length)break;if(t=t.concat(o.messages),n=o.messages[o.messages.length-1].id,o.messages.length<e.sliceSize)break}return t.reverse()}},68323:(e,t,n)=>{"use strict";n.d(t,{Y:()=>d,x:()=>u});var r=n(84051),o=n(31481),s=n(66644),a=n(96454),i=n(9705);let c=!1;function u(){return c}function d(){const e=(0,r.li)(),[t,n]=(0,r.J0)("idle");return(0,r.vJ)((()=>{if("capturing-old"!==t)return;const r=document.startViewTransition((async()=>{n("capturing-new"),e.current&&await e.current();const t=new i.A;return(0,s.Uz)((()=>{t.resolve()})),t.promise}));r.finished.then((()=>{n("idle"),(0,s.RK)((()=>{document.body.classList.remove(o.VIF)})),c=!1})),r.ready.then((()=>{n("animating")})).catch((e=>{console.error(e),n("skipped"),(0,s.RK)((()=>{document.body.classList.remove(o.VIF)})),c=!1}))}),[t]),{shouldApplyVtn:"capturing-old"===t||"capturing-new"===t||"animating"===t,transitionState:t,startViewTransition:function(t){a.ir?(e.current=t,n("capturing-old"),(0,s.RK)((()=>{document.body.classList.add(o.VIF)})),c=!0):t&&t()}}}},68344:(e,t,n)=>{"use strict";n.d(t,{$R:()=>d,PK:()=>A,Qb:()=>v,Tu:()=>g,Vm:()=>h,_5:()=>m,cs:()=>I,jU:()=>y,lw:()=>S,ol:()=>b,tX:()=>C,zd:()=>l});var r=n(14487),o=n(87894),s=n(90709),a=n(29807),i=n(94137),c=n(32989);function u(e,t,n,...[s=(0,r.g0)()]){const i=(0,a.nTw)(e,s).middleSearch.byChatThreadKey;if(!n)return(0,c.w)(e,{middleSearch:{byChatThreadKey:(0,o.cJ)(i,[t])}},s);const{type:u="chat",...d}=n;return(0,c.w)(e,{middleSearch:{byChatThreadKey:{...(0,a.nTw)(e,s).middleSearch.byChatThreadKey,[t]:{type:u,...d}}}},s)}function d(e,t,n,o,...[i=(0,r.g0)()]){const c=(0,s.Wi)(t,n),d=(0,a.nTw)(e,i).middleSearch.byChatThreadKey[c],l={type:"chat",...d,...o};return l.isHashtag||(l.type="chat"),!d||d.type===l.type&&d.savedTag===l.savedTag||(l.results=void 0),u(e,c,l,i)}function l(e,t,n,...[o=(0,r.g0)()]){return u(e,(0,s.Wi)(t,n),{type:"chat"},o)}function f(e,t,n,o,...[s=(0,r.g0)()]){return d(e,t,n,{results:o,fetchingQuery:void 0},s)}function h(e,t,n,i,...[c=(0,r.g0)()]){const u=(0,s.Wi)(t,n),{results:d}=(0,a.nTw)(e,c).middleSearch.byChatThreadKey[u]||{},l=d?.query||"";if(i.query!==l)return f(e,t,n,i,c);const h=d?.foundIds||[],{query:m,foundIds:p,totalCount:g,nextOffsetId:y,nextOffsetPeerId:b,nextOffsetRate:v}=i,w=(0,o.Am)(Array.prototype.concat(h,p));return f(e,t,n,{query:m,foundIds:(0,o.k)(h,w)?h:w,totalCount:g,nextOffsetId:y,nextOffsetRate:v,nextOffsetPeerId:b},c)}function m(e,t,n,...[o=(0,r.g0)()]){return u(e,(0,s.Wi)(t,n),void 0,o)}function p(e,t,n,o,...[i=(0,r.g0)()]){const u=(0,s.Wi)(t,n);return(0,c.w)(e,{sharedMediaSearch:{byChatThreadKey:{...(0,a.nTw)(e,i).sharedMediaSearch.byChatThreadKey,[u]:o}}},i)}function g(e,t,n,o,...[i=(0,r.g0)()]){const c=(0,s.Wi)(t,n);return p(e,t,n,{...(0,a.nTw)(e,i).sharedMediaSearch.byChatThreadKey[c],currentType:o},i)}function y(e,t,n,i,c,u,d,...[l=(0,r.g0)()]){const f=(0,s.Wi)(t,n),{resultsByType:h}=(0,a.nTw)(e,l).sharedMediaSearch.byChatThreadKey[f]||{},m=h?.[i]?h[i].foundIds:[],g=(0,o.Am)(Array.prototype.concat(m,c)).sort(((e,t)=>t-e));return function(e,t,n,o,i,c,u,...[d=(0,r.g0)()]){const l=(0,s.Wi)(t,n);return p(e,t,n,{...(0,a.nTw)(e,d).sharedMediaSearch.byChatThreadKey[l],resultsByType:{...((0,a.nTw)(e,d).sharedMediaSearch.byChatThreadKey[l]||{}).resultsByType,[o]:{foundIds:i,totalCount:c,nextOffsetId:u}}},d)}(e,t,n,i,(0,o.k)(m,g)?m:g,u,d,l)}function b(e,t,n){if(!n)return{foundIds:e,loadingState:t};const r=(0,o.Am)(Array.prototype.concat(n.foundIds,e)).sort(((e,t)=>e-t));(0,o.k)(n.foundIds,e)||(n.foundIds=r);const s={areAllItemsLoadedForwards:t.areAllItemsLoadedForwards||n.loadingState.areAllItemsLoadedForwards,areAllItemsLoadedBackwards:t.areAllItemsLoadedBackwards||n.loadingState.areAllItemsLoadedBackwards};return n.loadingState=s,n}function v(e,t,n,i,c,...[u=(0,r.g0)()]){const d=function(e,t){return t.reduce(((t,n)=>((0,o.h8)(n.foundIds,e.foundIds)?e=b(e.foundIds,e.loadingState,n):t.push(n),t)),[])}(i,c.segments);return function(e,t,n,o,i,...[c=(0,r.g0)()]){const u=(0,s.Wi)(t,n);return E(e,t,n,{...(0,a.nTw)(e,c).chatMediaSearch.byChatThreadKey[u],currentSegment:o,segments:i},c)}(e,t,n,i,d,u)}function w(e,t){const n=t.foundIds.filter((t=>t!==e));return{...t,foundIds:n}}function I(e,t,n,o,...[s=(0,r.g0)()]){const a=(0,i.f5)(e,t,n,s);if(!a)return e;const c=function(e,t){const n=w(e,t.currentSegment),r=t.segments.map((t=>w(e,t)));return{...t,currentSegment:n,segments:r}}(o,a);return E(e,t,n,c,s)}function A(e,t,n,o,...[a=(0,r.g0)()]){if(!(0,s.iZ)(t))return e;const c=(0,i.f5)(e,n,o,a);return c?(function(e){e.currentSegment.loadingState.areAllItemsLoadedForwards=!1,e.segments.forEach((e=>{e.loadingState.areAllItemsLoadedForwards=!1}))}(c),E(e,n,o,c,a)):e}function C(e,t,n,...[o=(0,r.g0)()]){return E(e,t,n,{currentSegment:{foundIds:[],loadingState:{areAllItemsLoadedForwards:!1,areAllItemsLoadedBackwards:!1}},segments:[],isLoading:!1},o)}function S(e,t,n,o,...[i=(0,r.g0)()]){const c=(0,s.Wi)(t,n),u=(0,a.nTw)(e,i).chatMediaSearch.byChatThreadKey[c];return u?E(e,t,n,{...u,isLoading:o},i):e}function E(e,t,n,o,...[i=(0,r.g0)()]){const u=(0,s.Wi)(t,n);return(0,c.w)(e,{chatMediaSearch:{byChatThreadKey:{...(0,a.nTw)(e,i).chatMediaSearch.byChatThreadKey,[u]:o}}},i)}},70636:(e,t,n)=>{"use strict";n.d(t,{F9:()=>m,PU:()=>f,Q5:()=>g,cy:()=>h,em:()=>p,mO:()=>l,vj:()=>d});var r=n(31481),o=n(43044),s=n(529),a=n(29807),i=n(13439),c=n(62214),u=n(79089);function d(e){return"title"in e}function l(e){return!d(e)}function f({ids:e,query:t,type:n="peer"}){if(!t)return e;const r=(0,i.mS)(),u=(0,o.Yw)(),l=(0,s.l)(t),f="chat"===n?a.hds:"user"===n?a.mBe:a.PVB;return e.filter((e=>{const t=f(r,e);if(!t)return!1;const n=d(t)?(0,c.Js)(u,t):e===r.currentUserId?u("SavedMessages"):void 0,o=n?l(n):void 0,s=p(u,t);return o||s&&l(s)||Boolean(t.usernames?.find((({username:e})=>l(e))))}))}function h(e){return d(e)?"chatTypeBasicGroup"===e.type||"chatTypeSuperGroup"===e.type?"ChatList.PeerTypeGroup":"chatTypeChannel"===e.type?"ChatList.PeerTypeChannel":"chatTypePrivate"===e.type?"ChatList.PeerTypeNonContact":void 0:e.id===r.zv8?"ServiceNotifications":e.isSupport?"SupportStatus":e.type&&"userTypeBot"===e.type?"ChatList.PeerTypeBot":e.isContact?"ChatList.PeerTypeContact":"ChatList.PeerTypeNonContactUser"}function m(e,t){if(t)return"isCustomPeer"in t?t.titleKey?e(t.titleKey):t.title:l(t)?(0,u.u0)(t):(0,c.Js)(e,t)}function p(e,t){if(t)return"isCustomPeer"in t?t.titleKey?e(t.titleKey):t.title:l(t)?(0,u.Yg)(t):(0,c.Js)(e,t)}function g(e,t,n){if(n&&!(0,c.L8)(t)){if(d(n)){if(t===n.id)return;return n.title}return n.isSelf?e("FromYou"):(0,u.u0)(n)}}},70758:(e,t,n)=>{"use strict";function r(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function o(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const o=r(n);return(e,n)=>o.then((r=>n(r.transaction(t,e).objectStore(t))))}let s;function a(){return s||(s=o("keyval-store","keyval")),s}function i(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},r(e.transaction)}n.d(t,{xS:()=>l,qc:()=>u,B6:()=>d});class c{constructor(e){var t,n,r;t=this,r=void 0,(n=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(n="store"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.store=o(e,"store")}set(e,t){return function(e,t,n=a()){return n("readwrite",(n=>(n.put(t,e),r(n.transaction))))}(e,t,this.store)}setMany(e){return function(e,t=a()){return t("readwrite",(t=>(e.forEach((e=>t.put(e[1],e[0]))),r(t.transaction))))}(e,this.store)}get(e){return function(e,t=a()){return t("readonly",(t=>r(t.get(e))))}(e,this.store)}getMany(e){return function(e,t=a()){return t("readonly",(t=>Promise.all(e.map((e=>r(t.get(e)))))))}(e,this.store)}clear(){return function(e=a()){return e("readwrite",(e=>(e.clear(),r(e.transaction))))}(this.store)}del(e){return function(e,t=a()){return t("readwrite",(t=>(t.delete(e),r(t.transaction))))}(e,this.store)}delMany(e){return function(e,t=a()){return t("readwrite",(t=>(e.forEach((e=>t.delete(e))),r(t.transaction))))}(e,this.store)}entries(){return function(e=a()){return e("readonly",(t=>{if(t.getAll&&t.getAllKeys)return Promise.all([r(t.getAllKeys()),r(t.getAll())]).then((([e,t])=>e.map(((e,n)=>[e,t[n]]))));const n=[];return e("readonly",(e=>i(e,(e=>n.push([e.key,e.value]))).then((()=>n))))}))}(this.store)}keys(){return function(e=a()){return e("readonly",(e=>{if(e.getAllKeys)return r(e.getAllKeys());const t=[];return i(e,(e=>t.push(e.key))).then((()=>t))}))}(this.store)}values(){return function(e=a()){return e("readonly",(e=>{if(e.getAll)return r(e.getAll());const t=[];return i(e,(e=>t.push(e.value))).then((()=>t))}))}(this.store)}update(e,t){return function(e,t,n=a()){return n("readwrite",(n=>new Promise(((o,s)=>{n.get(e).onsuccess=function(){try{n.put(t(this.result),e),o(r(n.transaction))}catch(e){s(e)}}}))))}(e,t,this.store)}}const u=new c("tt-data"),d=new c("tt-passcode"),l=new c("tt-chatai-data")},70874:(e,t,n)=>{"use strict";n.d(t,{W:()=>i,j:()=>a});var r=n(23174),o=n(21309);const s=/\b(?:(\d{1,2}):)?([0-5]?\d):([0-5]\d)\b/g;function a(e){const t={text:e.text,entities:e.entities?.filter((e=>e.type!==r.C7.Timestamp))||[]},n=t.text;for(const e of n.matchAll(s)){const n=e[0],s=e[1],a=e[2],i=e[3],c=e.index??0,u=n.length,d=parseInt(a,10),l=parseInt(i,10);if(d>59||l>59)continue;let f;if(void 0!==s){const e=parseInt(s,10);f=(0,o.Sy)(e,d,l)}else f=(0,o.Sy)(0,d,l);let h=!1;for(const e of t.entities)if(c<e.offset+e.length&&c+u>e.offset){h=!0;break}if(h)continue;const m={type:r.C7.Timestamp,offset:c,length:u,timestamp:f};let p=!1;for(let e=0;e<t.entities.length;e++)if(c<t.entities[e].offset){t.entities.splice(e,0,m),p=!0;break}p||t.entities.push(m)}return t}function i(e){if(!(e=e.trim()).startsWith("-")&&Number.isInteger(Number(e)))return parseInt(e,10);if(e.includes(":")){const t=e.split(":");if(2===t.length){const e=parseInt(t[0],10),n=parseInt(t[1],10);if(Number.isNaN(e)||Number.isNaN(n)||e<0||n<0||n>=60)return;return 60*e+n}if(3===t.length){const e=parseInt(t[0],10),n=parseInt(t[1],10),r=parseInt(t[2],10);if(Number.isNaN(e)||Number.isNaN(n)||Number.isNaN(r)||e<0||n<0||r<0||n>=60||r>=60)return;return 3600*e+60*n+r}return}const t=e.match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/i);if(!t)return;const n=t[1]?parseInt(t[1],10):0,r=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0;return Number.isNaN(n)||Number.isNaN(r)||Number.isNaN(o)||r>=60||o>=60?void 0:3600*n+60*r+o}},70934:(e,t,n)=>{"use strict";n.d(t,{H:()=>w,IG:()=>f,Mv:()=>u,UQ:()=>p,WN:()=>y,dl:()=>d,m:()=>g,tn:()=>l,ug:()=>m,yp:()=>h});var r=n(31481),o=n(70758),s=n(74824);const a=12,i="harder better faster stronger";let c;class u extends Error{}function d(){return c}function l(e){c=e}async function f(e){c=await b(e)}async function h(e,t){if(!c)throw console.error("[api/passcode] Missing current passcode"),new Error("[api/passcode] Missing current passcode");await Promise.all([(async()=>{if(!e)return;const t=await A(e,c);await v("sessionEncrypted",t)})(),(async()=>{if(!t)return;const e=await A(t,c);await v("globalEncrypted",e)})()])}async function m(){if(!c)throw console.error("[api/passcode] Missing current passcode"),new Error("[api/passcode] Missing current passcode");const[e,t]=await Promise.all([I("sessionEncrypted"),I("globalEncrypted")]);if(!e||!t)throw console.error("[api/passcode] Missing required stored fields"),new Error("[api/passcode] Missing required stored fields");try{const[n,r]=await Promise.all([C(e,c),C(t,c)]);return{sessionJson:n,globalJson:r}}catch(e){throw console.error("[api/passcode] Error decrypting session",e),e}}async function p(e){const t=await b(e),[n,r]=await Promise.all([I("sessionEncrypted"),I("globalEncrypted")]);if(!n||!r)throw console.error("[api/passcode] Missing required stored fields"),new u("[api/passcode] Missing required stored fields");try{const[e,o]=await Promise.all([C(n,t),C(r,t)]);return c=t,{sessionJson:e,globalJson:o}}catch(e){throw console.error("[api/passcode] Error decrypting session",e),e}}function g(){c=void 0}function y(){return g(),o.B6.clear(),s.clear(r.oBq)}function b(e){return crypto.subtle.digest("SHA-256",(new TextEncoder).encode(`${e}${i}`))}function v(e,t){const n=Array.from(new Uint8Array(t));o.B6.set(e,n)}function w(){return o.B6.get("sessionEncrypted")}async function I(e){const t=await o.B6.get(e);return t?new Uint8Array(t).buffer:s.fetch(r.oBq,e,s.Type.ArrayBuffer)}async function A(e,t){const n=crypto.getRandomValues(new Uint8Array(a)),r={name:"AES-GCM",iv:n},o=await crypto.subtle.importKey("raw",t,r,!1,["encrypt"]),s=(new TextEncoder).encode(e),i=await crypto.subtle.encrypt(r,o,s),c=new Uint8Array(i),u=new Uint8Array(a+c.length);return u.set(n,0),u.set(c,a),u.buffer}async function C(e,t){const n=new Uint8Array(e),r={name:"AES-GCM",iv:n.slice(0,a)},o=await crypto.subtle.importKey("raw",t,r,!1,["decrypt"]),s=n.slice(a),i=await crypto.subtle.decrypt(r,o,s);return(new TextDecoder).decode(i)}},71322:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>m,E2:()=>l,dD:()=>f});var r=n(66644);const o=JSON.parse('{"--color-primary":["#3390EC","#8774E1"],"--color-primary-opacity":["#50A2E91E","#8378DB1E"],"--color-primary-opacity-hover":["#50A2E940","#8378DB40"],"--color-primary-tint":["#3390ec1a","#8774e11a"],"--color-primary-shade":["#4a95d6","#7b71c6"],"--color-background":["#FFFFFF","#212121"],"--color-background-compact-menu":["#FFFFFFBB","#212121DD"],"--color-web-app-browser":["#FFFFFFBB","#0303038F"],"--color-background-compact-menu-reactions":["#FFFFFFEB","#212121DD"],"--color-background-compact-menu-hover":["#00000011","#00000066"],"--color-background-secondary":["#f4f4f5","#0F0F0F"],"--color-background-secondary-accent":["#E4E4E5","#191919"],"--color-background-own":["#EEFFDE","#766AC8"],"--color-background-own-apple":["#DCF8C5","#766AC8"],"--color-background-selected":["#F4F4F5","#2C2C2C"],"--color-background-own-selected":["#d0ffac","#6549d4"],"--color-chat-hover":["#F4F4F5","#2C2C2C"],"--color-chat-active":["#3390EC","#766AC8"],"--color-chat-active-greyed":["#60a7f0","#9288d3"],"--color-item-hover":["#f4f4f5","#2c2c2c"],"--color-item-active":["#ededed","#292929"],"--color-text":["#000000","#FFFFFF"],"--color-text-secondary":["#707579","#AAAAAA"],"--color-icon-secondary":["#707579","#AAAAAA"],"--color-text-secondary-apple":["#8E8E92","#AAAAAA"],"--color-borders":["#DADCE0","#303030"],"--color-borders-input":["#DADCE0","#5B5B5A"],"--color-dividers":["#C8C6CC","#3B3B3D"],"--color-dividers-android":["#E7E7E7","#0F0F0F"],"--color-links":["#3390EC","#8774E1"],"--color-gray":["#C4C9CC","#717579"],"--color-list-icon":["#ABAFB1","#A2A2A2"],"--color-default-shadow":["#72727240","#1010109c"],"--color-light-shadow":["#7272722B","#00000040"],"--color-green":["#00C73E","#8774E1"],"--color-green-darker":["#00a734","#7b71c6"],"--color-success":["#00C73E","#00C73E"],"--color-text-meta-colored":["#4DCD5E","#8378DB"],"--color-reply-hover":["#F4F4F4","#272727"],"--color-reply-active":["#E8E9E9","#2E2F2F"],"--color-reply-own-hover":["#D9F5CE","#8775DA"],"--color-reply-own-hover-apple":["#cbefb7","#8775DA"],"--color-reply-own-active":["#C5ECBE","#917DEA"],"--color-reply-own-active-apple":["#bae6a8","#917DEA"],"--color-accent-own":["#45AF54","#FFFFFF"],"--color-message-meta-own":["#4FAE4EFF","#FFFFFF88"],"--color-own-links":["#3390EC","#FFFFFF"],"--color-code":["#4a729a","#8774E1"],"--color-code-own":["#3c7940","#FFFFFF"],"--color-code-bg":["#70757914","#00000080"],"--color-code-own-bg":["#70757914","#00000050"],"--color-composer-button":["#707579CC","#AAAAAACC"],"--color-message-reaction":["#ebf3fd","#2b2a35"],"--color-message-reaction-hover":["#c5def9","#343147"],"--color-message-reaction-own":["#c6eab2","#675CAF"],"--color-message-reaction-hover-own":["#b5e0a4","#5B529B"],"--color-message-reaction-chosen-hover":["#1a82ea","#7864dd"],"--color-message-reaction-chosen-hover-own":["#3f9d4b","#f5f5f5"],"--color-message-non-contact":["#cceebf","#AAAAAA"],"--color-voice-transcribe-button":["#e8f3ff","#2a2a3c"],"--color-voice-transcribe-button-own":["#cceebf","#8373d3"],"--color-topic-blue":["#2F7772","#6ff9f0"],"--color-topic-yellow":["#7F693B","#ffd67e"],"--color-topic-violet":["#8B5A96","#cb86db"],"--color-topic-green":["#44774A","#8eee98"],"--color-topic-rose":["#9B576B","#ff93b2"],"--color-topic-red":["#EB6858","#fb6f5f"],"--color-topic-grey":["#6C6C6C","#999999"],"--color-forum-unread-topic-hover":["#e9e9e9","#363636"],"--color-forum-hover-unread-topic-hover":["#e2e2e2","#3f3f3f"],"--color-chat-username":["#3C7EB0","#E9EEF4"],"--color-borders-read-story":["#C4C9CC","#737373"],"--color-background-menu-separator":["#0000001a","#ffffff1a"],"--color-hover-overlay":["#00000006","#ffffff06"],"--color-urgent-message-bg":["#FFF9F9","#120505"],"--color-urgent-message-border":["#FFC7C7","#270F0F"],"--color-aichatfolders-tag-bg-active":["#3290EC","#8774E1"],"--color-aichatfolders-tag-bg":["#EFF8FE","#3C3C3C"],"--color-aichatfolders-tag-text":["#000000","#ffffff"],"--color-aichatfolders-tag-border":["#ffffff","#212121"],"--color-aichatfolders-tag-close-color":["#00000029","#FFFFFF33"]}');var s=n(19822),a=n(43336);let i=!1;const c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,u=new Set(["--color-text","--color-primary-shade","--color-text-secondary","--color-accent-own"]),d=Object.keys(o).map((e=>({property:e,colors:[l(o[e][0]),l(o[e][1])]})));function l(e){const t=c.exec(e);return{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:void 0!==t[4]?parseInt(t[4],16):void 0}}function f(e,t,n){return{r:Math.round((0,a.Cc)(e.r,t.r,n)),g:Math.round((0,a.Cc)(e.g,t.g,n)),b:Math.round((0,a.Cc)(e.b,t.b,n)),a:void 0!==e.a?Math.round((0,a.Cc)(e.a,t.a,n)):void 0}}function h(e,t,n=1){d.forEach((({property:r,colors:o})=>{const{r:s,g:a,b:i,a:c}=f(o[e],o[t],n),d=void 0!==c?Math.round(c/255*1e3)/1e3:void 0;document.documentElement.style.setProperty(r,`rgb(${s},${a},${i}${d?`,${d}`:""})`),u.has(r)&&document.documentElement.style.setProperty(`${r}-rgb`,`${s},${a},${i}`)}))}const m=(e,t)=>{const n=`theme-${e}`;if(document.documentElement.classList.contains(n))return;const o="dark"===e,a=i&&t,c=o?0:1,u=o?1:0,d=Date.now(),l=document.querySelector('meta[name="theme-color"]');(0,r.RK)((()=>{let e;document.documentElement.classList.remove("theme-"+(o?"light":"dark")),i&&(e=(()=>{const e=document.createElement("style");return e.textContent="\n.no-animations #root *,\n.no-animations #root *::before,\n.no-animations #root *::after {\n  transition: none !important;\n}",document.head.appendChild(e),()=>{document.head.removeChild(e)}})(),document.documentElement.classList.add("no-animations")),document.documentElement.classList.add(n),l&&l.setAttribute("content",o?"#212121":"#fff"),setTimeout((()=>{(0,r.RK)((()=>{e?.(),document.documentElement.classList.remove("no-animations")}))}),500),i=!0,a?(0,s.i0)((()=>{const e=Math.min((Date.now()-d)/200,1);return h(c,u,function(e){return 1-(1-e)**3.5}(e)),e<1}),r.RK):h(c,u)}))}},71429:(e,t,n)=>{"use strict";n.d(t,{A:()=>I});var r=n(84051),o=n(96454),s=n(87357),a=n(11778),i=n(54464),c=n(43874),u=n(82117),d=n(26072),l=n(10328),f=n(17712),h=n(61433),m=n(66644),p=n(41257);const g={width:0,left:0,height:0,top:0};function y(e,t,{positionX:n="left",positionY:r="top",transformOriginX:o,transformOriginY:s,style:a,bubbleStyle:i}){const c=e.current,u=t.current;a&&(c.style.cssText=a),i&&(u.style.cssText=i),n&&(0,h.YM)(u,n),r&&(0,h.YM)(u,r),(0,h.Tv)(u,{transformOrigin:[o?`${o}px`:n,s?`${s}px`:r].join(" ")})}var b=n(21511),v=n(22802),w=n(3325);const I=(0,r.ph)((({ref:e,shouldCloseFast:t,isOpen:n,id:h,className:I,bubbleClassName:A,ariaLabelledBy:C,children:S,autoClose:E=!1,footer:k,noCloseOnBackdrop:P=!1,backdropExcludedSelector:T,noCompact:M,onCloseAnimationEnd:x,onClose:N,onMouseEnter:L,onMouseLeave:_,withPortal:B,onMouseEnterBackdrop:F,...D})=>{const{isTouchScreen:O}=(0,c.Ay)(),R=(0,r.li)(null),{ref:j}=(0,b.A)({isOpen:n,ref:e,onCloseAnimationEnd:x});(function(e,t,n,o){const s=(0,p.i)(o);(0,r.Nf)((()=>{if(!e)return;const r=s.current;"getTriggerElement"in r?(0,m.gm)((()=>{const e=function(e,t,{anchor:n,getRootElement:r,getMenuElement:o,getTriggerElement:s,getLayout:a,withMaxHeight:i}){const c=s();let{x:u,y:d}=n;const l=u,f=d,h=o(),m=r(),{extraPaddingX:p=0,extraTopPadding:y=0,extraMarginTop:b=0,topShiftY:v=0,menuElMinWidth:w=0,deltaX:I=0,shouldAvoidNegativePosition:A=!1,withPortal:C=!1,isDense:S=!1}=a?.()||{},E=h?parseInt(getComputedStyle(h).marginTop,10)+b:void 0,{offsetWidth:k,offsetHeight:P}=h||{offsetWidth:0,offsetHeight:0},T=h?{width:Math.max(k,w),height:P+E}:g,M=m?m.getBoundingClientRect():g;let x,N;S||u+T.width+p<M.width+M.left?(u+=3,x="left"):u-T.width-M.left>0?(x="right",u-=3):(x="left",u=16),u+=I;const L=d+v;S||L+T.height<M.height+M.top?(N="top",d=L):(N="bottom",d-T.height<M.top+y&&(d=M.top+M.height));const _=c.getBoundingClientRect(),B=C?_.top:0,F=C?_.left:0,D=Math.min(u-_.left,M.width-T.width-16);let O=("left"===x?C||A?Math.max(16,D):D:u-_.left)+F,R=d-_.top+B;S&&(O=Math.min(O,M.width-T.width-16),R=Math.min(R,M.height-T.height-16));const j=w?Math.max(0,(w-k)/2):0;O-j<0&&A&&(O=j+16);const U=l+F-_.left-O,$=f+B-_.top-R-(E||0),z="left"===x?U:T.width+U,V="bottom"===N?T.height+$:$,W=`left: ${O}px; top: ${R}px`;let H;return i&&(H=`max-height: ${M.height-12-(E||0)}px;`),{positionX:x,positionY:N,transformOriginX:z,transformOriginY:V,style:W,bubbleStyle:H}}(0,0,r);return()=>{y(t,n,e)}})):y(t,n,r)}),[e,t,n,s])})(n,R,j,D),(0,r.vJ)((()=>n?(0,a.A)(N):void 0),[n,N]),(0,d.A)({isActive:n,onBack:N,shouldBeReplaced:!0}),(0,u.A)((([e])=>{(n||!n&&!0===e)&&(0,r.VK)(200)}),[n]);const U=(0,l.A)(j,n,E?N:void 0,void 0,!0);(0,v.A)(n,R,P?void 0:N,void 0,T);const $=(0,s.A)("bubble menu-container custom-scroll",k&&"with-footer",A,t&&"close-fast"),z=(0,f.A)((e=>{e.stopPropagation(),E&&N()})),V=r.Ay.createElement("div",{ref:R,id:h,className:(0,s.A)("Menu",!M&&!O&&"compact",!o.Fy&&"no-blur",B&&"in-portal",I),"aria-labelledby":C,role:C?"menu":void 0,onKeyDown:n?U:void 0,onMouseEnter:L,onMouseLeave:n?_:void 0},n&&r.Ay.createElement("div",{className:"backdrop",onMouseDown:i.u,onMouseEnter:F}),r.Ay.createElement("div",{role:"presentation",ref:j,className:$,onClick:z},S,k&&r.Ay.createElement("div",{className:"footer"},k)));return B?r.Ay.createElement(w.A,null,V):V}))},71533:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(84051),o=n(22986),s=n(80853),a=n(37836),i=n(17712);const c=(e=!1,t,n)=>{const[c,u]=(0,r.J0)(!e),[d,l]=(0,r.J0)(!1),[f,h]=(0,r.J0)(0),[m,p]=(0,r.J0)([]),g=(0,r.Kr)((()=>(0,a.sg)(u,200,!1,!0)),[]),y=(0,i.A)((e=>{const r=e.currentTarget;if(r.duration<.1)n?.();else if("timeupdate"===e.type&&t?.(e),!(0,s.f)(r)){if(r.buffered.length){const e=function(e,t){const n=[];for(let r=0;r<e.length;r++)n.push({start:e.start(r)/t,end:e.end(r)/t});return n}(r.buffered,r.duration),t=e.reduce(((e,{start:t,end:n})=>e+n-t),0);h(t/r.duration),p((t=>(0,o.T)(t,e)?t:e))}g(r.readyState>=3||r.currentTime>0),l((e=>e||r.readyState>3))}}));return{isReady:d,isBuffered:c,bufferedProgress:f,bufferedRanges:m,bufferingHandlers:{onPLay:y,onLoadedData:y,onPlaying:y,onLoadStart:y,onPause:y,onTimeUpdate:y,onProgress:y},checkBuffering(e){g(e.readyState>=3)}}}},72531:(e,t,n)=>{"use strict";function r(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>a,E:()=>o});let o=function(e){return e.HideMenu="HideMenu",e.ShowMenu="ShowMenu",e.ShowTranslateModal="ShowTranslateModal",e.ChatAIStoreReady="ChatAIStoreReady",e.NewTextMessage="NewTextMessage",e.AddUrgentMessage="AddUrgentMessage",e.AddSummaryMessage="AddSummaryMessage",e.UpdateSummaryChats="UpdateSummaryChats",e.CreateCalendarSuccess="CreateCalendarSuccess",e.GoogleAuthSuccess="GoogleAuthSuccess",e.UpdateGoogleToken="UpdateGoogleToken",e.AddRoomAIMessage="AddRoomAIMessage",e.UpdateRoomAIUnreadCount="UpdateRoomAIUnreadCount",e}({});class s{constructor(){r(this,"events",void 0),this.events={}}on(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}emit(e,...t){this.events[e]&&this.events[e].forEach((e=>e(...t)))}off(e,t){this.events[e]&&(this.events[e]=this.events[e].filter((e=>e!==t)))}once(e,t){const n=(...r)=>{t(...r),this.off(e,n)};this.on(e,n)}static getInstance(){return s.instance||(s.instance=new s),s.instance}}r(s,"instance",void 0);const a=s.getInstance()},73622:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(9935),o=n(84051),s=n(39761),a=n(41257);function i(e,t){const n=(0,a.i)(t);(0,o.Nf)((()=>{const t=e.current;if(t)return()=>{const e=n.current;e&&Object.entries(e).forEach((([e,n])=>{t.removeEventListener((0,r.xE)(e,t),n,!1)})),(0,o.qF)((()=>{(0,s.A)(t)}))}}),[n,e])}},73767:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(84051);const o=function(e,t){const n=(0,r.li)(),{current:o}=n;return t&&void 0===e||(n.current=e),o}},74065:(e,t,n)=>{"use strict";n.d(t,{E:()=>h});var r=n(31481),o=n(37836);const s=new Map,a=new Map,i=new Map,c=document.createElement("style");function u(e,t,n){n?(s.delete(e),a.set(e,t),i.set(e,n)):(s.set(e,t),a.delete(e),i.delete(e)),d||(d=!0,(0,o.IJ)(l))}document.head.appendChild(c);let d=!1;function l(){const e=f(s),t=f(a),n=f(i);c.textContent=`\n    html {\n      ${e}\n    }\n\n    html.theme-light {\n      ${t}\n    }\n\n    html.theme-dark {\n      ${n}\n    }\n  `}function f(e){return Array.from(e.entries()).map((([e,t])=>`--${e}: ${t};`)).join(" ")}function h(e){m("0",["#D45246"]),m("1",["#F68136"]),m("2",["#6C61DF"]),m("3",["#46BA43"]),m("4",["#5CAFFA"]),m("5",["#408ACF"]),m("6",["#D95574"]),Object.entries(e).forEach((([e,t])=>{t.colors&&m(e,t.colors,t.darkColors)}))}function m(e,t,n){const o=t[0],s=n?.[0];if(!o)return;const a=`${o}${r.tP8}`,i=s?`${s}${r.tP8}`:void 0,c=`${o}${r.g0p}`,d=s?`${s}${r.g0p}`:void 0;if(u(`color-peer-${e}`,o,s),u(`color-peer-bg-${e}`,a,i),u(`color-peer-bg-active-${e}`,c,d),t.length>1){const o=t.map(((e,t)=>`${e} ${t*r.D$I}px, ${e} ${(t+1)*r.D$I}px`)),s=n?.map(((e,t)=>`${e} ${t*r.D$I}px, ${e} ${(t+1)*r.D$I}px`));u(`color-peer-gradient-${e}`,`repeating-linear-gradient(-45deg, ${o.join(", ")})`,s?`repeating-linear-gradient(-45deg, ${s.join(", ")})`:void 0)}}},74824:(e,t,n)=>{"use strict";n.d(t,{Type:()=>u,clear:()=>f,fetch:()=>d,isCacheApiSupported:()=>c,save:()=>l});var r=n(31481),o=n(4350);const s=self.caches,a=o.Xz?`_${o.Xz}`:"";let i;async function c(){return!!s&&(i=i??await s.has("test").then((()=>!0)).catch((()=>!1)),i)}let u=function(e){return e[e.Text=0]="Text",e[e.Blob=1]="Blob",e[e.Json=2]="Json",e[e.ArrayBuffer=3]="ArrayBuffer",e}({});async function d(e,t,n,o=!1){if(s)try{const i=r.jht?`${r.uyj}/${t.replace(/:/g,"_")}`:new Request(t.replace(/:/g,"_")),c=await s.open(`${e}${a}`),d=await c.match(i);if(!d)return;const l=d.headers.get("Content-Type");switch(n){case u.Text:return await d.text();case u.Blob:{if(t.startsWith("avatar")&&l&&l.startsWith("text"))return;const e=await d.blob(),n=!e.type||!o&&e.type.includes("html");let r=e.type||l;return n&&r?(o||(r=r.replace(/html/gi,"")),new Blob([e],{type:r})):e}case u.Json:return await d.json();case u.ArrayBuffer:return await d.arrayBuffer();default:return}}catch(e){return void console.warn(e)}}async function l(e,t,n){if(!s)return!1;try{const o="string"==typeof n||n instanceof Blob||n instanceof ArrayBuffer?n:JSON.stringify(n),i=r.jht?`${r.uyj}/${t.replace(/:/g,"_")}`:new Request(t.replace(/:/g,"_")),c=new Response(o),u=await s.open(`${e}${a}`);return await u.put(i,c),!0}catch(e){return console.warn(e),!1}}async function f(e){try{if(!s)return;return await s.delete(`${e}${a}`)}catch(e){return void console.warn(e)}}},74936:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(84051),o=n(23174),s=n(31481),a=n(90709),i=n(58849),c=n(18501),u=n(35297),d=n(14745);const l=(0,r.ph)((function({messageOrStory:e,translatedText:t,isForAnimation:n,emojiSize:l,highlight:f,asPreview:h,truncateLength:m,isProtected:p,observeIntersectionForLoading:g,observeIntersectionForPlaying:y,withTranslucentThumbs:b,shouldRenderAsHtml:v,inChatList:w,forcePlayback:I,focusedQuote:A,focusedQuoteOffset:C,isInSelectMode:S,canBeEmpty:E,maxTimestamp:k,threadId:P}){const T=(0,r.li)(null),M=(0,r.li)(null),x=(0,r.li)(0),N=t||(0,a.Sb)(e,w),L=n&&N?(0,a.m4)(N):N,{text:_,entities:B}=L||{},F=(0,r.Kr)((()=>{if(!_||!A)return B;const e=_.indexOf(A,C),t=A.length;return e>=0?(0,c.kf)(B||[],{offset:e,length:t,type:o.C7.QuoteFocus}):B}),[_,B,A,C]),D=(0,d.A)();(0,u.A)((()=>{x.current+=1}),[_,F]);const O=(0,r.Kr)((()=>{const e=F?.some((e=>e.type===o.C7.Spoiler));return!e&&(F?.filter((e=>e.type===o.C7.CustomEmoji)).length||0)>=3}),[F])||0;return _||E?r.Ay.createElement(r.Ay.Fragment,null,[O&&r.Ay.createElement("canvas",{ref:T,className:"shared-canvas"}),O&&r.Ay.createElement("canvas",{ref:M,className:"shared-canvas"}),(0,c.fd)({text:(0,i.A)(_,m),entities:F,highlight:f,emojiSize:l,shouldRenderAsHtml:v,containerId:D,asPreview:h,isProtected:p,observeIntersectionForLoading:g,observeIntersectionForPlaying:y,withTranslucentThumbs:b,sharedCanvasRef:T,sharedCanvasHqRef:M,cacheBuster:x.current.toString(),forcePlayback:I,isInSelectMode:S,maxTimestamp:k,chatId:"chatId"in e?e.chatId:void 0,messageId:e.id,threadId:P})].flat().filter(Boolean)):r.Ay.createElement("span",{className:"content-unsupported"},s.bVP)}))},75357:(e,t,n)=>{"use strict";n.d(t,{oA:()=>l,Z3:()=>d,Uj:()=>f,dL:()=>m,A:()=>u});const r={Element:{props:["clientLeft","clientTop","clientWidth","clientHeight","scrollWidth","scrollHeight","scrollLeft","scrollTop"],methods:["getClientRects","getBoundingClientRect","scrollBy","scrollTo","scrollIntoView","scrollIntoViewIfNeeded"]},HTMLElement:{props:["offsetLeft","offsetTop","offsetWidth","offsetHeight","offsetParent","innerText"],methods:["focus"]},window:{props:["scrollX","scrollY","innerHeight","innerWidth"],methods:["getComputedStyle"]},VisualViewport:{props:["height","width","offsetTop","offsetLeft"]},Document:{props:["scrollingElement"],methods:["elementFromPoint"]},HTMLInputElement:{methods:["select"]},MouseEvent:{props:["layerX","layerY","offsetX","offsetY"]},Range:{methods:["getClientRects","getBoundingClientRect"]}};let o=console.error;const s=new Map;let a,i="measure",c=!1;function u(e){i=e}function d(){c||(c=!0,Object.entries(r).forEach((([e,t])=>{const n=window[e];if(!n)return;const r="object"==typeof n?n:n.prototype;"props"in t&&t.props.forEach((t=>{const n=Object.getOwnPropertyDescriptor(r,t)?.get;n&&(s.set(`${e}#${t}`,n),Object.defineProperty(r,t,{get(){return p(t),n.call(this)}}))})),"methods"in t&&t.methods.forEach((t=>{const n=r[t];s.set(`${e}#${t}`,n),r[t]=function(...e){return p(t),n.apply(this,e)}}))})),a=new MutationObserver((e=>{"mutate"!==i&&e.forEach((({target:e,type:t,attributeName:n})=>{document.contains(e)&&("attributes"===t&&"style"===n||h.has(e)||"childList"===t&&e instanceof HTMLElement&&e.contentEditable||n?.startsWith("data-")||o(new Error(`Unexpected mutation detected: \`${"attributes"===t?n:t}\``)))})),h.clear()})),a.observe(document.body,{childList:!0,attributes:!0,subtree:!0,characterData:!1}))}function l(){c&&(a?.disconnect(),a=void 0,Object.entries(r).forEach((([e,t])=>{const n=window[e];if(!n)return;const r="object"==typeof n?n:n.prototype;"props"in t&&t.props.forEach((t=>{const n=s.get(`${e}#${t}`);n&&Object.defineProperty(r,t,{get:n})})),"methods"in t&&t.methods.forEach((t=>{r[t]=s.get(`${e}#${t}`)}))})),s.clear(),c=!1)}function f(e){if("mutate"!==i)throw new Error("The current phase is 'measure'");i="measure";const t=e();return i="mutate",t}const h=new Set;function m(e,t){if("measure"!==i)throw new Error("The current phase is 'mutate'");return c&&(Array.isArray(t)?t.forEach((e=>{h.add(e)})):h.add(t)),e()}function p(e){"measure"!==i&&o(new Error(`Unexpected measurement detected: \`${e}\``))}},76023:(e,t,n)=>{"use strict";n.d(t,{$:()=>c,$w:()=>S,AC:()=>h,Wd:()=>u,_e:()=>f,bu:()=>x,cf:()=>l,ck:()=>E,kn:()=>C,ky:()=>L,mr:()=>T,rO:()=>k,ri:()=>P,sk:()=>N,tP:()=>M,w4:()=>A,wy:()=>i});var r=n(31481),o=n(90709),s=n(96454),a=n(43503);const i="(max-height: 640px)",c=parseInt(getComputedStyle(document.documentElement).fontSize,10),u=240,d=300,l={width:640,height:640},f={width:800,height:800},h="4986041492570112461",m={width:100,height:100},p=4.5,g=7,y=29,b=30;let v,w,I;function A(e,t,n,r){const o=t?1.625:0,s=function(e,t,n){if(!n)return e?b:y;const{width:r}=a.A.get();return v||(v=Math.min(b,r/c-p)),w||(w=Math.min(y,r/c-g)),I||(I=Math.min(y,r/c-p)),e?v:t?I:w}(e,n,r)-o;return s*c}function C({width:e,height:t,fromOwnMessage:n,isWebPageMedia:r,isGif:o,noAvatars:s,isMobile:a}){const i=t/e,u=A(n,r,s,a),l=function(e,t){return e&&t&&t>=.75&&t<=1.25?20*c:27*c}(o,i),f=o?Math.max(d,e):e;return L(u,l,f,o?t*(f/e):t)}function S(e,t){const n=window.matchMedia(i),{width:r,height:o}=a.A.get();let u=t&&n.matches?10:8.25;return e&&!s.TF&&(u=n.matches?10:12.5),{width:r,height:o-u*c}}function E(e,t,n,r,s,a){const{width:i,height:c}=(0,o.xi)(e)||m;return C({width:i,height:c,fromOwnMessage:t,asForwarded:n,isWebPageMedia:r,noAvatars:s,isMobile:a})}function k(e,t,n,r,s,a){const{width:i,height:c}=(0,o.NZ)(e)||m;return C({width:i,height:c,fromOwnMessage:t,asForwarded:n,isWebPageMedia:r,isGif:e.isGif,noAvatars:s,isMobile:a})}function P(e,t,n,r,o,s){const{width:a=m.width,height:i=m.height}=e;return C({width:a,height:i,fromOwnMessage:t,asForwarded:n,isWebPageMedia:r,noAvatars:o,isMobile:s})}function T(){return{width:2*c,height:2*c}}function M(e){return e?{width:3*c,height:3*c}:{width:3.375*c,height:3.375*c}}function x(e,t){const{width:n}=e;let{height:o}=e;e.id===h&&(o=n);const s=o&&n&&o/n,a=c*(t?r.naf:r.H4O),i=s?a*s:a;return s&&i>a?{width:Math.round(a/s),height:a}:{width:a,height:i}}function N({width:e,height:t},n,r=!1){const{width:o,height:s}=S(n,r);return L(o,s,e,t)}function L(e,t,n,r){const o=r/n,s=Math.min(n,e);return Math.round(s*o)>t?{width:Math.round(t/o),height:t}:{width:s,height:Math.round(s*o)}}},76471:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(84051),o=n(31481),s=n(87357),a=n(90603),i=n(14242),c=n(4961),u=n(18276);const d="A72KeAmh",l=(0,r.ph)((({className:e,letterClassName:t,topicId:n,iconColor:l,title:f,onClick:h})=>{const m=(0,a.GR)(l);return n===o.HxB?r.Ay.createElement(u.A,{name:"hashtag",className:(0,s.A)(d,e,"general-forum-icon"),onClick:h}):r.Ay.createElement("div",{className:(0,s.A)(d,e),onClick:h},r.Ay.createElement("img",{className:"eLEPgwPj",src:m,alt:"",draggable:!1}),r.Ay.createElement("div",{className:(0,s.A)("ZQJO2BKn",t,"topic-icon-letter")},(0,c.A)((0,i.Qh)(f,1))))}))},77312:(e,t,n)=>{"use strict";n.d(t,{$r:()=>ue,AB:()=>q,Ax:()=>v,CI:()=>x,Ct:()=>j,Cz:()=>X,Dk:()=>de,EO:()=>B,Fk:()=>se,KG:()=>Z,LK:()=>re,Ml:()=>y,Mw:()=>W,NO:()=>A,NZ:()=>ne,Pg:()=>O,QC:()=>P,Qm:()=>w,Rp:()=>T,T_:()=>S,VD:()=>N,VO:()=>H,Wm:()=>Q,Xn:()=>ee,ZV:()=>u,cs:()=>I,cy:()=>V,dc:()=>k,ed:()=>M,eh:()=>ae,fB:()=>C,fP:()=>p,gB:()=>m,hr:()=>b,iZ:()=>ie,ih:()=>J,lH:()=>oe,lk:()=>f,mR:()=>c,mU:()=>D,mr:()=>U,qG:()=>E,rI:()=>F,r_:()=>i,rt:()=>_,sC:()=>R,sd:()=>ce,si:()=>Y,wp:()=>h,xi:()=>te,y2:()=>L,yl:()=>d,zC:()=>g,zX:()=>l,zb:()=>G});var r=n(23174),o=n(96454),s=n(91525),a=n(86525);function i(e){return e.content}function c(e){return Boolean(d(e)||l(e)||g(e)||p(e)||w(e)||I(e)||function(e){return e.content.action}(e)||h(e)||m(e))}function u(e){const{photo:t,video:n,altVideos:r,audio:o,document:s,text:a,webPage:i,...c}=e.content;return!n?.isRound&&!Object.keys(c).length}function d(e){return e.content.photo}function l(e){return e.content.video}function f(e){const{video:t}=e.content;return t?.isRound?t:void 0}function h(e){return e.content.audio}function m(e){return e.content.voice}function p(e){return e.content.sticker}function g(e){return e.content.document}function y(e){return"photo"===e.innerMediaType}function b(e){return"video"===e.innerMediaType}function v(e){const t=g(e);return t?"image/webp"===t.mimeType:void 0}function w(e){return e.content.contact}function I(e){return e.content.pollId}function A(e){return e.content.invoice}function C(e){return e.content.location}function S(e){return e.content.webPage}function E(e){return e.content.paidMedia}function k(e){return S(e)?.photo}function P(e){return S(e)?.video}function T(e){return S(e)?.audio}function M(e){return d(e)||l(e)||g(e)||p(e)||h(e)||m(e)||k(e)||P(e)||T(e)}function x(e){return function(e){const t=d(e)||l(e)||g(e)||p(e)||k(e)||P(e)||A(e)?.extendedMedia;if(t)return t.thumbnail}(e)?.dataUri}function N(e){return e.thumbnail?.dataUri}function L(e){const t=d(e)||l(e),n=A(e)?.extendedMedia;return Boolean(n||t?.isSpoiler)}function _(e,t,n,r,o){const{long:s,lat:a,accessHash:i,accuracyRadius:c}=e;return`staticMap:${i}?lat=${a}&long=${s}&w=${t}&h=${n}&zoom=${r}&scale=${o}&accuracyRadius=${c}`}function B(e,t){const{video:n,sticker:r,audio:o,voice:s,document:a}=e.content,i=d(e)||k(e),c=function(e){return"suggestProfilePhoto"===e.content.action?.type?e.content.action.photo:void 0}(e),u=n||P(e),l=a||function(e){return S(e)?.document}(e),f=o||T(e);return u?R(u,t):i||c?F(i||c,t,Boolean(c)):l?U(l,t):r?W(r,t):f?$(f,t):s?z(s,t):void 0}function F(e,t,n){const r=`photo${e.id}`,o="photo"===e.mediaType&&e.isVideo;switch(t){case"micro":case"pictogram":return`${r}?size=${n?"a":"m"}`;case"inline":return Z(e)?void 0:`${r}?size=${n?"b":"x"}`;case"preview":return`${r}?size=${n?"b":"x"}`;case"download":return o?O(e):r;default:return r}}function D(e){return`photo${e.id}?size=c`}function O(e){if(e.isVideo)return`photo${e.id}?size=u`}function R(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":return`${n}?size=m`;case"inline":return Z(e)?void 0:K(e,n);case"preview":return`${n}?size=x`;case"download":return`${n}?download`;default:return K(e,n)}}function j(e){return e.hasVideoPreview?`document${e.id}?size=v`:void 0}function U(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":case"inline":case"preview":if(!(0,s.ON)(e)||Z(e))return;return`${n}?size=m`;default:return n}}function $(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":return q(e)?`${n}?size=m`:void 0;case"inline":return K(e,n);case"download":return`${n}?download`;default:return n}}function z(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":return;case"download":return`${n}?download`;default:return n}}function V(e){if(e)return`webDocument:${e.url}`}function W(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":return e.previewPhotoSizes?.some((e=>"s"===e.type))?`${n}?size=s`:W(e,"preview");case"preview":return`${n}?size=m`;case"download":return`${n}?download`;default:return n}}function H(e,t){switch(e.mediaType){case"photo":return F(e,t);case"video":return R(e,t);case"document":return U(e,t);case"audio":return $(e,t);case"voice":return z(e,t);case"sticker":return W(e,t);case"webDocument":return V(e);default:return}}function G(e){const{photo:t}=e;if(t)return`photo${t.id}?size=x`}function J(e){const{document:t}=e;if(t)return`document${t.id}`}function K(e,t){if(o.Uz&&o.Yw){const n=new URL(t,window.location.href);return n.searchParams.append("fileSize",e.size.toString()),n.searchParams.append("mimeType",e.mimeType),n.toString()}return t}function q(e){return e.thumbnailSizes&&e.thumbnailSizes.length>0}function X(e,t){const n="document"===e.mediaType&&"video"===e.innerMediaType,s="video"===e.mediaType||n,a="audio"===e.mediaType,i="voice"===e.mediaType,c=Y(e)||0;return"download"===t?o.Uz&&c>o.kn&&!o.l5?r.qZ.DownloadUrl:r.qZ.BlobUrl:s&&o.Uz&&("full"===t||"inline"===t)?r.qZ.Progressive:a||i?i&&!o.Oo?r.qZ.BlobUrl:r.qZ.Progressive:r.qZ.BlobUrl}function Y(e){return"size"in e?e.size:void 0}function Z(e){return"blobUrl"in e?Boolean(e.blobUrl):"previewBlobUrl"in e&&Boolean(e.previewBlobUrl)}function Q(e,t,n=!1){return oe(e,t,n?"media":"inlineMedia")}function ee(e){return e.sizes.find((e=>"w"===e.type))||e.sizes.find((e=>"y"===e.type))||te(e)}function te(e){return e.sizes.find((e=>"x"===e.type))||e.sizes.find((e=>"m"===e.type))||e.sizes.find((e=>"s"===e.type))||e.thumbnail}function ne(e){if(e.width&&e.height)return e}function re(e,t=!1,n=!1){return{isUploading:n,isTransferring:n||t,transferProgress:Number(e)}}function oe(e,t,n){let r;switch(n){case"media":r=e=>{const t=l(e);return d(e)||t&&!t.isRound&&!t.isGif};break;case"documents":r=g;break;case"links":r=e=>S(e)||(0,a.xH)(e);break;case"audio":r=h;break;case"voice":r=e=>{const t=l(e);return m(e)||t&&t.isRound};break;case"inlineMedia":r=e=>{const t=l(e),n=g(e);return d(e)||t&&!t.isRound&&!t.isGif||n&&y(n)||n&&b(n)};break;default:return[]}return t.reduce(((t,n)=>(e[n]&&r(e[n])&&t.push(n),t)),[])}function se(e){const{audio:t,voice:n,video:r}=i(e),o=t||n||r||P(e)||T(e);if(o)return o.duration}function ae(e,t){const n=Boolean(d(e)||k(e)||Boolean(l(e)||P(e))),r=Boolean(h(e)||m(e)||g(e)),o=(0,a.ES)(t);return n&&("photo"===o||"video"===o)||r&&("audio"===o||"file"===o)}function ie(e){return!(!e.content||!e.content.photo&&(!e.content.video||e.content.video.isRound||e.content.video.isGif))}function ce(e){if("fileName"in e&&e.fileName)return e.fileName;if("sticker"===e.mediaType){const t=e.isLottie?"tgs":e.isVideo?"webm":"webp";return`${e.id}.${t}`}return"photo"===e.mediaType?`${e.id}.${e.isVideo?"mp4":"jpg"}`:"voice"===e.mediaType?`${e.id}.${o.Oo?"ogg":"wav"}`:"id"in e&&e.id?e.id:`${e.mediaType}-${Math.random().toString(36).slice(4)}`}function ue(e,t){const n=H(t,"download");return!!n&&Boolean(e[n])}function de(e){const t=l(e)||P(e);return(!t||t.isRound||t.isGif?void 0:t)||h(e)||m(e)}},77523:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(84051),o=n(96454);const s=e=>{const t=(0,r.li)(!1),n=(0,r.li)(window.screenX),s=(0,r.li)(window.screenY),a=(0,r.li)(0);(0,r.vJ)((()=>{const r=e.current;if(!r||!o.cp||!o.MP)return;const i=e=>{a.current=0,t.current&&(e.preventDefault(),e.stopPropagation(),t.current=!1)},c=e=>{t.current&&(e.preventDefault(),e.stopPropagation())},u=e=>{1===e.buttons&&(a.current+=Math.sqrt((n.current-window.screenX)**2+(s.current-window.screenY)**2),n.current=window.screenX,s.current=window.screenY,!t.current&&a.current>5&&(t.current=!0))},d=e=>{e.currentTarget===e.target&&window.electron?.handleDoubleClick()};return r.addEventListener("click",i),r.addEventListener("mousedown",c),r.addEventListener("mousemove",u),r.addEventListener("dblclick",d),()=>{r.removeEventListener("click",i),r.removeEventListener("mouseup",c),r.removeEventListener("mousemove",u),r.removeEventListener("dblclick",d)}}),[e])}},78376:(e,t,n)=>{"use strict";n.d(t,{w:()=>D});const r=n.p+"QrPlane.a921709f266564f65b7e.tgs",o=n.p+"BannedDuck.8278f2d6451ea282d426.tgs",s=n.p+"CameraFlip.1a9fe44cf01fcb22347d.tgs",a=n.p+"HandFilled.f87939d160f1dc288586.tgs",i=n.p+"HandOutline.f9831751ba60df30c484.tgs",c=n.p+"Speaker.04bb3743412b41ff83c5.tgs",u=n.p+"VoiceAllowTalk.a9cc7c39ec438973ddc9.tgs",d=n.p+"VoiceMini.bf00ffdf69625c579569.tgs",l=n.p+"VoiceMuted.a4b4ec6bfd7c6c5fb275.tgs",f=n.p+"VoiceOutlined.91b394ab3562cdfad6bc.tgs",h=n.p+"Flame.d1a2dae178cb492c75ea.tgs",m=n.p+"Fragment.b1bf3a076c00ef525901.tgs",p=n.p+"Mention.810d50783976689ed870.tgs",g=n.p+"PartyPopper.287e4290662b3d2b269c.tgs",y=n.p+"Invite.4502ec3aa4249d6e6723.tgs",b=n.p+"Requests.af9f19772695a8898810.tgs",v=n.p+"LastSeen.b16ff3c97561138c2406.tgs",w=n.p+"TwoFactorSetupMonkeyClose.604c4c833d322b7e6c3e.tgs",I=n.p+"TwoFactorSetupMonkeyIdle.dea4a492c144df84ddab.tgs",A=n.p+"TwoFactorSetupMonkeyPeek.1905436b042520363d7e.tgs",C=n.p+"TwoFactorSetupMonkeyTracking.eb5a7a6f166fb7589c12.tgs",S=n.p+"ReadTime.015d6e6f73f768f1e9fe.tgs",E=n.p+"Report.4a5dda0227ea86f6fa5e.tgs",k=n.p+"SearchingDuck.bbd2938a3403490d077c.tgs",P=n.p+"Congratulations.b6623b8efc6fedec9d33.tgs",T=n.p+"DiscussionGroupsDucks.9ea453d1be9d1b0ee77a.tgs",M=n.p+"Experimental.43d62096368bf5a00ae3.tgs",x=n.p+"FoldersAll.3f9f9e243d19f0fbf9aa.tgs",N=n.p+"FoldersNew.9a40d71c0c8be70f5bd1.tgs",L=n.p+"FoldersShare.3356f97ced75bf97121c.tgs",_=n.p+"Lock.12547a0228d4fa544e53.tgs",B=n.p+"StarReaction.9079111e9821148b6055.tgs",F=n.p+"StarReactionEffect.8718d0946883c6f031f8.tgs",D={MonkeyIdle:I,MonkeyTracking:C,MonkeyClose:w,MonkeyPeek:A,FoldersAll:x,FoldersNew:N,FoldersShare:L,DiscussionGroups:T,Lock:_,CameraFlip:s,HandFilled:a,HandOutline:i,Speaker:c,VoiceAllowTalk:u,VoiceMini:d,VoiceMuted:l,VoiceOutlined:f,JoinRequest:b,Invite:y,QrPlane:r,Congratulations:P,Experimental:M,PartyPopper:g,Flame:h,ReadTime:S,Unlock:n.p+"Unlock.15931385f7a95ab1a000.tgs",LastSeen:v,Mention:p,Fragment:m,StarReactionEffect:F,StarReaction:B,Report:E,SearchingDuck:k,BannedDuck:o}},78396:(e,t,n)=>{"use strict";n.d(t,{T8:()=>s,aL:()=>o,m4:()=>a});var r=n(23174);function o(e,t){const n=`sticker${e}`;return t?`${n}?size=m`:n}function s(e){return e.entities?.some((e=>e.type===r.C7.CustomEmoji))}function a(e){if(!e.entities)return e;const t=e.entities.filter((e=>e.type!==r.C7.CustomEmoji));return{...e,entities:t}}},79089:(e,t,n)=>{"use strict";n.d(t,{CD:()=>l,Gh:()=>p,Kl:()=>y,PF:()=>f,PL:()=>h,UB:()=>g,Yg:()=>d,kR:()=>b,tv:()=>m,u0:()=>u});var r=n(31481),o=n(17663),s=n(21309),a=n(87894),i=n(64713),c=n(80140);function u(e){if(e)switch(e.type){case"userTypeBot":return e.firstName;case"userTypeRegular":return e.firstName||e.lastName;case"userTypeDeleted":case"userTypeUnknown":return"Deleted";default:return}}function d(e){if(e){if(h(e))return"Deleted Account";switch(e.type){case"userTypeBot":case"userTypeRegular":if(e.firstName&&e.lastName)return`${e.firstName} ${e.lastName}`;if(e.firstName)return e.firstName;if(e.lastName)return e.lastName;if(e.phoneNumber)return`+${(0,i.n4)(e.phoneNumber)}`}}}function l(e,t,n){if(t.id===r.zv8)return e("ServiceNotifications");if(t.isSupport)return e("SupportStatus");if(t.type&&"userTypeBot"===t.type)return t.botActiveUsers?e("BotUsers",t.botActiveUsers,"i"):e("Bot");if(!n)return"";switch(n.type){case"userStatusEmpty":return e("ALongTimeAgo");case"userStatusLastMonth":return e("WithinAMonth");case"userStatusLastWeek":return e("WithinAWeek");case"userStatusOffline":{const{wasOnline:t}=n;if(!t)return e("LastSeen.Offline");const r=(0,c.SF)(),s=new Date(Date.now()+1e3*r),a=new Date(1e3*t);if(a>=s)return e("LastSeen.JustNow");const i=new Date(s.getTime()-a.getTime());if(i.getTime()/1e3<60)return e("LastSeen.JustNow");if(i.getTime()/1e3<3600)return e("LastSeen.MinutesAgo",Math.floor(i.getTime()/1e3/60));const u=new Date;if(u.setHours(0,0,0,0),a>new Date(u.getTime()+1e3*r))return i.getTime()/1e3<21600?e("LastSeen.HoursAgo",Math.floor(i.getTime()/1e3/60/60)):e("LastSeen.TodayAt",(0,o.fU)(e,a));const d=new Date;return d.setDate(s.getDate()-1),d.setHours(0,0,0,0),a>new Date(d.getTime()+1e3*r)?e("LastSeen.YesterdayAt",(0,o.fU)(e,a)):e("LastSeen.AtDate",(0,o.Lu)(e,a))}case"userStatusOnline":return e("Online");case"userStatusRecently":return e("Lately");default:return}}function f(e,t,n=!1){const{id:o,type:s}=e;return!(!t||o===r.zv8||e.isSelf&&!n||"userStatusOnline"!==t.type||"userTypeBot"===s)}function h(e){return("userTypeDeleted"===e.type||"userTypeUnknown"===e.type)&&e.id!==r.zv8}function m(e){return"userTypeBot"===e.type}function p(e){return!e.isSelf&&!e.isContact&&!m(e)&&e.id!==r.Ckz}function g(e,t,n,r){return(0,a.My)(e,(e=>{const o=(0,c.Fm)();if(r&&r.includes(e))return o+172800-(r.length-r.indexOf(e));const a=t[e],i=n[e];if(!a||!i)return 0;if("userStatusOnline"===i.type)return i.expires;if("userStatusOffline"===i.type&&i.wasOnline)return i.wasOnline;switch(i.type){case"userStatusRecently":return o-s.d_;case"userStatusLastWeek":return o-7*s.d_;case"userStatusLastMonth":return o-7*s.d_*30;default:return 0}}),"desc")}function y(e){return e.usernames?.find((e=>e.isActive))?.username}function b(e){return`peer-story${e}`}},79824:(e,t,n)=>{"use strict";n.d(t,{p:()=>r});const r=[]},80089:(e,t,n)=>{"use strict";n.d(t,{If:()=>h,Vw:()=>l,ar:()=>s,gt:()=>f,po:()=>d});var r=n(31481),o=n(46536);let s=function(e){return e[e.Auth=0]="Auth",e[e.Main=1]="Main",e[e.Extra=2]="Extra",e[e.Calls=3]="Calls",e[e.Stars=4]="Stars",e}({});const a={},i={},{addCallback:c,runCallbacks:u}=(0,o.h)();async function d(e){if(!a[e]){switch(e){case s.Auth:a[s.Auth]=Promise.all([n.e(4765),n.e(7405)]).then(n.bind(n,32794));break;case s.Main:r.Oig&&console.log(">>> START LOAD MAIN BUNDLE"),a[s.Main]=Promise.all([n.e(4765),n.e(8287),n.e(2663),n.e(1658),n.e(3759),n.e(9689),n.e(1350),n.e(882),n.e(2859),n.e(1006),n.e(7768)]).then(n.bind(n,47881));break;case s.Extra:a[s.Extra]=Promise.all([n.e(4765),n.e(8287),n.e(2663),n.e(1658),n.e(3490),n.e(9689),n.e(1350),n.e(882),n.e(9451)]).then(n.bind(n,84939));break;case s.Calls:a[s.Calls]=Promise.all([n.e(4765),n.e(9689),n.e(2859),n.e(2394)]).then(n.bind(n,83320));break;case s.Stars:a[s.Stars]=Promise.all([n.e(4765),n.e(2663),n.e(9689),n.e(1350),n.e(1006),n.e(6930)]).then(n.bind(n,62386))}a[e].then(u)}const t=await a[e];return i[e]||(i[e]=t),t}async function l(e){await d(e)}function f(e,t){const n=i[e];if(n)return n[t]}const h=c},80140:(e,t,n)=>{"use strict";n.d(t,{Fm:()=>a,SF:()=>s,SH:()=>o});let r=0;function o(e){r=e}function s(){return r}function a(){return Math.floor(Date.now()/1e3)+r}},80464:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(84051),o=n(80089),s=n(30857);const a=(e,t,n=!1,a=!1)=>{const i=(0,o.gt)(e,t),c=(0,s.A)();return(0,r.vJ)((()=>{if(a)return(0,o.If)(c)}),[a,c]),(0,r.vJ)((()=>{n||i||(0,o.Vw)(e).then(c)}),[e,c,i,t,n]),i}},80853:(e,t,n)=>{"use strict";function r(e){e.dataset.patchedForSafari||(e.addEventListener("play",(()=>{const t=e.currentTime;e.dataset.patchForSafariInProgress="true",e.addEventListener("progress",(function n(){e.buffered.length&&(e.currentTime=e.duration-1,e.addEventListener("progress",(()=>{delete e.dataset.patchForSafariInProgress,e.currentTime=t,e.paused&&!e.dataset.preventPlayAfterPatch&&e.play()}),{once:!0}),e.removeEventListener("progress",n))}))}),{once:!0}),e.dataset.patchedForSafari="true")}function o(e){return Boolean(e.dataset.patchForSafariInProgress)}n.d(t,{C:()=>r,f:()=>o})},80923:(e,t,n)=>{"use strict";n.d(t,{dm:()=>r,eF:()=>o});const r='\n    [实时语言雷达]\n        1. 语言指纹扫描：自动检测输入文本的\n            - 主要语种(支持92种语言置信度识别)\n            - 方言特征(如粤语/川普/美式英语)\n            - 混合语言比例(中英混杂度>30%触发混合模式)\n    [语境翻译官]\n        2. 根据语言特征自动匹配：\n            - 正式场合 → 学术英语/商务日语\n            - 社交场景 → 网络韩语/缩略中文\n            - 创意表达 → 方言梗/谐音梗\n            - 情感交流 → 方言安慰语/俚语拥抱\n    [文化调色盘]\n        3. 语言风格增强模块：\n            - 中文：加入"绝绝子"/"破防了"等年度热词\n            - 日语：自动转换敬体/简体(根据用户资料)\n            - 英语：切换正式/俚语模式(识别slang词汇)\n            - 方言：加载地域特色表达库(如东北话"忽悠"→上海话"捣糨糊")\n    [混合语处理器]\n        4. 跨语言对话解决方案：\n            - 中英夹杂 → 智能补全("这个idea超酷"→"这个idea真的超有创意")\n            - 方言转译 → 标准语+注释("侬晓得伐？→ 你知道吗？(上海话)")\n            - 代码切换 → 无缝过渡("今天meeting讨论了KPI→今天开会讨论了KPI")\n',o={id:"default",topicName:"默认紧急主题",topicDescription:"\n    ## 判断消息是不是紧急消息\n    ## 判断消息是不是重要消息\n    ## 重要消息定义\n        - 明确消息中涉及任务分配、关键决策、风险提示、时间敏感信息或高价值信息的内容   \n    ## 重要消息关键词\n       - 任务分配：任务、负责、分配、完成、执行、提交、整理、分析、制定、确认\n       - 关键决策：决策、需要、决定、评估、选择、优先级\n       - 风险提示：风险、注意、警告、问题、潜在、影响\n       - 时间敏感：截止、时间、日期、尽快、立即、马上、今天、明天、本周、下周\n       - 高价值信息：投资机会、收益、增长、危机、重大、关键\n    ## 紧急消息定义\n       - 明确消息中涉及明确的截止时间、需要立即响应、突发事件或高优先级任务的内容\n    ## 紧急消息关键词\n       - 立即响应：立即、马上、立刻、紧急、紧急任务、紧急处理\n       - 时间要求：截止、时间、日期、尽快、今天、明天、本周、下周\n       - 高优先级：高优先级、优先、务必、必须、务必完成\n  ",strongAlert:!1}},82117:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(84051);const o=(e,t,n)=>{const o=(0,r.li)();return(0,r.vJ)((()=>{const n=o.current;return o.current=t,e(n||[])}),t,n)}},82150:(e,t,n)=>{"use strict";n.d(t,{iR:()=>X,o4:()=>E,Kc:()=>C,fg:()=>F,Iw:()=>Y,AH:()=>x,XA:()=>N,hj:()=>ee,v:()=>M,It:()=>W,l3:()=>G,T4:()=>K,qK:()=>_,tT:()=>S,n4:()=>I,ew:()=>A,gz:()=>O,s3:()=>D,yr:()=>J,r3:()=>k,MN:()=>y,Xb:()=>H,kV:()=>z,d4:()=>L,E0:()=>B,J8:()=>te,DL:()=>ne,xA:()=>Q,QN:()=>T,tM:()=>$,Eg:()=>P,Ff:()=>U,EK:()=>V,e4:()=>v,eA:()=>R,Ng:()=>j,Ww:()=>q,mR:()=>Z});var r=n(23174),o=n(31481),s=n(22986),a=n(70874),i=n(14487),c=n(87894),u=n(60343),d=n(90709),l=n(17237);function f(e,t){if(e.text)return!t&&1===Object.keys(e).length&&!e.text.entities?.some((e=>e.type!==r.C7.CustomEmoji))&&(0,l.A)(e.text.text)||void 0}var h=n(29807),m=n(68344),p=n(32989),g=n(95753);function y(e,t,n=r.l3,s="thread",a,c,...[u=(0,i.g0)()]){const{messageLists:d}=(0,h.nTw)(e,u);let l=d;if(a||o.W75&&!o.fng)l=t?[{chatId:t,threadId:n,type:s}]:[];else if(t){const r=d[d.length-1];if(r?.chatId===t&&r.threadId===n&&r.type===s)return e;if(r&&(r.chatId===o.Xab||c))l=[...d.slice(0,-1),{chatId:t,threadId:n,type:s}];else{const e=d[d.length-2];l=e?.chatId===t&&e.threadId===n&&e.type===s?d.slice(0,-1):[...d,{chatId:t,threadId:n,type:s}]}}else l=d.slice(0,-1);return(0,p.w)(e,{messageLists:l},u)}function b(e,t,n){return w(e,t,{byId:n})}function v(e,t,n,r){if(!r)return w(e,t,{threadsById:(0,c.cJ)(e.messages.byChatId[t]?.threadsById,[n])});const o=e.messages.byChatId[t];return w(e,t,{threadsById:{...o?.threadsById,[n]:{...o?.threadsById[n],...r}}})}function w(e,t,n){const r=e.messages.byChatId[t]||{byId:{},threadsById:{}};return{...e,messages:{...e.messages,byChatId:{...e.messages.byChatId,[t]:{...r,...n}}}}}function I(e,t,n,r,o,...[s=(0,i.g0)()]){return"viewportIds"===r&&(e=A(e,t,n,"lastViewportIds",o)),function(e,t,n,r,...[o=(0,i.g0)()]){const s=(0,h.nTw)(e,o),a=s.tabThreads[t]?.[n]||{};return(0,p.w)(e,{tabThreads:{...s.tabThreads,[t]:{...s.tabThreads[t],[n]:{...a,...r}}}},o)}(e,t,n,{[r]:o},s)}function A(e,t,n,r,o){return v(e,t,n,{[r]:o})}function C(e,t){const n=t.reduce(((e,t)=>(e[t.chatId]||(e[t.chatId]={}),e[t.chatId][t.id]=t,e)),{});return Object.keys(n).forEach((t=>{e=E(e,t,n[t])})),e}function S(e,t){const n=t.reduce(((e,t)=>(e[t.chatId]||(e[t.chatId]={}),e[t.chatId][t.id]=t,e)),{});return Object.keys(n).forEach((t=>{const r={...(0,h.zeq)(e,t)||{},...n[t]};e=b(e,t,r)})),e}function E(e,t,n){const r=(0,h.zeq)(e,t);return r&&Object.keys(n).every((e=>Boolean(r[Number(e)])))?e:b(e,t,{...n,...r})}function k(e,t,n,r,o=!1){const i=(0,h.zeq)(e,t)||{},u=i[n];if(o&&u){const t=Object.keys(r);if((0,s.T)((0,c.Up)(u,t),r))return e}u&&!1===r.isMediaUnread&&(0,d.G5)(u)&&(u.content.voice?r.content={action:{mediaType:"action",type:"expired",isVoice:!0}}:u.content.video?.isRound&&(r.content={action:{mediaType:"action",type:"expired",isRoundVideo:!0}}));let l=u?.emojiOnlyCount,m=u?.content?.text;r.content&&(l=f(r.content,u?.groupedId||r.groupedId),m=r.content.text?(0,a.j)(r.content.text):m);const p=(0,c.Oy)({...u,...r,emojiOnlyCount:l,text:m});return p.id?b(e,t,{...i,[n]:p}):e}function P(e,t,n,r){const o=(0,h.Jl6)(e,t,n);let s=o?.emojiOnlyCount,i=o?.content?.text;r.content&&(s=f(r.content,o?.groupedId||r.groupedId),i=r.content.text?(0,a.j)(r.content.text):i);const c={...o,...r,emojiOnlyCount:s,text:i};return c.id?U(e,t,{[n]:c}):e}function T(e,t,n){const r={...(0,h.N1i)(e,t),...n};return r.id?$(e,{[t]:r}):e}function M(e,t){const n=e.quickReplies.messagesById,r=(0,c.cJ)(n,t);return{...e,quickReplies:{...e.quickReplies,messagesById:r}}}function x(e,t,n){const o=(0,h.zeq)(e,t);if(!o)return e;(0,d.Ld)(n);const s=new Map;s.set(r.l3,n);const a=[];n.forEach((n=>{const i=o[n];if(!i)return;(0,d.iZ)(i)&&a.push(n);const c=(0,h.L_2)(e,i);if(!c||c===r.l3)return;const u=s.get(c)||[];u.push(n),s.set(c,u),e=(0,g.gt)(e,t,n)}));const i=Object.values((0,c._E)(o,n)).filter((({forwardInfo:e})=>e?.isLinkedChannelPost));s.forEach(((r,o)=>{const s=(0,h.Vw0)(e,t,o);let i=(0,h.gCU)(e,t,o),l=(0,h.fcC)(e,t,o),f=(0,h.JiE)(e,t,o),p=s?.messagesCount;i&&(i=(0,c.lK)(i,r)),f&&(f=f.map((e=>(0,c.lK)(e,r)))),l&&(l=(0,c.lK)(l,(0,d.vp)(r)));const g=r.filter((e=>!(0,u.iL)(e))).length;void 0!==p&&(p-=g),Object.values(e.byTabId).forEach((({id:r})=>{const s=(0,h.nTw)(e,r);Object.entries(s.activeDownloads).filter((([,{originChatId:e,originMessageId:n}])=>e===t&&n)).forEach((([t,o])=>{n.includes(o.originMessageId)&&(e=Y(e,[t],r))})),a.forEach((n=>{e=(0,m.cs)(e,t,o,n,r)}));const i=(0,h.rA3)(e,t,o,r);if(!i)return;const u=(0,c.lK)(i,n);e=I(e,t,o,"viewportIds",0===u.length?void 0:u,r)})),e=A(e,t,o,"listedIds",i),e=A(e,t,o,"outlyingLists",f),e=A(e,t,o,"pinnedIds",l),s&&void 0!==p&&(e=R(e,t,o,{messagesCount:p}))})),i.length&&Object.values(e.byTabId).forEach((({id:n})=>{const r=(0,h.Xf0)(e,n),o=r&&r.chatId===t&&"thread"===r.type,s=r?.threadId;i.forEach((r=>{const{fromChatId:a,fromMessageId:i}=r.forwardInfo,c=(0,h.O5q)(e,a,i);o&&s===r.id&&(e=y(e,t,void 0,void 0,void 0,void 0,n)),c&&(e=v(e,a,i,void 0))}))}));const l=(0,c.cJ)(o,n);return e=b(e,t,l)}function N(e,t,n){const o=(0,h.yFI)(e,t);if(!o)return e;const s=(0,c.cJ)(o,n);let a=(0,h.K3w)(e,t,r.l3);return a&&(n.forEach((e=>{a.includes(e)&&(a=a.filter((t=>t!==e)))})),e=A(e,t,r.l3,"scheduledIds",a),Object.entries(e.messages.byChatId[t].threadsById).forEach((([r,o])=>{if(o.scheduledIds){const s=o.scheduledIds.filter((e=>!n.includes(e)));e=A(e,t,Number(r),"scheduledIds",s)}}))),e={...e,scheduledMessages:{byChatId:{...e.scheduledMessages.byChatId,[t]:{byId:s}}}}}function L(e,t,n,r){const o=(0,h.gCU)(e,t,n),s=o?.length?r.filter((e=>!o.includes(e))):r;return o&&!s.length?e:A(e,t,n,"listedIds",(0,d.Ld)([...o||[],...s]))}function _(e,t,n,r){const o=(0,h.JiE)(e,t,n);return o?A(e,t,n,"outlyingLists",o.filter((e=>e!==r))):e}function B(e,t,n,r){if(!r.length)return e;const o=(0,h.JiE)(e,t,n);return A(e,t,n,"outlyingLists",(0,d.cR)(o||[],r))}function F(e,t,n,r,...[s=(0,i.g0)()]){const a=(0,h.rA3)(e,t,n,s)||[];return a.includes(r)?e:I(e,t,n,"viewportIds",(0,d.Ld)([...a.length<o.IRc?a:a.slice(-o.yo2/2),r]),s)}function D(e,t,n,r,...[o=(0,i.g0)()]){const s=(0,h.rA3)(e,t,n,o)||[],a=(0,d.Ld)(r);return I(e,t,n,"viewportIds",(0,c.k)(s,a)?s:a,o)}function O(e,t,n,r){const o=(0,h.fcC)(e,t,n)||[],s=(0,d.vp)(r);return A(e,t,n,"pinnedIds",(0,c.k)(o,s)?o:s)}function R(e,t,n,r,o){const s={...(0,h.Vw0)(e,t,n),...r};if(!o&&!s.isCommentsInfo){const t=(0,c.Up)(s,["messagesCount","lastMessageId","lastReadInboxMessageId"]);s.fromChannelId&&s.fromMessageId&&(e=R(e,s.fromChannelId,s.fromMessageId,t,!0))}return A(e,t,n,"threadInfo",s)}function j(e,t){return t.forEach((t=>{e=R(e,t.isCommentsInfo?t.originChannelId:t.chatId,t.isCommentsInfo?t.originMessageId:t.threadId,t)})),e}function U(e,t,n){const r=e.scheduledMessages.byChatId[t]||{byId:{},hash:0};return{...e,scheduledMessages:{byChatId:{...e.scheduledMessages.byChatId,[t]:{...r,byId:{...r.byId,...n}}}}}}function $(e,t){return{...e,quickReplies:{...e.quickReplies,messagesById:{...e.quickReplies.messagesById,...t}}}}function z({global:e,chatId:t,messageId:n,threadId:o=r.l3,noHighlight:s=!1,isResizingContainer:a=!1,quote:c,quoteOffset:u,scrollTargetPosition:d},...[l=(0,i.g0)()]){return(0,p.w)(e,{focusedMessage:{...(0,h.nTw)(e,l).focusedMessage,chatId:t,threadId:o,messageId:n,noHighlight:s,isResizingContainer:a,quote:c,quoteOffset:u,scrollTargetPosition:d}},l)}function V(e,t,n){return{...e,messages:{...e.messages,sponsoredByChatId:{...e.messages.sponsoredByChatId,[t]:n}}}}function W(e,t){const n=e.messages.sponsoredByChatId;return n[t]?{...e,messages:{...e.messages,sponsoredByChatId:(0,c.cJ)(n,[t])}}:e}function H(e,t,...[n=(0,i.g0)()]){return(0,p.w)(e,{focusedMessage:{...(0,h.nTw)(e,n).focusedMessage,direction:t}},n)}function G(e,t,n,...[r=(0,i.g0)()]){const o=n?Array.prototype.concat([],n):[];return(0,p.w)(e,{selectedMessages:{chatId:t,messageIds:o}},r)}function J(e,t,n,r,o,s,a,u=!1,...[d=(0,i.g0)()]){const{selectedMessages:l}=(0,h.nTw)(e,d);s&&(a=(0,h.D_S)(e,t,s));const f=a||[o];if(!l)return G(e,t,f,d);const{messageIds:m}=l;let g;const y=f.filter((e=>!m.includes(e)));if(y&&!y.length)g=m.filter((e=>!f.includes(e)));else if(u&&m.length){const s=(0,h.vRX)(e,t,n,r,d),a=s.indexOf(m[m.length-1]),i=s.indexOf(o),u=Math.min(a,i),l=Math.max(a,i),f=s.slice(u,l+1);g=(0,c.Am)([...m,...f])}else g=[...m,...y];return g.length?(0,p.w)(e,{selectedMessages:{...l,messageIds:g}},d):K(e,d)}function K(e,...[t=(0,i.g0)()]){return(0,p.w)(e,{selectedMessages:void 0},t)}function q(e,t,n,r,o){const{channelPostId:s,fromChatId:a}=t.forwardInfo||{};if(s&&a){const t=(0,h.Vw0)(e,n,s);t&&(e=A(e,n,s,"threadInfo",{...t,lastMessageId:r,messagesCount:(t.messagesCount||0)+(o?-1:1)}))}return e}function X(e,t,n,...[r=(0,i.g0)()]){const o=(0,h.nTw)(e,r);return(0,p.w)(e,{activeDownloads:{...o.activeDownloads,[t]:n}},r)}function Y(e,t,...[n=(0,i.g0)()]){const r=(0,h.nTw)(e,n),o=(0,c.cJ)(r.activeDownloads,t);return(0,p.w)(e,{activeDownloads:o},n)}function Z(e,t,n){return{...e,fileUploads:{byMessageKey:void 0!==n?{...e.fileUploads.byMessageKey,[t]:{progress:n}}:(0,c.cJ)(e.fileUploads.byMessageKey,[t])}}}function Q(e,t){return{...e,quickReplies:{...e.quickReplies,byId:{...e.quickReplies.byId,...t}}}}function ee(e,t){return{...e,quickReplies:{...e.quickReplies,byId:(0,c.cJ)(e.quickReplies.byId,[t])}}}function te(e,t,n){const r=(0,h.KQQ)(e,t),o=r?.results;let s=o||n.results;r&&n.results?.results&&(r.results&&n.results.isMin?o.results&&(s={...n.results,results:n.results.results.map((e=>({...e,isChosen:o.results.find((t=>t.option===e.option))?.isChosen}))),isMin:void 0}):s=n.results);const a={...r,...n,results:s};return a.id?{...e,messages:{...e.messages,pollById:{...e.messages.pollById,[t]:a}}}:e}function ne(e,t,n,r){const o=(0,h.KQQ)(e,t);if(!o)return e;const{recentVoterIds:s,totalVoters:a,results:i}=o.results,c=s?[...s]:[],u=a?a+1:1,d=i?[...i]:[];return c.push(n),r.forEach((t=>{const r=d.findIndex((e=>e.option===t)),o=d[r],s=o?{...o}:{option:t,votersCount:0};s.votersCount+=1,n===e.currentUserId&&(s.isChosen=!0),r?d[r]=s:d.push(s)})),te(e,t,{results:{...o.results,recentVoterIds:c,totalVoters:u,results:d}})}},82855:(e,t,n)=>{"use strict";n.d(t,{A:()=>S});var r=n(84051),o=n(13439),s=n(90709),a=n(29807),i=n(96454),c=n(87357),u=n(58554),d=n(37479),l=n(94519),f=n(37661),h=n(5912),m=n(62587),p=n(37960),g=n(19129),y=n(22867),b=n(14745),v=n(38691),w=n(65843),I=n(18104);const A="AvU_FtMd",C="RrEzFxte",S=(0,r.ph)((({containerRef:e,sticker:t,thumbClassName:n,fullMediaHash:S,fullMediaClassName:E,isSmall:k,size:P=24,customColor:T,loopLimit:M,shouldLoop:x=!1,shouldPreloadPreview:N,forceAlways:L,forceOnHeavyAnimation:_,observeIntersectionForLoading:B,observeIntersectionForPlaying:F,noLoad:D,noPlay:O,noVideoOnMobile:R,withSharedAnimation:j,withTranslucentThumb:U,sharedCanvasRef:$,onVideoEnded:z,onAnimatedStickerLoop:V})=>{const{id:W,isLottie:H,stickerSetInfo:G,emoji:J}=t,[K,q]=(0,f.A)(),X=t.isVideo&&(!i.OF||R&&(i.pz||i.Ni)),Y=t.isVideo,Z=!H&&!Y,Q=(0,s.Mw)(t,"preview"),ee=(0,v.A)(),te=(0,d.A)(T),ne=(0,h.Vz)(e,B),re=ne&&!D,oe=(0,h.Vz)(e,F)&&ne,se=oe&&!O,ae=(0,r.li)(oe);!ae.current&&oe&&(ae.current=!0);const ie=u.Ih(Q),ce=function(e){const[t,n]=(0,r.Ul)(!1),o=r.OV;return(0,r.vJ)((()=>{o()||n(!0)}),[o,n]),(0,g.A)((()=>t()&&e),[t,e])}(ae.current),ue=X||(Z?k:O),de=!T&&!ie&&(!ce||ue),le=(0,m.A)(Q,!de),fe=de||ie,he=Boolean(ue||S===Q&&(ie||le)),me=(0,m.A)(S||`sticker${W}`,!re||he),pe=ce&&me&&!K,[ge,ye]=(0,f.A)(),be=pe&&(Z||ge),ve=(0,y.A)(t.thumbnail),we=ie||le||ve,Ie=$&&!U,Ae=Boolean(H&&fe),Ce=(0,p.A)(we&&!be,{noCloseTransition:Ae}),Se=(0,p.A)(be,{noOpenTransition:Ae}),Ee=(0,l.A)(e,$);(0,m.A)(Q,!re||!N);const ke=(0,b.A)(),Pe=(0,r.Kr)((()=>[j?"shared":ke,W,P,j?T:void 0,ee].filter(Boolean).join("_")),[W,P,T,ee,j,ke]);return r.Ay.createElement(r.Ay.Fragment,null,r.Ay.createElement("img",{ref:Ce,src:we,className:(0,c.A)("gYSfUe37",Ae&&A,Ie&&"vbcXDDxa",n,"sticker-media"),style:te,alt:"",draggable:!1}),pe&&(H?r.Ay.createElement(I.A,{ref:Se,key:Pe,renderId:Pe,size:P,className:(0,c.A)(C,(Ae||Ie)&&A,E),tgsUrl:me,play:se,noLoop:!x,forceOnHeavyAnimation:L||_,forceAlways:L,isLowPriority:k&&!(0,a.CzR)((0,o.mS)(),G),sharedCanvas:$?.current||void 0,sharedCanvasCoords:Ee,onLoad:ye,onLoop:V,onEnded:V,color:T}):Y?r.Ay.createElement(w.A,{ref:Se,canPlay:se,className:(0,c.A)(C,E,"sticker-media"),src:me,playsInline:!0,muted:!0,loop:x&&!M,isPriority:L,disablePictureInPicture:!0,onReady:ye,onBroken:q,onEnded:z,style:te}):r.Ay.createElement("img",{ref:Se,className:(0,c.A)(C,E,"sticker-media"),src:me,alt:J,style:te,draggable:!1})))}))},83057:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(50680);function o(e){const t=Boolean(e),{transitionClassNames:n}=(0,r.A)(t,void 0,t,"slow");return n}},83414:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(84051),o=n(5718),s=n(41257),a=n(35297);const i=function(e,t,n=!1){const i=t?e:()=>e;t??(t=[e]);const[c,u]=(0,r.Ul)(),d=(0,s.i)(i);function l(){const e=d.current;n?e(u):u(e())}return(0,a.A)(l,t),(0,o.R)(l,t),c}},83649:(e,t,n)=>{"use strict";function r(e){return"object"==typeof e&&"isDeleted"in e}function o(e){return!function(e){return"string"==typeof e}(e)&&!r(e)}function s(e){return Boolean(e)&&"object"==typeof e&&"key"in e&&!("type"in e)}function a(e){return"withNodes"in e&&Boolean(e.withNodes)}n.d(t,{JR:()=>r,Qw:()=>o,Yw:()=>s,Zh:()=>a})},83868:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=e=>{e.stopPropagation(),e.preventDefault()}},84051:(e,t,n)=>{"use strict";n.d(t,{$Z:()=>oe,pT:()=>y,wr:()=>g,VK:()=>p.VK,ek:()=>$,Ay:()=>se,OV:()=>p.OV,rO:()=>W,jo:()=>S,ph:()=>re,bF:()=>H,qF:()=>p.qF,Cc:()=>V,s4:()=>G,hb:()=>ee,vJ:()=>X,Nf:()=>Y,Kr:()=>Q,li:()=>te,Ul:()=>ne,J0:()=>K,_W:()=>Z});var r=n(31481),o=n(5930),s=n(37836);const a=new Set(["TeactMemoWrapper renders","TeactNContainer renders","Button renders"]);let i={};const c=(0,s.nF)((function(){u||function(){u=document.createElement("div"),u.style.cssText="position: absolute; left: 0; bottom: 25px; z-index: 9998; width: 260px; height: 200px; border: 1px solid #555; background: rgba(255, 255, 255, 0.9); overflow: auto; font-size: 10px;",document.body.appendChild(u);const e=document.createElement("a");e.style.cssText="position: absolute; left: 222px; bottom: 198px; z-index: 9999; font-size: 20px; cursor: pointer;",e.innerText="🔄",e.addEventListener("click",(()=>{i={},c()})),document.body.appendChild(e)}();const e=Date.now()-500,[t,n]=Object.entries(i).reduce(((e,[t,{value:n}])=>(a.has(t)||(t.includes("renders")&&n>e[0]&&(e[0]=n),t.includes("duration")&&n>e[1]&&(e[1]=n)),e)),[0,0]);u.innerHTML=Object.entries(i).filter((([e,{value:t}])=>!a.has(e)&&(e.includes("renders")&&t>5||e.includes("duration")&&t>2))).sort(((e,t)=>t[1].lastUpdateAt-e[1].lastUpdateAt)).map((([r,{value:o,lastUpdateAt:s}])=>{return[`<div style="background: #ff0000${a=o/(r.includes("renders")?t:n),Math.round(255*a).toString(16).padStart(2,"0")}">`,`  <span${s>e?' style="background: lightgreen"':""}>${r}: ${Math.round(o)}</span>`,"</div>"].join("\n");var a})).join("\n")}),500,!1);let u;function d(e,t=1){const n=Date.now();i[e]?(i[e].value+=t,i[e].lastUpdateAt=n):i[e]={value:t,lastUpdateAt:n},c()}var l=n(87894),f=n(50110),h=n(22237),m=n(66644),p=n(8718);let g=function(e){return e[e.Empty=0]="Empty",e[e.Text=1]="Text",e[e.Tag=2]="Tag",e[e.Component=3]="Component",e[e.Fragment=4]="Fragment",e}({}),y=function(e){return e[e.Mounting=0]="Mounting",e[e.Mounted=1]="Mounted",e[e.Unmounted=2]="Unmounted",e}({});const b=Symbol("Fragment"),v=7,w=7,I=new Set(["TeactMemoWrapper","TeactNContainer","Button","ListItem","MenuItem"]);let A,C=0;function S(e){return e.type===g.Tag||e.type===g.Component||e.type===g.Fragment}function E(e,t,...n){return e===b?function(e){return{type:g.Fragment,children:P(e,!0)}}(n):"function"==typeof e?function(e,t,n){n?.length&&(t.children=1===n.length?n[0]:n);const r={id:-1,$element:void 0,Component:e,name:e.name,props:t,mountState:y.Unmounted};return r.$element=k(r),r.$element}(e,t||{},n):function(e,t,n){return{type:g.Tag,tag:e,props:t,children:P(n)}}(e,t||{},n)}function k(e,t){return{type:g.Component,componentInstance:e,props:e.props,children:t?P(t,!0):[]}}function P(e,t=!1){const n=function(e,t=!1){let n=e.length-1;for(;n>=0&&T(e[n]);n--);return n===e.length-1?e:-1===n&&t?e.slice(0,1):e.slice(0,n+1)}(e,t),r=[];for(let e=0,o=n.length;e<o;e++){const o=n[e];Array.isArray(o)?r.push(...P(o,t)):r.push(M(o))}return r}function T(e){return!e&&0!==e}function M(e){return T(e)?{type:g.Empty}:S(e)?e:{type:g.Text,value:String(e)}}const x={TOTAL:{name:"TOTAL",renders:0}},N={},L=20;document.addEventListener("dblclick",(()=>{console.warn("COMPONENTS",(0,l.My)(Object.values(x).map((({avgRenderTime:e,...t})=>({...t,...void 0!==e&&{avgRenderTime:Number(e.toFixed(2))}}))),"renders","desc")),console.warn("MEMOS",(0,l.My)(Object.values(N).filter((({calls:e})=>e>=L)).map((e=>({...e,hitRate:Number(e.hitRate.toFixed(2))}))),"hitRate","asc"))}));let _=new Set,B=new Set,F=new Map,D=new Map,O=new Map,R=new Map,j=!1;const U=(0,s.nb)(m.YS,(()=>{if((0,p.Mb)())return void p.Mb.once(U);const e=$();B=new Set;const t=Array.from(_).sort(((e,t)=>e.id-t.id));_=new Set;const n=D;D=new Map,n.forEach((e=>e()));const r=F;F=new Map,r.forEach((e=>e())),(0,m.RK)((()=>{t.forEach(J),t.forEach((e=>{B.has(e.id)||function(e){if(e.mountState===y.Unmounted||!e.onUpdate)return;const t=e.$element;V(e),e.$element!==t&&e.onUpdate()}(e)})),e?.()}))}));function $(){if(!j)return j=!0,z}function z(){const e=R;R=new Map,e.forEach((e=>e()));const t=O;O=new Map,t.forEach((e=>e())),j=!1}function V(e){B.add(e.id);const{Component:t,props:n}=e;let o;if((0,f.A)((()=>{let s;if(A=e,e.hooks&&(e.hooks.state&&(e.hooks.state.cursor=0),e.hooks.effects&&(e.hooks.effects.cursor=0),e.hooks.memos&&(e.hooks.memos.cursor=0),e.hooks.refs&&(e.hooks.refs.cursor=0)),r.Oig){const e=oe(t);x[e]||(x[e]={name:e,renders:0,avgRenderTime:0}),r.MVx&&(I.has(e)||console.log(`[Teact] Render ${e}`)),s=performance.now()}if(o=t(n),r.Oig){const e=performance.now()-s,n=oe(t);e>v&&console.warn(`[Teact] Slow component render: ${n}, ${Math.round(e)} ms`);const{renders:o,avgRenderTime:a}=x[n];x[n].avgRenderTime=(a*o+e)/(o+1),x[n].renders++,x.TOTAL.renders++,r.MVx&&(d(`${n} renders`),d(`${n} duration`,e))}}),{rescue:()=>{console.error(`[Teact] Error while rendering component ${e.name}`,e),o=e.renderedValue}}),e.mountState===y.Mounted&&o===e.renderedValue)return e.$element;e.renderedValue=o;const s=Array.isArray(o)?o:[o];return e.$element=k(e,s),e.$element}function W(e,t){return typeof e!=typeof t||e.type!==t.type||(e.type===g.Text&&t.type===g.Text?e.value!==t.value:e.type===g.Tag&&t.type===g.Tag?e.tag!==t.tag||e.props.key!==t.props.key:e.type===g.Component&&t.type===g.Component&&(e.componentInstance.Component!==t.componentInstance.Component||e.props.key!==t.props.key))}function H(e){return e.id=++C,e.mountState=y.Mounting,V(e),e.mountState=y.Mounted,e.$element}function G(e){if(e.mountState!==y.Unmounted){if(B.add(e.id),e.hooks?.effects)for(const t of e.hooks.effects.byCursor)t.cleanup&&(0,f.A)(t.cleanup),t.cleanup=void 0,t.releaseSignals?.();e.mountState=y.Unmounted,function(e){const{effects:t,state:n,memos:r,refs:o}=e.hooks||{};if(t)for(const e of t.byCursor)e.schedule=void 0,e.cleanup=void 0,e.releaseSignals=void 0,e.dependencies=void 0;if(n)for(const e of n.byCursor)e.value=void 0,e.nextValue=void 0,e.setter=void 0;if(r)for(const e of r.byCursor)e.value=void 0,e.dependencies=void 0;if(o)for(const e of o.byCursor)e.current=void 0,e.onChange=void 0;e.hooks=void 0,e.$element=void 0,e.renderedValue=void 0,e.onUpdate=void 0}(e)}}function J(e){if(e.mountState!==y.Unmounted&&e.hooks?.state)for(const t of e.hooks.state.byCursor)t.value=t.nextValue}function K(e,t){A.hooks||(A.hooks={}),A.hooks.state||(A.hooks.state={cursor:0,byCursor:[]});const{cursor:n,byCursor:o}=A.hooks.state,s=A;return void 0===o[n]&&(o[n]={value:e,nextValue:e,setter:e=>{s.mountState!==y.Unmounted&&("function"==typeof e&&(e=e(o[n].nextValue)),o[n].nextValue!==e&&(o[n].nextValue=e,_.add(s),U(),r.MVx&&console.log("[Teact.useState]",oe(s.Component),`State update at cursor #${n}${t?` (${t})`:""}, next value: `,o[n].nextValue)))}}),A.hooks.state.cursor++,[o[n].value,o[n].setter]}function q(e,t,n,o){A.hooks||(A.hooks={}),A.hooks.effects||(A.hooks.effects={cursor:0,byCursor:[]});const{cursor:s,byCursor:a}=A.hooks.effects,i=a[s],c=A;function u(){!function(e,t,n,o){const{byCursor:s}=e.hooks.effects,a=s[t]?.cleanup,i=o?R:D,c=o?O:F,u=`${e.id}_${t}`;if(a){const n=()=>(0,f.A)((()=>{if(e.mountState===y.Unmounted)return;let n;if(r.Oig&&(n=performance.now()),a(),r.Oig){const r=performance.now()-n,o=oe(e.Component);r>w&&console.warn(`[Teact] Slow cleanup at effect cursor #${t}: ${o}, ${Math.round(r)} ms`)}}),{rescue:()=>{console.error(`[Teact] Error in effect cleanup at cursor #${t} in ${e.name}`,e)},always:()=>{s[t].cleanup=void 0}});i.set(u,n)}c.set(u,(()=>(0,f.A)((()=>{if(e.mountState===y.Unmounted)return;let o;r.Oig&&(o=performance.now());const a=n();if("function"==typeof a&&(s[t].cleanup=a),r.Oig){const n=performance.now()-o,r=oe(e.Component);n>w&&console.warn(`[Teact] Slow effect at cursor #${t}: ${r}, ${Math.round(n)} ms`)}}),{rescue:()=>{console.error(`[Teact] Error in effect at cursor #${t} in ${e.name}`,e)}}))),U()}(c,s,t,e)}if(n&&i?.dependencies){if(n.some(((e,t)=>e!==i.dependencies[t]))){if(r.Oig&&o){const e=n.reduce(((e,t,n)=>{const r=i.dependencies[n];return t!==r&&e.push(`${n}: ${r} => ${t}`),e}),[]);console.log(`[Teact] Effect "${o}" caused by dependencies.`,e.join(", "))}u()}}else o&&console.log(`[Teact] Effect "${o}" caused by missing dependencies.`),u();i&&(i.schedule=void 0),a[s]={...i,dependencies:n,schedule:u},i||(a[s].releaseSignals=function(){const e=n?.filter(h.Hp).map(((e,t)=>e.subscribe((()=>{o&&console.log(`[Teact] Effect "${o}" caused by signal #${t} new value:`,e()),a[s].schedule()}))));if(e?.length)return()=>{for(const t of e)t()}}()),A.hooks.effects.cursor++}function X(e,t,n){return q(!1,e,t,n)}function Y(e,t,n){return q(!0,e,t,n)}function Z(e){A.hooks||(A.hooks={}),A.hooks.effects||(A.hooks.effects={cursor:0,byCursor:[]});const{cursor:t,byCursor:n}=A.hooks.effects;n[t]||(n[t]={cleanup:e}),A.hooks.effects.cursor++}function Q(e,t,n,s){A.hooks||(A.hooks={}),A.hooks.memos||(A.hooks.memos={cursor:0,byCursor:[]});const{cursor:a,byCursor:i}=A.hooks.memos;let c,{value:u}=i[a]||{};if(r.Oig&&s){const e=`${s}#${A.id}`;c=N[e],c||(c={key:e,calls:0,misses:0,hitRate:0},N[e]=c),c.calls++,c.hitRate=(c.calls-c.misses)/c.calls}if(void 0===i[a]||t.length!==i[a].dependencies.length||t.some(((e,t)=>e!==i[a].dependencies[t]))){if(r.Oig){if(n){const e=`[Teact.useMemo] ${A.name} (${n}): Update is caused by:`;i[a]?(0,o.q)(i[a].dependencies,t,e,n):console.log(`${e} [first render]`)}c&&(c.misses++,c.hitRate=(c.calls-c.misses)/c.calls,c.calls%10==0&&c.calls>=L&&c.hitRate<.25&&console.warn(`[Teact] ${c.key}: Hit rate is ${c.hitRate.toFixed(2)} for ${c.calls} calls`))}u=e()}return i[a]={value:u,dependencies:t},A.hooks.memos.cursor++,u}function ee(e,t,n){return Q((()=>e),t,n)}function te(e){A.hooks||(A.hooks={}),A.hooks.refs||(A.hooks.refs={cursor:0,byCursor:[]});const{cursor:t,byCursor:n}=A.hooks.refs;return n[t]||(n[t]={current:e}),A.hooks.refs.cursor++,n[t]}function ne(e){const t=te();return t.current??(t.current=(0,h.n5)(e)),t.current}function re(e,t){function n(n){return Q((()=>E(e,n)),Object.values(n),t,r.MVx?oe(A.Component):void 0)}return n.DEBUG_contentComponentName=oe(e),n}function oe(e){const{name:t,DEBUG_contentComponentName:n}=e;return"TeactNContainer"===t?`container>${n}`:"TeactMemoWrapper"===t?`memo>${n}`:"TeactContextProvider"===t?`context>id${n}`:t+(n?`>${n}`:"")}const se={createElement:E,Fragment:b}},84080:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>c,KE:()=>u});var r=n(84051),o=n(46536),s=n(17712);const a=(0,o.h)(),i=(0,o.h)();function c(e,t,n=!1){const o=(0,s.A)(e),c=(0,s.A)(t);(0,r.vJ)((()=>{if(!n)return(0,r.OV)()&&o(),a.addCallback(o),i.addCallback(c),()=>{i.removeCallback(c),a.removeCallback(o)}}),[n,c,o])}function u(e,t){const n=(0,r.hb)(e,t),o=(0,r.li)(!1);return(0,r.Kr)((()=>(...e)=>{if(!o.current){if(!(0,r.OV)())return void n(...e);o.current=!0;const t=i.addCallback((()=>{n(...e),t(),o.current=!1}))}}),[n])}r.OV.subscribe((()=>{(0,r.OV)()?a.runCallbacks():i.runCallbacks()}))},84382:(e,t,n)=>{"use strict";n.d(t,{S:()=>a,V:()=>s});let r,o=window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light";function s(){return o}function a(e){r=e}window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(e){o=e.matches?"dark":"light",r?.(o)}))},84448:(e,t,n)=>{"use strict";n.d(t,{C7:()=>r,K1:()=>s,l3:()=>o});let r=function(e){return e.Bold="MessageEntityBold",e.Blockquote="MessageEntityBlockquote",e.BotCommand="MessageEntityBotCommand",e.Cashtag="MessageEntityCashtag",e.Code="MessageEntityCode",e.Email="MessageEntityEmail",e.Hashtag="MessageEntityHashtag",e.Italic="MessageEntityItalic",e.MentionName="MessageEntityMentionName",e.Mention="MessageEntityMention",e.Phone="MessageEntityPhone",e.Pre="MessageEntityPre",e.Strike="MessageEntityStrike",e.TextUrl="MessageEntityTextUrl",e.Url="MessageEntityUrl",e.Underline="MessageEntityUnderline",e.Spoiler="MessageEntitySpoiler",e.CustomEmoji="MessageEntityCustomEmoji",e.Timestamp="MessageEntityTimestamp",e.QuoteFocus="MessageEntityQuoteFocus",e.Unknown="MessageEntityUnknown",e}({});const o=-1,s="MESSAGE_DELETED"},84553:(e,t,n)=>{"use strict";n.d(t,{KX:()=>m,VH:()=>g,ii:()=>p,nv:()=>h});var r=n(13439),o=n(31481),s=n(96454),a=n(57751);const i=["t.me","telegram.me"].map((e=>`https://${e}/_websync_?`)),c=`10.9.50 ${o.cK8}`,u="tgme_sync",d=86400,l=()=>Math.floor(Number(new Date)/1e3);let f;const h=e=>{if(o.fng||s.cp)return;const t=l(),{canRedirect:n,ts:r}=JSON.parse(localStorage.getItem(u)||"{}");return n!==e||r+d<=t?Promise.all(i.map((t=>new Promise(((n,r)=>{const o=document.createElement("script"),s=()=>Boolean(document.body.removeChild(o));o.src=t+new URLSearchParams({authed:Number(e).toString(),version:c}),document.body.appendChild(o),o.onload=()=>{(e=>{const t=l();localStorage.setItem(u,JSON.stringify({canRedirect:e,ts:t}))})(e),s(),f&&(clearTimeout(f),f=void 0),p(),n()},o.onerror=()=>{s(),r()}}))))):Promise.resolve()};function m(){o.Oig||s.cp||f&&clearTimeout(f)}function p(){if(o.Oig||s.cp)return;if(void 0!==f)return;const e=l(),{ts:t}=JSON.parse(localStorage.getItem(u)||"{}"),n=d-(e-t);f=setTimeout((()=>{const{authState:e}=(0,r.mS)(),t="authorizationStateReady"===e||(0,a.wr)();h(t)}),Math.max(0,1e3*n))}function g(){localStorage.removeItem(u)}},84685:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(84051),o=n(13439),s=n(23174),a=n(93578),i=n(87357),c=n(17712);const u=({url:e,text:t,className:n,children:u,isRtl:d,shouldSkipModal:l})=>{const{openUrl:f}=(0,o.ko)(),h=u||t,m=e===t,p=(0,c.A)((t=>{if(!e)return!0;t.preventDefault();const n=m&&!(0,a._G)(e);return f({url:e,shouldSkipModal:l||n}),!1}));if(!e)return;const g=(0,i.A)(n||"text-entity-link",m&&"word-break-all");return r.Ay.createElement("a",{href:(0,a.Tc)(e),title:(0,a.Dc)(e),target:"_blank",rel:"noopener noreferrer",className:g,onClick:p,dir:d?"rtl":"auto","data-entity-type":s.C7.Url},h)}},84947:(e,t,n)=>{"use strict";function r(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>o});class o{constructor(e){this.limit=e,r(this,"map",void 0),r(this,"insertionQueue",void 0),this.map=new Map,this.insertionQueue=new Set}get(e){return this.map.get(e)}set(e,t){if(this.map.size===this.limit){const e=Array.from(this.insertionQueue).shift();e&&(this.map.delete(e),this.insertionQueue.delete(e))}return this.map.set(e,t),this.insertionQueue.add(e),this}has(e){return this.map.has(e)}delete(e){const t=this.map.delete(e);return t&&this.insertionQueue.delete(e),t}clear(){this.map.clear(),this.insertionQueue.clear()}forEach(e,t){this.map.forEach(e,t)}get size(){return this.map.size}get[Symbol.toStringTag](){return this.map[Symbol.toStringTag]}[Symbol.iterator](){return this.map[Symbol.iterator]()}entries(){return this.map.entries()}keys(){return this.map.keys()}values(){return this.map.values()}}},85118:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(84051),o=n(87357),s=n(95807);const a="fWE9Tkfe",i="wapdILU7",c=[{x:20,y:0,size:100,durationShift:10},{x:15,y:15,size:75,durationShift:70},{x:10,y:35,size:75,durationShift:90},{x:20,y:70,size:125,durationShift:30},{x:40,y:10,size:125,durationShift:0},{x:45,y:60,size:75,durationShift:60},{x:60,y:-10,size:100,durationShift:20},{x:55,y:40,size:75,durationShift:60},{x:70,y:65,size:100,durationShift:90},{x:80,y:10,size:75,durationShift:30},{x:80,y:45,size:125,durationShift:0}],u=function(){const e=[];for(let t=0;t<100;t++)e.push({x:100*Math.random(),y:100*Math.random(),velocityX:100*(5*Math.random()+15),velocityY:100*(10*Math.random()-5),scale:100*(.5*Math.random()+.5),durationShift:100*Math.random()});return e}(),d=(0,r.ph)((({className:e,style:t,...n})=>"button"===n.preset?r.Ay.createElement("div",{className:(0,o.A)(a,"B94KQ3c0",e),style:t},c.map((e=>{const t=100*Math.cos(Math.atan2(-50+e.y,-50+e.x)),n=100*Math.sin(Math.atan2(-50+e.y,-50+e.x));return r.Ay.createElement("div",{className:i,style:(0,s.A)(`top: ${e.y}%`,`left: ${e.x}%`,`--_duration-shift: ${-e.durationShift/100*5}s`,`--_shift-x: ${t}%`,`--_shift-y: ${n}%`,`scale: ${e.size}%`)},"✦")}))):"progress"===n.preset?r.Ay.createElement("div",{className:(0,o.A)(a,"F0JPgXgb",e),style:t},u.map((e=>r.Ay.createElement("div",{className:i,style:(0,s.A)(`top: ${e.y}%`,`left: ${e.x}%`,`--_shift-x: ${e.velocityX}%`,`--_shift-y: ${e.velocityY}%`,`scale: ${e.scale}%`,`--_duration-shift: ${-e.durationShift/100*5}s`)},"✦")))):void 0))},85982:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,LD:()=>l,WO:()=>a,eM:()=>c,qp:()=>d});var r=n(17965),o=n.n(r),s=n(31481);const a=window.navigator.clipboard&&window.ClipboardItem,i=document.createElement("textarea");i.setAttribute("readonly",""),i.tabIndex=-1,i.className="visually-hidden";const c=e=>{o()(e)},u=(e,t)=>{window.navigator.clipboard?.write?window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([t],{type:"text/plain"}),"text/html":new Blob([e],{type:"text/html"})})]):c(t)},d=e=>{if(!e)return;const t=document.createElement("canvas"),n=t.getContext("2d"),r=new Image;r.onload=e=>{if(n&&e.currentTarget){const r=e.currentTarget;t.width=r.width,t.height=r.height,n.drawImage(r,0,0,r.width,r.height),t.toBlob(f,"image/png",1)}},r.src=e},l=async(e,t,n)=>{const r=async()=>{try{const t=await e;return t?c(t):n(),Boolean(t)}catch{return n(),!1}};if(a&&navigator.clipboard.write){try{let t=!1;const r=()=>Promise.reject(new Error("GET_DATA_ERROR")),o=new ClipboardItem({"text/plain":e.then((e=>e||r())).catch((()=>(t=!0,"")))});if(await navigator.clipboard.write([o]),t)return void n()}catch{if(!await r())return}t()}else await r()&&t()};async function f(e){if(e&&a)try{await(window.navigator.clipboard.write?.([new ClipboardItem({[e.type]:e})]))}catch(e){s.Oig&&console.error(e)}}},86070:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(84051),o=n(87357),s=n(35049),a=n(39877);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(null,arguments)}const c=(0,r.ph)((function({peer:e,ref:t,peerColor:n,noUserColors:c,shouldReset:u,className:d,emojiIconClassName:l,children:f,...h}){const m=n||e?.color;return r.Ay.createElement("div",i({ref:t,className:(0,o.A)("nRjVJOQv",e&&(0,s.y)(e,c,u),n&&(0,s.a)(n),d)},h),m?.backgroundEmojiId&&r.Ay.createElement(a.A,{className:l,emojiDocumentId:m.backgroundEmojiId}),f)}))},86525:(e,t,n)=>{"use strict";n.d(t,{Ak:()=>k,ES:()=>V,FE:()=>y,G5:()=>z,GZ:()=>f,HN:()=>L,Ie:()=>S,Jw:()=>I,Ld:()=>O,NK:()=>W,Nb:()=>N,P5:()=>b,Sb:()=>U,Tv:()=>E,WD:()=>m,XR:()=>p,X_:()=>_,ZD:()=>A,ZR:()=>F,_I:()=>x,_P:()=>P,aN:()=>v,cR:()=>j,ni:()=>g,r$:()=>$,rK:()=>D,sj:()=>h,u7:()=>T,v$:()=>G,vp:()=>R,vz:()=>B,wb:()=>w,xH:()=>C,yt:()=>H,zP:()=>M});var r=n(23174),o=n(31481),s=n(87894),a=n(60343),i=n(80140),c=n(13439),u=n(62214),d=n(79089);const l=new RegExp(o.kNZ,"i");function f(e,t){return["message",e.toString().replace(".","-"),t].filter(Boolean).join("-")}function h(e){return e.previousLocalId||e.id}function m(e){const{transcriptionId:t}=e,n=(0,c.mS)();return t&&n.transcriptions[t]?.text}function p(e){const{action:t,text:n,sticker:r,photo:o,video:s,audio:a,voice:i,document:c,pollId:u,webPage:d,contact:l,invoice:f,location:h,game:m,storyData:p,giveaway:g,giveawayResults:y,paidMedia:b}=e.content;return Boolean(n)||!(r||o||s||a||i||c||l||u||d||f||h||m||p||g||y||b||"phoneCall"===t?.type)}function g(e,t){const n=t.content.pollId?e.messages.pollById[t.content.pollId]:void 0,{peerId:r,id:o}=t.content.storyData||{};return y({poll:n,story:o&&r?e.stories.byPeerId[r]?.byId[o]:void 0})}function y({poll:e,story:t}){return{poll:e,story:t&&"content"in t?t:void 0}}function b(e){return p(e)?e.content.text||{text:o.bVP}:void 0}function v(e){const{text:t,sticker:n,photo:o,video:s,audio:a,voice:i,document:c,pollId:u,webPage:d,contact:l,action:f,game:h,invoice:m,location:p,storyData:g}=e.content;if(n||s?.isRound)return!0;if(!t||o||s||a||i||c||u||d||l||f||h||m||p||g)return!1;const y=t?.entities?.some((e=>e.type!==r.C7.CustomEmoji));return Boolean(e.emojiOnlyCount&&!y)}function w(e){const{text:t}=e.content;if(!t?.entities?.length&&1===e.emojiOnlyCount)return t.text}function I(e){const{text:t}=e.content;if(1===t?.entities?.length&&t.entities[0].type===r.C7.CustomEmoji&&1===e.emojiOnlyCount)return t.entities[0].documentId}function A(e){const{text:t}=e.content;let n;if(t?.entities){const e=t.entities.find((e=>e.type===r.C7.TextUrl));if(e&&(n=e.url.match(l)),!n){const e=t.entities.find((e=>e.type===r.C7.Url));if(e){const{offset:r,length:o}=e;n=t.text.substring(r,r+o).match(l)}}}if(!n&&t&&(n=t.text.match(l)),n)return{url:n[0],domain:n[3]}}function C(e){const{text:t}=e.content,n=t&&t.text.match(l);if(n)return{url:n[0],domain:n[3]}}function S(e){return e.isOutgoing}function E(e){return Boolean("message"===e.replyInfo?.type)}function k(e){return Boolean(e.forwardInfo||e.content.storyData)}function P(e){return Boolean(e.content.action)}function T(e){return e.chatId===o.zv8&&Math.round(e.id)!==e.id}function M(e){return Boolean(e.senderId)&&!(0,u.L8)(e.senderId)&&S(e)}function x(e){return e.sendingState?"messageSendingStateFailed"===e.sendingState?"failed":"pending":"succeeded"}function N(e){return(0,a.iL)(e.id)}function L(e){return"messageSendingStateFailed"===e.sendingState}function _(e){return e.content.action&&"historyClear"===e.content.action.type}function B(e){const{location:t}=e.content;return"geoLive"===t?.mediaType&&(0,i.Fm)()-(e.date||0)>=t.period}function F(e,t){const{text:n,game:r}=e.content,o=N(e),s=T(e),a=P(e);return Boolean(n?.text.length&&!e.emojiOnlyCount&&!r&&(t||!e.isOutgoing)&&!o&&!s&&!a&&!e.isScheduled)}function D(e){return 1===e.inlineButtons?.length&&1===e.inlineButtons[0].length&&e.inlineButtons[0][0]}function O(e){return e.sort(((e,t)=>e-t))}function R(e){return e.sort(((e,t)=>t-e))}function j(e,t){let n=!1,r=e.length?e.map((e=>(0,s.h8)(e,t)&&!n?(n=!0,O((0,s.Am)(e.concat(t)))):e)):[t];n||(r=r.concat([t])),r.sort(((e,t)=>e[0]-t[0]));let o=r.length;for(let e=0;e<o;e++){const t=r[e],n=r[e-1];n&&(n.includes(t[0])||n.includes(t[0]-1))&&(r[e-1]=O((0,s.Am)(t.concat(n))),r.splice(e,1),o--,e--)}return r}function U(e,t=!1){const n=e.content.text;if(!n)return;const{text:s}=n;let{entities:a}=n;if(s&&"chatId"in e){if(e.chatId===o.zv8){const e=s.match(/^\D*([\d-]{5,7})\D/)?.[1];e&&(a=[...a||[],{type:t?r.C7.Spoiler:r.C7.Code,offset:s.indexOf(e),length:e.length}],a.sort(((e,t)=>e.offset>t.offset?1:-1)))}if(t&&e.chatId===o.b5_&&a&&a.some((e=>e.type===r.C7.Code))){const e=a;a=[];for(let t=0;t<e.length;t++){const n=e[t];n.type===r.C7.Code&&a.push({type:r.C7.Spoiler,offset:n.offset,length:n.length}),a.push(n)}}}return{text:s,entities:a}}function $(e){return"expired"===e.content.action?.type}function z(e){return void 0!==e.content?.ttlSeconds}function V(e){return o.IH3.has(e.mimeType)?"audio":e.shouldSendAsFile?"file":o.gex.has(e.mimeType)?"photo":o.fNs.has(e.mimeType)?"video":"file"}function W(e){return e?"image/webp"===e.mimeType||e.mimeType===o.ikg||e.mimeType===o.Msx:void 0}function H(e,t,n){const s=(0,d.Kl)(e),a=(0,u.rz)(e.id),i=s||`c/${a}`,c=t&&t!==r.l3?`/${t}`:"",l=n?`/${n}`:"";return`${o.jsp}${i}${c}${l}`}function G(e,t){const n=[];let r=[];return e.reduce(((e,t)=>{const n=e[e.length-1];return t.groupedId&&n?.[0]?.groupedId===t.groupedId?(n.push(t),e):(e.push([t]),e)}),[]).forEach((e=>{r.length+e.length>t&&(n.push(r),r=[]),r.push(...e)})),r.length&&n.push(r),n}},87094:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(84051),o=n(59852),s=n(17712),a=n(93545);const i=50,c=50;function u(e,t="color",n){const u=function(e,t,n=i,o){const[c,u]=(0,r.J0)(),d=(0,s.A)((()=>{if(!e.current||o)return void u(void 0);const n=getComputedStyle(e.current).getPropertyValue(t).trim();u(n)}));return(0,a.A)(e,d,o),(0,r.Nf)((()=>{const r=e.current;if(r&&!o)return r.style.setProperty("transition",`${n}ms ${t} linear`,"important"),()=>{r.style.removeProperty("transition")}}),[n,o,t,e]),(0,r.vJ)((()=>{const n=e.current;if(n&&(d(),!o))return n.addEventListener("transitionend",r),()=>{n.removeEventListener("transitionend",r)};function r(e){e.propertyName===t&&d()}}),[o,t,e,d]),c}(e,t,c,n);return(0,r.Kr)((()=>u?(0,o.yY)(u):void 0),[u])}},87357:(e,t,n)=>{"use strict";function r(...e){return e.filter(Boolean).join(" ")}function o(e){return(t,...n)=>{const r="&"===t?e:`${e}__${t}`;return n.reduce(((e,t)=>(t&&(Array.isArray(t)?e.push(...t):e.push(`${r}--${t}`)),e)),[r]).join(" ")}}n.d(t,{A:()=>r,x:()=>o})},87412:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(84051),o=n(13439),s=n(23174),a=n(29807),i=n(87357),c=n(41733),u=n(87094),d=n(17712),l=n(47483),f=n(85118),h=n(82855);var m=n(61911);const p=(0,r.ph)((({ref:e,documentId:t,className:n,style:p,size:g=20,isBig:y,noPlay:b,noVideoOnMobile:v,loopLimit:w,isSelectable:I,withSharedAnimation:A,sharedCanvasRef:C,sharedCanvasHqRef:S,withTranslucentThumb:E,shouldPreloadPreview:k,forceAlways:P,forceOnHeavyAnimation:T,observeIntersectionForLoading:M,observeIntersectionForPlaying:x,onClick:N,onAnimationEnd:L,withSparkles:_,sparklesStyle:B,sparklesClassName:F})=>{let D=(0,r.li)(null);e&&(D=e);const{customEmoji:O,canPlay:R}=(0,l.A)(t),j=(0,r.li)(0),[U,$]=(0,r.J0)(!0),z=O?.shouldUseTextColor,V=(0,u.A)(D,void 0,!z),W=(0,d.A)((e=>{w&&(j.current+=1,j.current>=w?($(!1),e.currentTarget.currentTime=0):(0,c.A)(e.currentTarget))})),H=(0,d.A)((()=>{w&&(j.current+=1,j.current>=w&&$(!1))})),G=O?.stickerSetInfo&&(0,a.CzR)((0,o.mS)(),O.stickerSetInfo);return r.Ay.createElement("div",{ref:D,className:(0,i.A)("CEFe1FhH",_&&"yjv4Sc_e",n,"custom-emoji","emoji"),onClick:N,onAnimationEnd:L,"data-entity-type":s.C7.CustomEmoji,"data-document-id":t,"data-alt":O?.emoji,style:p},_&&r.Ay.createElement(f.A,{className:(0,i.A)("iOlUvSI8",F),style:B,preset:"button"}),I&&r.Ay.createElement("img",{className:"a8dMNkh3",src:m,alt:O?.emoji,"data-entity-type":s.C7.CustomEmoji,"data-document-id":t,draggable:!1}),O?r.Ay.createElement(h.A,{containerRef:D,sticker:O,isSmall:!y,size:g,noPlay:b||!(U&&R),noVideoOnMobile:v,thumbClassName:"O_TaDxWg",fullMediaClassName:"wqju02hR",shouldLoop:!0,loopLimit:w,shouldPreloadPreview:k||b||!R,forceOnHeavyAnimation:T,forceAlways:P,observeIntersectionForLoading:M,observeIntersectionForPlaying:x,withSharedAnimation:A,sharedCanvasRef:G?S:C,withTranslucentThumb:E,onVideoEnded:W,onAnimatedStickerLoop:H,customColor:V}):r.Ay.createElement("div",{className:(0,i.A)("DKi1177s"),draggable:!1}))}))},87679:(e,t,n)=>{"use strict";n.d(t,{FW:()=>c,NN:()=>i,PR:()=>l,eT:()=>u,kc:()=>f,sZ:()=>d,ti:()=>a,zE:()=>s}),n(31481);var r=n(37836);function o(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return new Promise(((t,n)=>{const r=new FileReader;r.onload=e=>{const{result:r}=e.target||{};"string"==typeof r&&t(r),n(new Error("Failed to read blob"))},r.onerror=n,r.readAsDataURL(e)}))}function a(e,t){return new File([e],t,{lastModified:Date.now(),type:e.type})}function i(e){return new Promise(((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=n,r.src=e}))}function c(e){return new Promise(((t,n)=>{const r=document.createElement("video");r.volume=0,r.onloadedmetadata=()=>t(r),r.onerror=n,r.src=e}))}async function u(e){try{const t=await c(e);return await Promise.race([(0,r.v7)(2e3),new Promise(((e,n)=>{t.onseeked=()=>{t.videoWidth&&t.videoHeight||e(void 0);const n=document.createElement("canvas");n.width=t.videoWidth,n.height=t.videoHeight,n.getContext("2d").drawImage(t,0,0),n.toBlob((t=>{e(t?URL.createObjectURL(t):void 0)}))},t.onerror=n,t.currentTime=Math.min(t.duration,1)}))])}catch(e){return}}async function d(e){return(await fetch(e)).blob()}function l(e){const t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t}function f(e){if(e?.length)return Array.from(e).map(h).filter((e=>e.size))}function h(e){const t=e.name.split(".").pop();return e.type||"mov"!==t.toLowerCase()?e:new File([e],e.name,{type:"video/quicktime"})}"undefined"==typeof File&&(self.File=class extends Blob{constructor(e,t,n){if(n){const{type:t,...r}=n;super(e,{type:t}),o(this,"name",void 0),Object.assign(this,r)}else super(e),o(this,"name",void 0);this.name=t}})},87894:(e,t,n)=>{"use strict";function r(e,t){return e.reduce(((e,n)=>(e[n[t]]=n,e)),{})}function o(e,t){return e.reduce(((e,n)=>{const[r,o]=t(n);return e[r]=o,e}),{})}function s(e,t){return Object.keys(e).reduce(((n,r,o)=>(n[r]=t(e[r],r,o,e),n)),{})}function a(e,t){return t.reduce(((t,n)=>(t[n]=e[n],t)),{})}function i(e,t){return t.reduce(((t,n)=>(e[n]&&(t[n]=e[n]),t)),{})}function c(e,t){const n=new Set(t.map(String));return a(e,Object.keys(e).filter((e=>!n.has(e))))}function u(e){return Object.keys(e).reduce(((t,n)=>{const r=n;return void 0!==e[r]&&(t[r]=e[r]),t}),{})}function d(e,t,n="asc"){function r(e,t,n,r){const o=("function"==typeof n?n(e):e[n])||0,s=("function"==typeof n?n(t):t[n])||0;return r?o-s:s-o}if(Array.isArray(t)){const[o,s]=Array.isArray(n)?n:[n,n],[a,i]=t,c="asc"===o,u="asc"===s;return e.sort(((e,t)=>r(e,t,a,c)||r(e,t,i,u)))}const o="asc"===n;return e.sort(((e,n)=>r(e,n,t,o)))}function l(e){return Array.from(new Set(e))}function f(e,t){return[...new Map(e.map((e=>[e[t],e]))).values()]}function h(e){return e.filter(Boolean)}function m(e,t){return e.length===t.length&&e.every(((e,n)=>e===t[n]))}function p(e,t){return e[0]<=t[t.length-1]&&e[e.length-1]>=t[0]}function g(e,t){return t[0]<=e&&e<=t[t.length-1]}function y(e,t){return e.filter((e=>t.has(e)))}function b(e,t){if(!e?.length)return e;const n=[];let r=0;for(let o=0;o<e.length;o++)t[r]===e[o]?r+=1:n.push(e[o]);return n}function v(e,t){const n=[];for(let r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}function w(e,t){const n=[],r=[];return e.forEach(((e,o,s)=>(t(e,o,s)?n:r).push(e))),[n,r]}function I(e){return C(e)?Array.isArray(e)?e.map(I):Object.keys(e).reduce(((t,n)=>(t[n]=I(e[n]),t)),{}):e}function A(e){return C(e)&&!Array.isArray(e)}function C(e){return"object"==typeof e&&null!==e}function S(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return e[n]}function E(e,t){return Number(t)-Number(e)}n.d(t,{$h:()=>y,Am:()=>l,LG:()=>s,My:()=>d,OX:()=>g,Oy:()=>u,Uk:()=>S,Up:()=>a,Vh:()=>A,Xd:()=>f,_E:()=>i,cJ:()=>c,dU:()=>r,h8:()=>p,jB:()=>w,k:()=>m,lD:()=>v,lK:()=>b,mg:()=>I,oE:()=>h,pA:()=>o,zV:()=>E})},88368:(e,t,n)=>{"use strict";function r(e,t){return e.chats.topicsInfoById[t]}function o(e,t){return r(e,t)?.topicsById}function s(e,t,n){return r(e,t)?.topicsById?.[n]}n.d(t,{S0:()=>s,pS:()=>o,xy:()=>r})},88458:(e,t,n)=>{"use strict";let r,o;async function s(){return r||(r=n.e(6708).then(n.bind(n,66708)).then((e=>e.default)),o=await r),r}function a(){return o}n.d(t,{Y:()=>s,o:()=>a}),setTimeout(s,3e3)},88742:(e,t,n)=>{"use strict";var r=n(37932),o=n(66644),s=n(63495),a=n(96454),i=n(14487),c=n(5560),u=n(6e4),d=n(70934),l=n(21687),f=n(57751),h=n(71322),m=n(84382),p=n(84553),g=n(24021),y=n(42385),b=n(13439),v=n(17872),w=n(32989),I=n(29807),A=n(30708),C=n(55232);(0,m.S)((e=>{let t=(0,b.mS)();t.isInited&&(0,A.l)(t).shouldUseSystemTheme&&(t=(0,v.qoo)(t,{theme:e}),(0,b.UF)(t))})),(0,b.aJ)("switchMultitabRole",(async(e,t,n)=>{const{isMasterTab:r,tabId:o=(0,i.g0)()}=n;if(r!==(0,I.nTw)(e,o).isMasterTab)if(e=(0,w.w)(e,{isMasterTab:r},o),(0,b.UF)(e,{forceSyncOnIOs:!0}),r){if(e.passcode.hasPasscode&&!e.passcode.isScreenLocked){const{sessionJson:e}=await(0,d.ug)(),t=JSON.parse(e);(0,f.AA)(t)}(0,f.wr)()&&(0,y.ZJ)(),(e=(0,b.mS)()).passcode.hasPasscode&&e.passcode.isScreenLocked||("connectionStateReady"===e.connectionState&&(e={...e,connectionState:"connectionStateConnecting"},(0,b.UF)(e)),t.initApi()),(0,p.ii)(),s.vM&&(0,C.X)(e.sharedState)}else(0,c.al)(),t.destroyConnection(),(0,p.KX)(),(0,C.m)(),(0,y.z0)(),t.onSomeTabSwitchedMultitabRole();else(0,g.px)("broadcastLocalDbUpdateFull")})),(0,b.aJ)("onSomeTabSwitchedMultitabRole",(async e=>{if(e.passcode.hasPasscode&&!e.passcode.isScreenLocked){const{sessionJson:e}=await(0,d.ug)(),t=JSON.parse(e);(0,f.AA)(t)}(0,g.px)("broadcastLocalDbUpdateFull")})),(0,b.aJ)("initShared",(()=>{(0,p.ii)()})),(0,b.aJ)("initMain",(e=>{const{hasWebNotifications:t,hasPushNotifications:n}=(0,I.eCL)(e);if(t&&n){const e=["click","keypress"],t=()=>{(0,c.B1)(),e.forEach((e=>{document.removeEventListener(e,t)}))};e.forEach((e=>{document.addEventListener(e,t,{once:!0})}))}})),(0,r.DW)((e=>{let t=!1;const n=(0,I.nTw)(e,(0,i.g0)());if(!n?.shouldInit)return;e=(0,b.mS)(),e=(0,w.w)(e,{shouldInit:!1},n.id);const{messageTextSize:r,language:s,shouldUseSystemTheme:c}=(0,A.l)(e),d=(0,I.SJA)(e),f=(0,m.V)(),g=c?f:d,y=(0,I.Cw0)(e);(0,u.wT)(s,void 0,!0),(0,o.RK)((()=>{document.documentElement.style.setProperty("--composer-text-size",`${Math.max(r,a.pz?16:15)}px`),document.documentElement.style.setProperty("--message-meta-height",`${Math.floor(1.3125*r)}px`),document.documentElement.style.setProperty("--message-text-size",`${r}px`),document.documentElement.setAttribute("data-message-text-size",r.toString()),document.body.classList.add("initial"),document.body.classList.add(a.TF?"is-touch-env":"is-pointer-env"),(0,l.u)(y),a.pz?document.body.classList.add("is-ios"):a.Ni?document.body.classList.add("is-android"):a.MP?document.body.classList.add("is-macos"):a.H8?document.body.classList.add("is-windows"):a.ig&&document.body.classList.add("is-linux"),a.Yw&&document.body.classList.add("is-safari"),a.cp&&document.body.classList.add("is-electron")}));const C=(0,I.PKK)(e);(0,h.Ay)(g,C),e=(0,v.qoo)(e,{theme:g}),(0,p.ii)(),t=!0,(0,b.UF)(e)})),(0,b.aJ)("setInstallPrompt",((e,t,n)=>{const{canInstall:r,tabId:o=(0,i.g0)()}=n;return(0,w.w)(e,{canInstall:r},o)})),(0,b.aJ)("setIsUiReady",((e,t,n)=>{const{uiReadyState:r,tabId:s=(0,i.g0)()}=n;return 2===r&&(0,o.RK)((()=>{document.body.classList.remove("initial")})),(0,w.w)(e,{uiReadyState:r},s)})),(0,b.aJ)("setAuthPhoneNumber",((e,t,n)=>{const{phoneNumber:r}=n;return{...e,authPhoneNumber:r}})),(0,b.aJ)("setAuthRememberMe",((e,t,n)=>({...e,authRememberMe:Boolean(n)}))),(0,b.aJ)("clearAuthErrorKey",(e=>({...e,authErrorKey:void 0}))),(0,b.aJ)("disableHistoryAnimations",((e,t,n)=>{const{tabId:r=(0,i.g0)()}=n||{};setTimeout((()=>{e=(0,b.mS)(),e=(0,w.w)(e,{shouldSkipHistoryAnimations:!1},r),(0,b.UF)(e),(0,o.RK)((()=>{document.body.classList.remove("no-animate")}))}),450),e=(0,w.w)(e,{shouldSkipHistoryAnimations:!0},r),(0,b.UF)(e,{forceSyncOnIOs:!0})}))},89704:(e,t,n)=>{"use strict";e.exports=n.p+"lock.f11661905df47960fa3e.png"},89925:(e,t,n)=>{"use strict";n.d(t,{$C:()=>i,Bn:()=>a,CC:()=>o,D7:()=>p,DV:()=>h,G9:()=>d,TD:()=>m,TN:()=>r,TQ:()=>u,Ul:()=>c,VS:()=>s,Vw:()=>b,d9:()=>l,je:()=>v,n7:()=>f,tn:()=>y,zW:()=>g});let r=function(e){return e[e.Backwards=0]="Backwards",e[e.Forwards=1]="Forwards",e[e.Around=2]="Around",e}({}),o=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Static=2]="Static",e}({}),s=function(e){return e[e.Main=0]="Main",e[e.EditProfile=1]="EditProfile",e[e.Notifications=2]="Notifications",e[e.DataStorage=3]="DataStorage",e[e.Language=4]="Language",e[e.ActiveSessions=5]="ActiveSessions",e[e.General=6]="General",e[e.GeneralChatBackground=7]="GeneralChatBackground",e[e.GeneralChatBackgroundColor=8]="GeneralChatBackgroundColor",e[e.Privacy=9]="Privacy",e[e.PrivacyPhoneNumber=10]="PrivacyPhoneNumber",e[e.PrivacyAddByPhone=11]="PrivacyAddByPhone",e[e.PrivacyLastSeen=12]="PrivacyLastSeen",e[e.PrivacyProfilePhoto=13]="PrivacyProfilePhoto",e[e.PrivacyBio=14]="PrivacyBio",e[e.PrivacyBirthday=15]="PrivacyBirthday",e[e.PrivacyGifts=16]="PrivacyGifts",e[e.PrivacyPhoneCall=17]="PrivacyPhoneCall",e[e.PrivacyPhoneP2P=18]="PrivacyPhoneP2P",e[e.PrivacyForwarding=19]="PrivacyForwarding",e[e.PrivacyVoiceMessages=20]="PrivacyVoiceMessages",e[e.PrivacyMessages=21]="PrivacyMessages",e[e.PrivacyGroupChats=22]="PrivacyGroupChats",e[e.PrivacyPhoneNumberAllowedContacts=23]="PrivacyPhoneNumberAllowedContacts",e[e.PrivacyPhoneNumberDeniedContacts=24]="PrivacyPhoneNumberDeniedContacts",e[e.PrivacyLastSeenAllowedContacts=25]="PrivacyLastSeenAllowedContacts",e[e.PrivacyLastSeenDeniedContacts=26]="PrivacyLastSeenDeniedContacts",e[e.PrivacyProfilePhotoAllowedContacts=27]="PrivacyProfilePhotoAllowedContacts",e[e.PrivacyProfilePhotoDeniedContacts=28]="PrivacyProfilePhotoDeniedContacts",e[e.PrivacyBioAllowedContacts=29]="PrivacyBioAllowedContacts",e[e.PrivacyBioDeniedContacts=30]="PrivacyBioDeniedContacts",e[e.PrivacyBirthdayAllowedContacts=31]="PrivacyBirthdayAllowedContacts",e[e.PrivacyBirthdayDeniedContacts=32]="PrivacyBirthdayDeniedContacts",e[e.PrivacyGiftsAllowedContacts=33]="PrivacyGiftsAllowedContacts",e[e.PrivacyGiftsDeniedContacts=34]="PrivacyGiftsDeniedContacts",e[e.PrivacyPhoneCallAllowedContacts=35]="PrivacyPhoneCallAllowedContacts",e[e.PrivacyPhoneCallDeniedContacts=36]="PrivacyPhoneCallDeniedContacts",e[e.PrivacyPhoneP2PAllowedContacts=37]="PrivacyPhoneP2PAllowedContacts",e[e.PrivacyPhoneP2PDeniedContacts=38]="PrivacyPhoneP2PDeniedContacts",e[e.PrivacyForwardingAllowedContacts=39]="PrivacyForwardingAllowedContacts",e[e.PrivacyForwardingDeniedContacts=40]="PrivacyForwardingDeniedContacts",e[e.PrivacyVoiceMessagesAllowedContacts=41]="PrivacyVoiceMessagesAllowedContacts",e[e.PrivacyVoiceMessagesDeniedContacts=42]="PrivacyVoiceMessagesDeniedContacts",e[e.PrivacyGroupChatsAllowedContacts=43]="PrivacyGroupChatsAllowedContacts",e[e.PrivacyGroupChatsDeniedContacts=44]="PrivacyGroupChatsDeniedContacts",e[e.PrivacyBlockedUsers=45]="PrivacyBlockedUsers",e[e.PrivacyNoPaidMessages=46]="PrivacyNoPaidMessages",e[e.Performance=47]="Performance",e[e.Folders=48]="Folders",e[e.FoldersCreateFolder=49]="FoldersCreateFolder",e[e.FoldersEditFolder=50]="FoldersEditFolder",e[e.FoldersEditFolderFromChatList=51]="FoldersEditFolderFromChatList",e[e.FoldersEditFolderInvites=52]="FoldersEditFolderInvites",e[e.FoldersIncludedChats=53]="FoldersIncludedChats",e[e.FoldersIncludedChatsFromChatList=54]="FoldersIncludedChatsFromChatList",e[e.FoldersExcludedChats=55]="FoldersExcludedChats",e[e.FoldersExcludedChatsFromChatList=56]="FoldersExcludedChatsFromChatList",e[e.TwoFaDisabled=57]="TwoFaDisabled",e[e.TwoFaNewPassword=58]="TwoFaNewPassword",e[e.TwoFaNewPasswordConfirm=59]="TwoFaNewPasswordConfirm",e[e.TwoFaNewPasswordHint=60]="TwoFaNewPasswordHint",e[e.TwoFaNewPasswordEmail=61]="TwoFaNewPasswordEmail",e[e.TwoFaNewPasswordEmailCode=62]="TwoFaNewPasswordEmailCode",e[e.TwoFaEnabled=63]="TwoFaEnabled",e[e.TwoFaChangePasswordCurrent=64]="TwoFaChangePasswordCurrent",e[e.TwoFaChangePasswordNew=65]="TwoFaChangePasswordNew",e[e.TwoFaChangePasswordConfirm=66]="TwoFaChangePasswordConfirm",e[e.TwoFaChangePasswordHint=67]="TwoFaChangePasswordHint",e[e.TwoFaTurnOff=68]="TwoFaTurnOff",e[e.TwoFaRecoveryEmailCurrentPassword=69]="TwoFaRecoveryEmailCurrentPassword",e[e.TwoFaRecoveryEmail=70]="TwoFaRecoveryEmail",e[e.TwoFaRecoveryEmailCode=71]="TwoFaRecoveryEmailCode",e[e.TwoFaCongratulations=72]="TwoFaCongratulations",e[e.ActiveWebsites=73]="ActiveWebsites",e[e.PasscodeDisabled=74]="PasscodeDisabled",e[e.PasscodeNewPasscode=75]="PasscodeNewPasscode",e[e.PasscodeNewPasscodeConfirm=76]="PasscodeNewPasscodeConfirm",e[e.PasscodeEnabled=77]="PasscodeEnabled",e[e.PasscodeChangePasscodeCurrent=78]="PasscodeChangePasscodeCurrent",e[e.PasscodeChangePasscodeNew=79]="PasscodeChangePasscodeNew",e[e.PasscodeChangePasscodeConfirm=80]="PasscodeChangePasscodeConfirm",e[e.PasscodeTurnOff=81]="PasscodeTurnOff",e[e.PasscodeCongratulations=82]="PasscodeCongratulations",e[e.Experimental=83]="Experimental",e[e.Stickers=84]="Stickers",e[e.QuickReaction=85]="QuickReaction",e[e.CustomEmoji=86]="CustomEmoji",e[e.DoNotTranslate=87]="DoNotTranslate",e[e.FoldersShare=88]="FoldersShare",e}({}),a=function(e){return e[e.ChatList=0]="ChatList",e[e.AIKonwledge=1]="AIKonwledge",e[e.AITranslate=2]="AITranslate",e[e.GlobalSearch=3]="GlobalSearch",e[e.Settings=4]="Settings",e[e.Contacts=5]="Contacts",e[e.Archived=6]="Archived",e[e.NewChannelStep1=7]="NewChannelStep1",e[e.NewChannelStep2=8]="NewChannelStep2",e[e.NewGroupStep1=9]="NewGroupStep1",e[e.NewGroupStep2=10]="NewGroupStep2",e}({}),i=function(e){return e[e.ChatList=0]="ChatList",e[e.ChannelList=1]="ChannelList",e[e.BotApps=2]="BotApps",e[e.Media=3]="Media",e[e.Links=4]="Links",e[e.Files=5]="Files",e[e.Music=6]="Music",e[e.Voice=7]="Voice",e[e.AI=8]="AI",e}({}),c=function(e){return e[e.ChatInfo=0]="ChatInfo",e[e.Management=1]="Management",e[e.Statistics=2]="Statistics",e[e.BoostStatistics=3]="BoostStatistics",e[e.MessageStatistics=4]="MessageStatistics",e[e.StoryStatistics=5]="StoryStatistics",e[e.StickerSearch=6]="StickerSearch",e[e.GifSearch=7]="GifSearch",e[e.PollResults=8]="PollResults",e[e.AddingMembers=9]="AddingMembers",e[e.CreateTopic=10]="CreateTopic",e[e.EditTopic=11]="EditTopic",e[e.MonetizationStatistics=12]="MonetizationStatistics",e[e.ChatAI=13]="ChatAI",e}({}),u=function(e){return e[e.Inline=0]="Inline",e[e.ScheduledInline=1]="ScheduledInline",e[e.SharedMedia=2]="SharedMedia",e[e.ProfileAvatar=3]="ProfileAvatar",e[e.SettingsAvatar=4]="SettingsAvatar",e[e.MiddleHeaderAvatar=5]="MiddleHeaderAvatar",e[e.Album=6]="Album",e[e.ScheduledAlbum=7]="ScheduledAlbum",e[e.SearchResult=8]="SearchResult",e[e.ChannelAvatar=9]="ChannelAvatar",e[e.SuggestedAvatar=10]="SuggestedAvatar",e[e.StarsTransaction=11]="StarsTransaction",e[e.PreviewMedia=12]="PreviewMedia",e[e.SponsoredMessage=13]="SponsoredMessage",e}({}),d=function(e){return e[e.StoryRibbon=0]="StoryRibbon",e[e.MiddleHeaderAvatar=1]="MiddleHeaderAvatar",e[e.ChatList=2]="ChatList",e[e.SearchResult=3]="SearchResult",e}({}),l=function(e){return e[e.Inline=0]="Inline",e[e.SharedMedia=1]="SharedMedia",e[e.Search=2]="Search",e[e.OneTimeModal=3]="OneTimeModal",e}({}),f=function(e){return e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}({}),h=function(e){return e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}({}),m=function(e){return e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}({}),p=function(e){return e[e.Closed=0]="Closed",e[e.InProgress=1]="InProgress",e[e.Loading=2]="Loading",e}({}),g=function(e){return e[e.Profile=0]="Profile",e[e.SharedMedia=1]="SharedMedia",e[e.MemberList=2]="MemberList",e[e.GiftList=3]="GiftList",e[e.StoryList=4]="StoryList",e[e.SavedDialogs=5]="SavedDialogs",e}({}),y=function(e){return e[e.Checkout=0]="Checkout",e[e.SavedPayments=1]="SavedPayments",e[e.ConfirmPassword=2]="ConfirmPassword",e[e.PaymentInfo=3]="PaymentInfo",e[e.ShippingInfo=4]="ShippingInfo",e[e.Shipping=5]="Shipping",e[e.ConfirmPayment=6]="ConfirmPayment",e}({});const b="UPLOADING_WALLPAPER_SLUG";let v=function(e){return e[e.Initial=0]="Initial",e[e.ChatPrivacyType=1]="ChatPrivacyType",e[e.Discussion=2]="Discussion",e[e.ChannelSubscribers=3]="ChannelSubscribers",e[e.GroupType=4]="GroupType",e[e.GroupPermissions=5]="GroupPermissions",e[e.GroupRemovedUsers=6]="GroupRemovedUsers",e[e.ChannelRemovedUsers=7]="ChannelRemovedUsers",e[e.GroupUserPermissionsCreate=8]="GroupUserPermissionsCreate",e[e.GroupUserPermissions=9]="GroupUserPermissions",e[e.ChatAdministrators=10]="ChatAdministrators",e[e.GroupRecentActions=11]="GroupRecentActions",e[e.ChatAdminRights=12]="ChatAdminRights",e[e.ChatNewAdminRights=13]="ChatNewAdminRights",e[e.GroupMembers=14]="GroupMembers",e[e.GroupAddAdmins=15]="GroupAddAdmins",e[e.Invites=16]="Invites",e[e.EditInvite=17]="EditInvite",e[e.Reactions=18]="Reactions",e[e.InviteInfo=19]="InviteInfo",e[e.JoinRequests=20]="JoinRequests",e}({})},90603:(e,t,n)=>{"use strict";n.d(t,{Mt:()=>f,e$:()=>d,GR:()=>l});const r=n.p+"blue.7addb55a171bbda244ac.svg",o=n.p+"green.19008e11c98b08550285.svg";var s=n(38027);const a=n.p+"red.1ab26ec752237fc45355.svg",i=n.p+"rose.6dd2db47d5e1fb9bdb9d.svg",c=n.p+"violet.7c7f825ebb51cf3084e3.svg",u={7322096:[r,"blue"],16766590:[n.p+"yellow.40f6b4865f20f3e6a1ab.svg","yellow"],13338331:[c,"violet"],9367192:[o,"green"],16749490:[i,"rose"],16478047:[a,"red"]};function d(){return Object.keys(u).map((e=>parseInt(e,10)))}function l(e){return e&&u[e][0]||s}function f(e){return`--color-topic-${e&&u[e][1]||"grey"}`}},90709:(e,t,n)=>{"use strict";n.d(t,{Ny:()=>b,G:()=>d,wT:()=>M,Wi:()=>i.W,rt:()=>a.rt,ZV:()=>a.ZV,eh:()=>a.eh,A3:()=>h,pU:()=>u,Xj:()=>v.Xj,Sb:()=>s.Sb,Q_:()=>o.Q_,ES:()=>s.ES,AB:()=>a.AB,Fi:()=>v.Fi,Gh:()=>r.Gh,IC:()=>o.IC,l1:()=>o.l1,__:()=>o.__,cP:()=>o.cP,L7:()=>o.L7,Wm:()=>a.Wm,Js:()=>o.Js,Gg:()=>o.Gg,SM:()=>x,Em:()=>N,nr:()=>o.nr,mr:()=>a.mr,ZD:()=>s.ZD,A5:()=>o.A5,zc:()=>o.zc,zb:()=>a.zb,ih:()=>a.ih,sT:()=>o.sT,ub:()=>o.ub,$r:()=>a.$r,cG:()=>o.cG,Kl:()=>r.Kl,Fk:()=>a.Fk,si:()=>a.si,sd:()=>a.sd,Cz:()=>a.Cz,VO:()=>a.VO,VD:()=>a.VD,LK:()=>a.LK,wp:()=>a.wp,Qm:()=>a.Qm,r_:()=>a.r_,lH:()=>a.lH,aN:()=>s.aN,zC:()=>a.zC,ed:()=>a.ed,GZ:()=>s.GZ,NO:()=>a.NO,y2:()=>a.y2,yt:()=>s.yt,fB:()=>a.fB,EO:()=>a.EO,CI:()=>a.CI,sj:()=>s.sj,qG:()=>a.qG,yl:()=>a.yl,cs:()=>a.cs,cU:()=>c,lk:()=>a.lk,gU:()=>o.gU,Jw:()=>s.Jw,rK:()=>s.rK,wb:()=>s.wb,ni:()=>s.ni,fP:()=>a.fP,P5:()=>s.P5,zX:()=>a.zX,gB:()=>a.gB,T_:()=>a.T_,Rp:()=>a.Rp,dc:()=>a.dc,QC:()=>a.QC,i7:()=>o.i7,CO:()=>o.CO,PX:()=>o.PX,Zg:()=>o.Zg,kR:()=>r.kR,Xn:()=>a.Xn,xi:()=>a.xi,rI:()=>a.rI,e7:()=>o.e7,mU:()=>a.mU,Jj:()=>l,_I:()=>s._I,aL:()=>C.aL,Mw:()=>a.Mw,$_:()=>A,EN:()=>I,Dk:()=>a.Dk,u0:()=>r.u0,Yg:()=>r.Yg,uC:()=>p,CD:()=>r.CD,NZ:()=>a.NZ,sC:()=>a.sC,Ct:()=>a.Ct,Pg:()=>a.Pg,rp:()=>v.rp,cy:()=>a.cy,FE:()=>s.FE,KG:()=>a.KG,mR:()=>a.mR,XR:()=>s.XR,G5:()=>s.G5,_P:()=>s._P,Qe:()=>o.Qe,zP:()=>s.zP,SJ:()=>o.SJ,TJ:()=>o.TJ,yn:()=>o.yn,WX:()=>o.WX,YE:()=>o.YE,gA:()=>o.gA,Vs:()=>o.Vs,kE:()=>o.kE,Rl:()=>o.Rl,VN:()=>o.VN,PL:()=>r.PL,Ml:()=>a.Ml,hr:()=>a.hr,r$:()=>s.r$,Ak:()=>s.Ak,vz:()=>s.vz,X_:()=>s.X_,iZ:()=>a.iZ,Ax:()=>a.Ax,HN:()=>s.HN,Nb:()=>s.Nb,ZR:()=>s.ZR,Ie:()=>s.Ie,eu:()=>g,Tv:()=>s.Tv,a0:()=>f,u7:()=>s.u7,DX:()=>v.DX,NK:()=>s.NK,tv:()=>r.tv,L8:()=>o.L8,PF:()=>r.PF,Sq:()=>o.Sq,cR:()=>s.cR,Ld:()=>s.Ld,vp:()=>s.vp,fu:()=>m,UB:()=>r.UB,v$:()=>s.v$,m4:()=>C.m4,QE:()=>o.QE,AK:()=>y});var r=n(79089),o=n(62214),s=n(86525),a=n(77312),i=n(24896);function c(e){return e.isOutgoing?e.reactions?.recentReactions?.[0]:void 0}function u(e,t){const{currentUserId:n}=e;return t?.recentReactions?.some((({isUnread:e,isOwn:t,peerId:r})=>e&&!t&&n!==r))}function d(e){return!e.results.some((({count:e,localAmount:t})=>e||t))}function l(e){switch(e.type){case"emoji":return`emoji-${e.emoticon}`;case"custom":return`document-${e.documentId}`;case"paid":return"paid";default:return`unsupported-${e.emoticon||e.documentId}`}}function f(e,t){return e===t||!(!e||!t)&&l(e)===l(t)}function h(e,t){return"all"===t.type?"emoji"===e.type||t.areCustomAllowed:"some"===t.type&&t.allowed.some((t=>f(t,e)))}function m(e,t){return e.slice().sort(((e,n)=>{const r=e?"reaction"in e?e.reaction:e:void 0,o=n?"reaction"in n?n.reaction:n:void 0;if("paid"===r?.type)return-1;if("paid"===o?.type)return 1;const s=t?.findIndex((e=>f(e,r)))||0,a=t?.findIndex((e=>f(e,o)))||0;return(s>-1?s:1/0)-(a>-1?a:1/0)}))}function p(e){return e.reactions?.results?.filter((e=>g(e))).sort(((e,t)=>e.chosenOrder-t.chosenOrder)).map((e=>e.reaction))||[]}function g(e){return void 0!==e.chosenOrder}function y(e,t){const n=e.map((e=>g(e)?{...e,chosenOrder:void 0,count:e.count-1}:e)).filter((({count:e})=>e>0));return t.forEach(((e,t)=>{const r=n.findIndex((t=>f(t.reaction,e)));r>-1?n[r]={...n[r],chosenOrder:t,count:n[r].count+1}:n.push({reaction:e,chosenOrder:t,count:1})})),n}function b(e,t,n,r){const o=[];return e.some((e=>"paid"===e.reaction.type))?(e.forEach((e=>{"paid"!==e.reaction.type?o.push(e):o.push({...e,localAmount:(e.localAmount||0)+t,chosenOrder:-1,localIsPrivate:void 0!==n?n:e.localIsPrivate,localPeerId:r||e.localPeerId,localPreviousChosenOrder:e.chosenOrder})})),o):[{reaction:{type:"paid"},count:0,chosenOrder:-1,localAmount:t,localIsPrivate:n,localPeerId:r},...e]}var v=n(20179);const w=480;function I(e,t="preview",n){if(Boolean(e.content.video)){if(n&&!e.content.altVideos)return;const r=n?e.content.altVideos.reduce(((e,t)=>Math.abs((t.width||0)-w)<Math.abs((e.width||0)-w)?t:e)):e.content.video;return(0,a.sC)(r,t)}return(0,a.rI)(e.content.photo,t)}function A(e,t){return`story${e}-${t}`}var C=n(78396),S=n(31481),E=n(87894),k=n(43336),P=n(4350),T=n(13439);function M(e,{visibility:t,isUnspecified:n,allowedIds:r,blockedIds:s,shouldAllowPremium:a,botsPrivacy:i}){const{users:{byId:c},chats:{byId:u}}=e,[d,l]=(0,E.jB)(r,o.L8),[f,h]=(0,E.jB)(s,o.L8);return{visibility:t,isUnspecified:n,allowedUsers:d.map((e=>c[e])).filter(Boolean),allowedChats:l.map((e=>u[e])).filter(Boolean),blockedUsers:f.map((e=>c[e])).filter(Boolean),blockedChats:h.map((e=>u[e])).filter(Boolean),shouldAllowPremium:a,botsPrivacy:i}}function x(){const e=(0,T.mS)().appConfig?.limits?.moreAccounts||S.dR$.moreAccounts,t=(0,P.zk)(),n=Object.values(t).filter((e=>e.isPremium)).length,r=e[0]+n;return(0,k.qE)(r,e[0],e[1])}function N(){return Object.values((0,P.zk)()).filter((e=>!e.isTest)).length}},91525:(e,t,n)=>{"use strict";n.d(t,{ON:()=>u,QC:()=>i,fE:()=>c,rK:()=>a,zV:()=>s});const r=1073741824,o=1048576;function s(e){return e>r/2?`${(e/r).toFixed(1)} GB`:e>o/2?`${(e/o).toFixed(1)} MB`:`${(e/1024).toFixed(1)} KB`}function a(e){const{fileName:t,mimeType:n}=e;return i(t,n)}function i(e,t){return e&&-1!==e.indexOf(".")?e.split(".").pop():t.split("/").pop()}function c(e){switch(e){case"apk":case"xls":case"xlsx":case"ods":return"green";case"zip":case"rar":case"7z":case"tar":case"gz":case"bz2":case"liz":case"lz4":case"lz5":case"xz":case"zst":case"wim":case"ppt":case"pptx":case"odp":return"orange";case"pdf":case"xps":return"red";default:return"default"}}function u(e){return Boolean(e.previewBlobUrl||e.thumbnail)}},91800:(e,t,n)=>{"use strict";function r(e){const t=parseInt(getComputedStyle(e).lineHeight,10);return{totalLines:e.scrollHeight/t,lineHeight:t}}n.d(t,{A:()=>r})},93545:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(84051),o=n(46536),s=n(41257);const a=new Map;function i(e,t,n=!1){const i=(0,s.i)(t);(0,r.vJ)((()=>{const t=e?.current;if(!t||n)return;const r=([e])=>{0===e.contentRect.width&&0===e.contentRect.height||i.current(e)};let[s,c]=a.get(t)||[void 0,void 0];return s||(c=(0,o.h)(),s=new ResizeObserver(c.runCallbacks),a.set(t,[s,c]),s.observe(t)),c.addCallback(r),()=>{c.removeCallback(r),c.hasCallbacks()||(s.unobserve(t),s.disconnect(),a.delete(t))}}),[n,i,e])}},93578:(e,t,n)=>{"use strict";n.d(t,{Tc:()=>l,Dc:()=>f,_G:()=>h});var r=n(31481);const o=36,s=2147483647;function a(e,t,n){let r;for(e=n?Math.floor(e/700):e>>1,e+=Math.floor(e/t),r=0;e>455;r+=o)e=Math.floor(e/35);return Math.floor(r+36*e/(e+38))}function i(e,t){const n=[],r=[],i=e.length;let c,u,d,l,f,h,m,p,g,y,b,v,w;for(c=128,d=0,l=72,f=e.lastIndexOf("-"),f<0&&(f=0),h=0;h<f;++h){if(t&&(r[n.length]=e.charCodeAt(h)-65<26),e.charCodeAt(h)>=128)throw new RangeError("Illegal input >= 0x80");n.push(e.charCodeAt(h))}for(m=f>0?f+1:0;m<i;){for(p=d,g=1,y=o;;y+=o){if(m>=i)throw RangeError("punycode_bad_input(1)");if(b=(I=e.charCodeAt(m++))-48<10?I-22:I-65<26?I-65:I-97<26?I-97:o,b>=o)throw RangeError("punycode_bad_input(2)");if(b>Math.floor((s-d)/g))throw RangeError("punycode_overflow(1)");if(d+=b*g,v=y<=l?1:y>=l+26?26:y-l,b<v)break;if(g>Math.floor(s/(o-v)))throw RangeError("punycode_overflow(2)");g*=o-v}if(u=n.length+1,l=a(d-p,u,0===p),Math.floor(d/u)>s-c)throw RangeError("punycode_overflow(3)");c+=Math.floor(d/u),d%=u,t&&r.splice(d,0,e.charCodeAt(m-1)-65<26),n.splice(d,0,c),d++}var I;if(t)for(d=0,w=n.length;d<w;d++)r[d]&&(n[d]=String.fromCharCode(n[d]).toUpperCase().charCodeAt(0));return(e=>{const t=[];let n=0;const r=e.length;let o;for(;n<r;){if(o=e[n++],55296==(63488&o))throw new RangeError("UTF-16(encode): Illegal UTF-16 value");o>65535&&(o-=65536,t.push(String.fromCharCode(o>>>10&1023|55296)),o=56320|1023&o),t.push(String.fromCharCode(o))}return t.join("")})(n)}const c=function(e){const t=e.split("."),n=[];for(let e=0;e<t.length;++e){const r=t[e];n.push(r.match(/^xn--/)?i(r.slice(4)):r)}return n.join(".")},u=new Set(["http:","https:","tg:","ton:","mailto:","tel:"]),d="https://";function l(e){try{const t=new URL(e);return u.has(t.protocol)?e:`${d}${e}`}catch(t){return`${d}${e}`}}function f(e){const t=l(e);try{const e=new URL(t),n=c(e.hostname);try{return decodeURI(e.toString()).replace(e.hostname,n)}catch(t){return e.toString().replace(e.hostname,n)}}catch(t){r.Oig&&console.warn("SafeLink.getDecodedUrl error ",e,t)}}function h(e){let t;try{t=c(new URL(l(e)).hostname)}catch(e){return!0}let n=!1,r=!1;for(const e of Array.from(t))if(/\p{L}/u.test(e)&&(/\p{Script=Latin}/u.test(e)?n=!0:r=!0,n&&r))return!0;return!1}},93855:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var r=n(84051),o=n(13439),s=n(31481),a=n(90709),i=n(29807),c=n(87679),u=n(24909),d=n(4350),l=n(63527),f=n(32625),h=n(17712),m=n(62587),p=n(672);const g=1e3,y=6e4,b=72;function v(e){const t=Boolean(e)&&(0,o.mS)().authRememberMe,n=(0,l.A)(i.nIz),[v,w]=(0,r.J0)((0,d.zk)()),I=e&&(0,a.cP)(e),A=(0,m.A)(I,!t),C=(0,p.A)((()=>{w((0,d.zk)())}),[],g);(0,r.vJ)((()=>{t&&n&&((0,d.Ph)(d.Xz,{userId:e.id,firstName:e.firstName,lastName:e.lastName,emojiStatusId:e.emojiStatus?.documentId,color:e.color?.color,isPremium:e.isPremium,phone:e.phoneNumber}),C())}),[t,e?.emojiStatus?.documentId,e?.firstName,e?.id,e?.lastName,e?.color?.color,e?.isPremium,e?.phoneNumber,C,n]);const S=(0,h.A)((async(e,t)=>{const n=await(0,u.y)(e,b,b),r=await(0,c.NN)(n);if(t?.aborted)return;const o=document.createElement("canvas"),s=o.getContext("2d");o.width=r.width,o.height=r.height,s.drawImage(r,0,0);const a=o.toDataURL("image/png");(0,d.Ph)(d.Xz,{avatarUri:a}),C()}));return(0,r.vJ)((()=>{if(!A||!t||!n)return;const e=new AbortController;return S(A,e.signal),()=>{e.abort()}}),[A,n,t]),(0,f.A)(C,y),(0,r.vJ)((()=>{function e(e){e.key?.startsWith(s.um6)&&C()}return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}}),[C]),v}},94137:(e,t,n)=>{"use strict";n.d(t,{BU:()=>c,Cu:()=>u,TC:()=>i,f5:()=>d});var r=n(14487),o=n(24896),s=n(19408),a=n(5056);function i(e,...[t=(0,r.g0)()]){const{chatId:n,threadId:i}=(0,s.Xf)(e,t)||{};if(!n||!i)return;const c=(0,o.W)(n,i);return(0,a.n)(e,t).middleSearch.byChatThreadKey[c]}function c(e,...[t=(0,r.g0)()]){const{chatId:n,threadId:i}=(0,s.Xf)(e,t)||{};if(!n||!i)return;const c=(0,o.W)(n,i);return(0,a.n)(e,t).sharedMediaSearch.byChatThreadKey[c]}function u(e,...[t=(0,r.g0)()]){const{chatId:n,threadId:i}=(0,s.Xf)(e,t)||{};if(!n||!i)return;const c=(0,o.W)(n,i);return(0,a.n)(e,t).chatMediaSearch.byChatThreadKey[c]}function d(e,t,n,...[s=(0,r.g0)()]){if(!t||!n)return;const i=(0,o.W)(t,n);return(0,a.n)(e,s).chatMediaSearch.byChatThreadKey[i]}},94519:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(84051),o=n(43336),s=n(17712),a=n(93545),i=n(46637),c=n(672);const u=150;function d(e,t){const[n,d]=(0,r.J0)(),[l,f]=(0,r.J0)(),h=(0,s.A)((()=>{const n=e.current,r=t?.current;if(!n||!r)return;if(!r.offsetWidth||!r.offsetHeight)return;const s=n.classList.contains("sticker-set-cover")||n.classList.contains("sticker-reaction")?n:n.querySelector("img");if(!s)return;const a=s.getBoundingClientRect(),i=r.getBoundingClientRect();d((0,o.LI)((a.left-i.left)/i.width,4)||0),f((0,o.LI)((a.top-i.top)/i.height,4)||0)}));(0,r.vJ)(h,[h]);const m=(0,c.A)(h,[h],u);return(0,a.A)(t,m),(0,i.A)(t,m),(0,r.Kr)((()=>void 0!==n&&void 0!==l?{x:n,y:l}:void 0),[n,l])}},95175:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var r=n(87894);const o=Symbol("EQUAL"),s={__delete:!0},a={__deleteAllChildren:!0};function i(e,t){if(e===t)return o;if(typeof e!=typeof t)return t;if(Array.isArray(e)&&Array.isArray(t)&&(c=t,(n=e).length===c.length&&n.every(((e,t)=>i(e,c[t])===o))))return o;var n,c;if(!(0,r.Vh)(e)||!(0,r.Vh)(t))return t;const u=e,d=t,l=Object.keys(u),f=Object.keys(d);if(!f.length)return l.length?a:o;const h=(0,r.Am)(l.concat(f)).reduce(((e,t)=>{const n=u[t],r=d[t];if(!d.hasOwnProperty(t))return e[t]=s,e;if(!u.hasOwnProperty(t))return e[t]=r,e;const a=i(n,r);return a!==o&&(e[t]=a),e}),{});return 0===Object.keys(h).length?o:h}},95753:(e,t,n)=>{"use strict";n.d(t,{_B:()=>l,gt:()=>c,lc:()=>d,oe:()=>i,rm:()=>u,xG:()=>f});var r=n(14487),o=n(87894),s=n(29807),a=n(32989);function i(e,t,n,r,o){const a=(0,s.a_$)(e,t,r);return{...e,translations:{...e.translations,byChatId:{...e.translations.byChatId,[t]:{...e.translations.byChatId[t],byLangCode:{...e.translations.byChatId[t]?.byLangCode,[r]:{...a,[n]:{...a[n],...o}}}}}}}}function c(e,t,n){const r=e.translations.byChatId[t];if(!r)return e;const{byLangCode:s}=r,a=Object.keys(s).reduce(((e,t)=>{const r=(0,o.cJ)(s[t],[n]);return Object.keys(r).length&&(e[t]=r),e}),{});return{...e,translations:{...e.translations,byChatId:{...e.translations.byChatId,[t]:{...r,byLangCode:a}}}}}function u(e,t,n,r,o){return n.forEach(((n,s)=>{e=i(e,t,n,r,{text:o[s],isPending:!1})})),e}function d(e,t,n,...[o=(0,r.g0)()]){const i=(0,s.nTw)(e,o);return(0,a.w)(e,{requestedTranslations:{...i.requestedTranslations,byChatId:{...i.requestedTranslations.byChatId,[t]:{toLanguage:n}}}},o)}function l(e,t,n,o,...[i=(0,r.g0)()]){const c=(0,s.nTw)(e,i);return(0,a.w)(e,{requestedTranslations:{...c.requestedTranslations,byChatId:{...c.requestedTranslations.byChatId,[t]:{...c.requestedTranslations.byChatId[t],manualMessages:{...c.requestedTranslations.byChatId[t]?.manualMessages,[n]:o}}}}},i)}function f(e,t,n,...[i=(0,r.g0)()]){const c=(0,s.nTw)(e,i),u=c.requestedTranslations.byChatId[t]?.manualMessages;if(!u)return e;const d=(0,o.cJ)(u,[n]);return(0,a.w)(e,{requestedTranslations:{...c.requestedTranslations,byChatId:{...c.requestedTranslations.byChatId,[t]:{...c.requestedTranslations.byChatId[t],manualMessages:d}}}},i)}},95807:(e,t,n)=>{"use strict";function r(...e){return e.filter(Boolean).join(";")}n.d(t,{A:()=>r})},95815:(e,t,n)=>{"use strict";function r(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){const n=JSON.parse(JSON.stringify(t));return n.forEach((t=>{t.chatId=e,t.timestamp=new Date(t.createdAt).getTime()})),n}function s(e){const t=JSON.parse(JSON.stringify(e));return t.forEach((e=>{delete e.chatId,delete e.timestamp})),t}n.d(t,{Ay:()=>a,Jr:()=>o,Lf:()=>s});const a=class{constructor(e){this.dbManager=e,r(this,"storeName","message"),r(this,"db",null),r(this,"chataiStoreManager",void 0),this.db=e.db,this.chataiStoreManager=e}async storeMessage(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return void console.error("Error adding contact:",e)}const n=t.transaction([this.storeName],"readwrite").objectStore(this.storeName).put(e);n.onsuccess=()=>{console.log(`Message ${e.id} stored successfully`)},n.onerror=t=>{console.error(`Error storing message ${e.id}:`,t.target.error)}}async storeMessages(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return void console.error("Error adding contact:",e)}const n=t.transaction([this.storeName],"readwrite"),r=n.objectStore(this.storeName);e.forEach((e=>{const t=r.put(e);t.onsuccess=()=>{console.log(`Message ${e.id} stored successfully`)},t.onerror=t=>{console.error(`Error storing message ${e.id}:`,t.target.error)}})),n.oncomplete=()=>{console.log("All messages stored successfully")},n.onerror=e=>{console.error("Error storing messages:",e.target.error)}}async getMessages(e,t,n){let r;try{r=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((o,s)=>{const a=r.transaction(this.storeName,"readonly").objectStore(this.storeName).index("chatId_timestamp"),i=void 0!==t?IDBKeyRange.bound([e,0],[e,t],!1,!0):IDBKeyRange.bound([e,0],[e,Number.MAX_SAFE_INTEGER]),c=a.openCursor(i,"prev"),u=[];let d,l=0;c.onsuccess=e=>{const t=e.target.result;t&&l<n?(u.unshift(t.value),d=t.value.timestamp,l++,t.continue()):o({messages:u,lastTime:d,hasMore:l===n})},c.onerror=()=>s(new Error("Failed to fetch messages"))}))}async getAllMessages(){let e;try{e=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((t,n)=>{const r=e.transaction(this.storeName,"readonly").objectStore(this.storeName).getAll();r.onsuccess=()=>{t(r.result)},r.onerror=()=>n(new Error("Failed to fetch messages"))}))}async delMessage(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise(((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(e);o.onsuccess=()=>{console.log(`Deleted record with key: ${e}`),n()},o.onerror=()=>r(new Error("Failed to delete record"))}))}}},96140:(e,t,n)=>{"use strict";n.d(t,{$y:()=>v,TV:()=>y,eA:()=>l,eE:()=>f,hc:()=>I,qA:()=>b,tw:()=>g,uw:()=>w,yy:()=>m});var r=n(13439),o=n(29807),s=n(20919),a=n(22199),i=n(90709),c=n(31481),u=n(51217),d=n(2543);const l="aiChatFoldersTask----",f=["Friend","Community","Work","Unrend","Spam","Preset","AI"],h=e=>{try{const t=(0,a.i$)(e.trim());if(t.valid){if(t.fixedJson)return JSON.parse(t.fixedJson);console.error("json parse error",t.error)}else console.error("json parse error",t.error)}catch(e){return console.error("json parse error",e),null}};function m(e){return new Promise((t=>setTimeout(t,e)))}async function p(e){const t=await fetch("https://telegpt-three.vercel.app/classify-generate",{method:"POST",headers:{"Content-Type":"application/json"},body:e}),n=await t.json();return h(n?.text)}async function g(e){let t=(0,r.mS)(),n=t?.chatFolders?.aiChatFolders?.activeAITag??[],a=[];e.forEach((async e=>{const n=(0,o.hds)(t,e.chatId+""),r={id:e.chatId+"",chatTitle:n?.title,...e};a.push(r),s.zs.aIChatFolders?.addAIChatFolder(r)}));const i=(0,u.Su)();n=(0,d.intersection)(i,n),s.zs.general?.set(s.al,n),t={...t,chatFolders:{...t.chatFolders,aiChatFolders:{...t.chatFolders?.aiChatFolders,list:a,activeAITag:n}}},(0,r.UF)(t)}function y(e){let t={};return f.forEach((n=>{const r=e.filter((e=>e?.categoryTag?.indexOf(n)>=0))?.map((e=>e?.chatId));r?.length&&(t[n]=r)})),t}async function b(e,t){const n=Object.keys(e);let r=[];for(let o=0;o<n.length;o+=t){const s=n.slice(o,o+t).map((t=>({chatId:t,messages:e[t].map((e=>e.content.text?.text??"")).filter((e=>null!==e))})));if(s.length){const e=await p(JSON.stringify({messages:s}));r=r.concat(e)}}return r}async function v(){const{deleteChatFolder:e}=(0,r.ko)(),t=await(s.zs.folder?.getAllFolders());for(let n=0;n<(t||[])?.length;n++){const r=t?.[n];r&&"AI"===r?.from&&(console.log(l+"delete: "+r?.id,new Date),await(e?.({id:Number(r?.id)})),await m(3e3))}s.zs.general?.delete(s.TW)}function w(e){const t=(0,r.mS)();return(0,i.DX)(e)||e===c.zv8||(0,o.yps)(t,e)}function I(e){return e?.filter((e=>e!==c.Sab&&e!==c.LFk&&e!==c.j7l))}},96454:(e,t,n)=>{"use strict";n.d(t,{$M:()=>h,Aw:()=>o,Bu:()=>G,CM:()=>$,Fy:()=>R,H$:()=>H,H8:()=>a,J6:()=>x,MP:()=>s,Nd:()=>f,Ni:()=>u,OF:()=>B,OL:()=>T,OS:()=>U,Oo:()=>E,QH:()=>k,SC:()=>P,So:()=>F,TF:()=>b,TL:()=>w,Tz:()=>I,Uh:()=>M,Uz:()=>S,Yw:()=>l,_7:()=>g,bW:()=>N,cp:()=>m,et:()=>V,ig:()=>i,ir:()=>z,kn:()=>W,l5:()=>D,lE:()=>y,nB:()=>j,ol:()=>O,pW:()=>v,pz:()=>c,uH:()=>L,w3:()=>p,yS:()=>d});var r=n(31481);window.location.host,r.mFn;const o=function(){const{userAgent:e,platform:t}=window.navigator;return-1!==["iPhone","iPad","iPod"].indexOf(t)||"MacIntel"===t&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>2?"iOS":-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?"macOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?"Windows":/Android/.test(e)?"Android":/Linux/.test(t)?"Linux":void 0}(),s="macOS"===o,a="Windows"===o,i="Linux"===o,c="iOS"===o,u="Android"===o,d=c||u,l=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),f=navigator.userAgent.includes("YaBrowser"),h=navigator.userAgent.toLowerCase().includes("firefox")||navigator.userAgent.toLowerCase().includes("iceweasel")||navigator.userAgent.toLowerCase().includes("icecat"),m=Boolean(window.electron);let p=function(e){return e[e.Main=0]="Main",e[e.Auxiliary=1]="Auxiliary",e[e.Secondary=2]="Secondary",e[e.Fourth=3]="Fourth",e[e.Fifth=4]="Fifth",e}({});const g=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://"),y=g||m,b=window.matchMedia("(pointer: coarse)").matches,v=Boolean(window.navigator.mediaDevices&&"getUserMedia"in window.navigator.mediaDevices&&(window.AudioContext||window.webkitAudioContext)),w=o&&(s||c)&&function(){const e=document.createElement("span");e.classList.add("emoji-test-element"),document.body.appendChild(e),e.innerText="🇨🇶";const t=e.offsetWidth;e.innerText="❤️";const n=e.offsetWidth;return document.body.removeChild(e),Math.abs(t-n)<5}(),I="serviceWorker"in navigator,A=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)?.[2],C=A&&132===Number(A),S=I&&!C,E=Boolean((new Audio).canPlayType("audio/ogg; codecs=opus")),k=!r.W75&&"filter"in(document.createElement("canvas").getContext("2d")||{}),P="requestFullscreen"in document.createElement("div"),T=!h,M=u?"slideFade":c?"slideLayers":"pushSlide",x=!d&&!h&&!l,N=!d&&!h&&!l,L=!h,_=document.createElement("video"),B=Boolean(_.canPlayType('video/webm; codecs="vp9"').replace("no","")),F=!0,D=Boolean(navigator.storage?.getDirectory);D&&(async()=>{try{const e=await navigator.storage.getDirectory();await e.removeEntry("downloads",{recursive:!0})}catch{}})();const O=CSS.supports("offset-rotate: 0deg"),R=CSS.supports("backdrop-filter: blur()")||CSS.supports("-webkit-backdrop-filter: blur()"),j="onbeforeinstallprompt"in window,U=!(g&&d),$=!r.W75,z="ViewTransition"in window,V=750,W=((()=>{const e=document.createElement("div");e.style.cssText="overflow:scroll; visibility:hidden; position:absolute;",e.classList.add("custom-scroll"),document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;e.remove(),document.documentElement.style.setProperty("--scrollbar-width",`${t}px`)})(),1048576*(d?512:2e3)),H="geolocation"in navigator,G=async()=>{try{const e=await navigator.permissions.query({name:"geolocation"});if("granted"===e.state||"prompt"===e.state)return{accessRequested:!0,accessGranted:!0,geolocation:await new Promise(((e,t)=>{navigator.geolocation.getCurrentPosition((t=>e(t.coords)),(e=>t(e)))}))};if("denied"===e.state)return{accessRequested:!0,accessGranted:!1}}catch(e){return{accessRequested:!1,accessGranted:!1}}return{accessRequested:!1,accessGranted:!1}}},96530:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(84051),o=n(87357),s=n(17712);const a=({children:e,isPrimary:t,className:n,isRtl:a,withMultilineFix:i,onClick:c})=>{const u=(0,s.A)((e=>{e.preventDefault(),c(e)}));return r.Ay.createElement("a",{href:"#",className:(0,o.A)("Link","swBnOk1h",n,t&&"Jz1SC8nz"),dir:i?void 0:a?"rtl":"auto",onClick:c?u:void 0},e)}},96773:(e,t,n)=>{"use strict";n.d(t,{A:()=>E});var r=n(84051),o=n(13439),s=n(31481),a=n(90709),i=n(70636),c=n(26129),u=n(29807),d=n(93578),l=n(17663),f=n(17142),h=n(48775);function m(e,t){const n=t.map(((e,t)=>`$PLACEHOLDER-${t}`)),r=e.internalFormatters.conjunction.formatToParts(n),o=[];return r.forEach((e=>{if("literal"===e.type)return void o.push(e.value);const n=Number(e.value.slice(13));o.push(t[n])})),o}var p=n(4961),g=n(18501),y=n(4262),b=n(39351),v=n(17712),w=n(87412),I=n(76471),A=n(96530),C=n(50805);const S="ActionUnsupported",E=(0,r.ph)((0,o.EK)(((e,{message:t})=>{const n=(0,u.hds)(e,t.chatId),r=(0,u.Y7C)(e,t),{replyToMsgId:o,replyToPeerId:s}=(0,c.Q)(t)||{},a=o?(0,u.O5q)(e,s||t.chatId,o):void 0;return{currentUserId:e.currentUserId,replyMessage:a,chat:n,sender:r}}))((({message:e,currentUserId:t,sender:n,chat:c,replyMessage:E,isInsideTopic:k,asPreview:P})=>{const{openThread:T,openTelegramLink:M,openUrl:x}=(0,o.ko)(),{chatId:N,isOutgoing:L}=e,_=e.content.action,B=(0,b.A)();function F(e){return P?e:r.Ay.createElement("span",{className:C.A.strong},e)}return(0,v.A)((()=>{const b=(0,o.mS)(),v=c&&(0,a.WX)(c),D=N===s.zv8,O=N===t,R=n&&(0,i.F9)(B,n),j=c&&(0,i.F9)(B,c),U=B("ActionFallbackUser"),$=B("ActionFallbackChat"),z=B("ActionFallbackChannel"),V=(0,y.Nm)(n?.id,R||U,P),W=(0,y.Nm)(c?.id,j||$,P);switch(_.type){case"pinMessage":if(E){const e=(0,a.P5)(E);if(e){const t=(0,y.sB)(E,(0,g.fd)({text:e.text,entities:e.entities,asPreview:!0}),P);return(0,y.AD)(B,"ActionPinnedText",L,{text:t,from:V})}const t=(0,y.I$)(B,E);if(t){const e=(0,y.sB)(E,t,P);return(0,y.AD)(B,"ActionPinnedMedia",L,{from:V,media:e})}}return(0,y.AD)(B,"ActionPinnedNotFound",L,{from:V});case"gameScore":{const{score:e}=_,t=E?.content.game?.title,n=t&&(0,y.sB)(E,(0,p.A)(t),P);return n?(0,y.AD)(B,"ActionGameScore",L,{from:V,count:e,game:n},{pluralValue:e}):(0,y.AD)(B,"ActionGameScoreNoGame",L,{from:V,count:e},{pluralValue:e})}case"chatJoinedByLink":return B("ActionUserJoinedByLink",{from:V},{withNodes:!0});case"chatJoinedByRequest":return(0,y.AD)(B,"ActionJoinedByRequest",L,{from:V});case"channelJoined":{const{isViaRequest:e,inviterId:n}=_,r=n?(0,u.PVB)(b,n):void 0;if(r&&n!==t){const e=(0,y.Nm)(n,(0,i.F9)(B,r)||U,P);return B("ActionAddYou",{from:e},{withNodes:!0})}return B(e?"ActionChannelJoinedByRequestChannelYou":"ActionChannelJoinedYou")}case"chatEditTitle":{const{title:e}=_;return v?B("ActionChangedTitleChannel",{title:e}):(0,y.AD)(B,"ActionChangedTitle",L,{title:e,from:V})}case"chatDeletePhoto":return v?B("ActionRemovedPhotoChannel"):(0,y.AD)(B,"ActionRemovedPhoto",L,{from:V});case"chatEditPhoto":return v?B("ActionChangedPhotoChannel"):(0,y.AD)(B,"ActionChangedPhoto",L,{from:V});case"chatCreate":{const{title:e}=_;return B("ActionCreatedChat",{title:e,from:V},{withNodes:!0})}case"channelCreate":{const{title:e}=_;return v?B("ActionCreatedChannel"):(0,y.AD)(B,"ActionCreatedChat",L,{title:e,from:V})}case"chatMigrateTo":{const{channelId:e}=_,t=(0,u.hds)(b,e),n=(0,y.Nm)(e,(0,i.F9)(B,t),P);return B("ActionMigratedTo",{chat:n},{withNodes:!0})}case"channelMigrateFrom":{const{chatId:e,title:t}=_,n=(0,y.Nm)(e,t||$,P);return B("ActionMigratedFrom",{chat:n},{withNodes:!0})}case"topicCreate":{const{title:t,iconColor:n,iconEmojiId:o}=_,s=(0,u.L_2)(b,e),a=r.Ay.createElement(A.A,{className:C.A.topicLink,onClick:()=>T({chatId:N,threadId:s})},o?r.Ay.createElement(w.A,{documentId:o,isSelectable:!0}):r.Ay.createElement(I.A,{topicId:s,title:t,iconColor:n})," ",(0,p.A)(t));return B("ActionTopicCreated",{topic:a},{withNodes:!0})}case"topicEdit":{const{iconEmojiId:t,isClosed:n,isHidden:o,title:a}=_,i=(0,u.L_2)(b,e),c=(0,u.S0q)(b,N,i),d=r.Ay.createElement(A.A,{className:C.A.topicLink,onClick:()=>T({chatId:N,threadId:i})},t&&"0"!==t?r.Ay.createElement(w.A,{documentId:t,isSelectable:!0}):r.Ay.createElement(I.A,{topicId:i,title:a||c?.title||B("ActionTopicPlaceholder"),iconColor:c?.iconColor}),i!==s.HxB&&" ",(0,p.A)(a||c?.title||B("ActionTopicPlaceholder"))),l=r.Ay.createElement(A.A,{className:C.A.topicLink,onClick:()=>T({chatId:N,threadId:i})},B("ActionTopicPlaceholder"));return void 0!==n?k?B(n?"ActionTopicClosedInside":"ActionTopicReopenedInside"):B(n?"ActionTopicClosed":"ActionTopicReopened",{from:V,topic:d},{withNodes:!0}):void 0!==o?k?B(o?"ActionTopicHiddenInside":"ActionTopicUnhiddenInside"):B(o?"ActionTopicHidden":"ActionTopicUnhidden",{topic:d},{withNodes:!0}):a&&t?B("ActionTopicIconAndRenamed",{from:V,link:l,topic:d},{withNodes:!0}):void 0===a?t&&"0"!==t?B("ActionTopicIconChanged",{from:V,link:l,emoji:r.Ay.createElement(w.A,{documentId:t,loopLimit:2})},{withNodes:!0}):B("ActionTopicIconRemoved",{from:V,link:l},{withNodes:!0}):B("ActionTopicRenamed",{from:V,link:l,title:a},{withNodes:!0})}case"boostApply":return(0,y.AD)(B,"ActionBoostApply",L,{from:V,count:_.boosts},{pluralValue:_.boosts});case"chatAddUser":{const{userIds:e}=_;if(n?.id===e[0])return(0,y.AD)(B,"ActionUserJoined",L,{from:V});if(1===e.length){const t=(0,u.PVB)(b,e[0]),n=t&&(0,i.F9)(B,t)||U,r=(0,y.Nm)(t?.id,n,P);return(0,y.AD)(B,"ActionAddUser",L,{from:V,user:r})}const t=e.map((e=>(0,u.PVB)(b,e))).filter(Boolean);if(!t.length)return(0,y.AD)(B,"ActionAddUser",L,{from:V,user:U});const r=t.map((e=>(0,y.Nm)(e.id,(0,i.F9)(B,e)||U,P)));return(0,y.AD)(B,"ActionAddUsersMany",L,{from:V,users:m(B,r)})}case"chatDeleteUser":{const{userId:e}=_;if(n?.id===e)return(0,y.AD)(B,"ActionUserLeft",L,{from:V});const t=(0,u.PVB)(b,e),r=t&&(0,i.F9)(B,t)||U,o=(0,y.Nm)(t?.id,r,P);return(0,y.AD)(B,"ActionKickUser",L,{from:V,user:o})}case"botAllowed":{const{app:e,domain:t,isAttachMenu:o,isFromRequest:a}=_;if(o)return B("ActionAttachMenuBotAllowed");if(a)return B("ActionWebappBotAllowed");if(e){const t=n?.usernames?.length&&`${s.jsp+n.usernames[0].username}/${e.shortName}`,o=t?r.Ay.createElement(A.A,{onClick:()=>M({url:t})},e.title):B("ActionBotAppPlaceholder");return B("ActionBotAllowedFromApp",{app:o},{withNodes:!0})}if(!t)return B(S);const i=(0,d.Tc)(t),c=r.Ay.createElement(A.A,{onClick:()=>x({url:i})},t);return B("ActionBotAllowedFromDomain",{domain:c},{withNodes:!0})}case"giveawayLaunch":{const{stars:e}=_;return e?B(v?"ActionGiveawayStarsStarted":"ActionGiveawayStarsStartedGroup",{from:V,amount:F((0,h.K)(B,e))},{withNodes:!0}):B(v?"ActionGiveawayStarted":"ActionGiveawayStartedGroup",{from:V},{withNodes:!0})}case"giveawayResults":{const{winnersCount:e,isStars:t,unclaimedCount:n}=_;return e?n?B(t?"ActionGiveawayResultsStarsSome":"ActionGiveawayResultsSome"):B(t?"ActionGiveawayResultsStars":"ActionGiveawayResults",{count:e},{pluralValue:e}):B("ActionGiveawayResultsNone")}case"giftStars":case"giftPremium":{const{amount:e,currency:t,cryptoAmount:n,cryptoCurrency:r}=_,o=(0,f.v)(B,e,t,{asFontIcon:!0}),s=n?(0,f.v)(B,n,r):void 0,a=s?B("ActionCostCrypto",{price:o,cryptoPrice:s},{withNodes:!0}):o;return D?B("ActionGiftTextCostAnonymous",{cost:a},{withNodes:!0}):(0,y.AD)(B,"ActionGiftTextCost",L,{from:V,cost:F(a)})}case"prizeStars":case"giftCode":return B("ActionGiftTextUnknown");case"groupCall":{const{duration:e}=_,t=e?(0,l.A$)(B,e):void 0;return t?v?B("ActionGroupCallFinishedChannel",{duration:t}):B("ActionGroupCallFinishedGroup",{from:V,duration:t},{withNodes:!0}):v?B("ActionGroupCallStartedChannel"):B("ActionGroupCallStartedGroup",{from:V},{withNodes:!0})}case"groupCallScheduled":{const{scheduleDate:e}=_,t=(0,l.L2)(1e3*e,B.code,!0);return v?B("ActionGroupCallScheduledChannel",{date:t}):B("ActionGroupCallScheduledGroup",{from:V,date:t},{withNodes:!0})}case"inviteToGroupCall":{const{userIds:e}=_;if(1===e.length){const t=(0,u.PVB)(b,e[0]),n=t&&(0,i.F9)(B,t)||U,r=(0,y.Nm)(t?.id,n,P);return(0,y.AD)(B,"ActionVideoInvited",L,{from:V,user:r})}const t=e.map((e=>(0,u.PVB)(b,e))).filter(Boolean);if(!t.length)return(0,y.AD)(B,"ActionVideoInvited",L,{from:V,user:U});const n=t.map((e=>(0,y.Nm)(e.id,(0,i.F9)(B,e)||U,P)));return(0,y.AD)(B,"ActionVideoInvitedMany",L,{from:V,users:m(B,n)})}case"paymentSent":{const{currency:e,totalAmount:t,isRecurringInit:n,isRecurringUsed:r}=_,o=F((0,f.v)(B,t,e,{asFontIcon:!0})),s=E&&(0,a.NO)(E),i=s?.title;return r?B("ActionPaymentUsedRecurring",{amount:o},{withNodes:!0}):i?B(n?"ActionPaymentInitRecurringFor":"ActionPaymentDoneFor",{amount:o,user:W,invoice:(0,y.sB)(E,i,P)},{withNodes:!0}):B(n?"ActionPaymentInitRecurring":"ActionPaymentDone",{amount:o,user:W},{withNodes:!0})}case"paymentRefunded":{const{currency:e,totalAmount:t,peerId:n}=_,r=(0,u.PVB)(b,n),o=r&&(0,i.F9)(B,r)||U,s=(0,y.Nm)(r?.id,o,P),a=(0,f.v)(B,t,e,{asFontIcon:!0});return B("ActionPaymentRefunded",{peer:s,amount:a},{withNodes:!0})}case"starGift":{const{gift:e,alreadyPaidUpgradeStars:r,peerId:o,savedId:s,fromId:a}=_,c=Boolean(o&&s),d=a?(0,u.PVB)(b,a):n,l=d&&(0,i.F9)(B,d)||U,f=(0,y.Nm)(d?.id,l,P),m=e.stars+(r||0),p=F((0,h.K)(B,m));if(c){const e=(0,u.PVB)(b,o),n=d?.id===t,r=e&&(0,i.F9)(B,e)||z,s=(0,y.Nm)(o,r,P);return(0,y.AD)(B,"ActionStarGiftSentChannel",n,{user:f,channel:s,cost:p})}return D?B("ActionStarGiftReceivedAnonymous",{cost:p},{withNodes:!0}):O?B("ActionStarGiftSelfBought",{cost:p},{withNodes:!0}):L?B("ActionStarGiftSent",{cost:p},{withNodes:!0}):B("ActionStarGiftReceived",{user:V,cost:p},{withNodes:!0})}case"starGiftUnique":{const{isTransferred:e,isUpgrade:r,savedId:o,peerId:a,fromId:c}=_,d=Boolean(a&&o),l=c?(0,u.PVB)(b,c):n,f=l&&(0,i.F9)(B,l)||U,h=(0,y.Nm)(l?.id,f,P);if(d){const n=(0,u.PVB)(b,a),o=l?.id===t,c=l?.id===s.zv8,d=n&&(0,i.F9)(B,n)||z,f=(0,y.Nm)(a,d,P);if(r)return(0,y.AD)(B,"ActionStarGiftUpgradedChannel",o,{user:h,channel:f});if(e)return c?B("ActionStarGiftTransferredUnknownChannel",{channel:f},{withNodes:!0}):(0,y.AD)(B,"ActionStarGiftTransferredChannel",o,{user:h,channel:f})}if(O){if(r)return B("ActionStarGiftUpgradedSelf");if(e)return B("ActionStarGiftTransferredSelf")}return r?L?B("ActionStarGiftUpgradedMine",{user:W},{withNodes:!0}):O?B("ActionStarGiftUpgradedSelf"):B("ActionStarGiftUpgradedUser",{user:V},{withNodes:!0}):e?n?.id===s.zv8?B("ActionStarGiftTransferredUnknown"):O?B("ActionStarGiftTransferredSelf"):L?B("ActionStarGiftTransferredMine",{user:W},{withNodes:!0}):B("ActionStarGiftTransferred",{user:V},{withNodes:!0}):L?B("ActionGiftUniqueSent"):B("ActionGiftUniqueReceived",{user:V},{withNodes:!0})}case"suggestProfilePhoto":{const e=L?c:n,t=(0,y.Nm)(e.id,(0,i.F9)(B,e)||U,P);return(0,y.AD)(B,"ActionSuggestedPhoto",L,{user:t})}case"webViewDataSent":return B("ActionWebviewDataDone",{text:_.text});case"expired":{const{isRoundVideo:e,isVoice:t}=_;return B(t?"ActionExpiredVoice":e?"ActionExpiredVideo":S)}case"historyClear":return B("ActionHistoryCleared");case"screenshotTaken":return(0,y.AD)(B,"ActionScreenshotTaken",L,{from:V});case"contactSignUp":return B("ActionUserRegistered",{from:V},{withNodes:!0});case"customAction":return _.message;case"paidMessagesPrice":{const{stars:e}=_;return 0===e?B("ActionPaidMessageGroupPriceFree"):B("ActionPaidMessageGroupPrice",{stars:(0,h.K)(B,e)},{withNodes:!0,withMarkdown:!0})}case"paidMessagesRefunded":{const{stars:e}=_,t=(0,u.PVB)(b,N),n=t&&(0,i.F9)(B,t)||U;return B(L?"ApiMessageActionPaidMessagesRefundedOutgoing":"ApiMessageActionPaidMessagesRefundedIncoming",{stars:(0,h.K)(B,e),user:(0,y.Nm)(t?.id,n)},{withNodes:!0,withMarkdown:!0})}case"phoneCall":return B((0,y.fB)(_,L));default:return B(S)}}))()})))},97676:(e,t,n)=>{"use strict";n.d(t,{J:()=>f});var r=n(25279),o=n(72531),s=n(57363),a=n(80923),i=n(20919),c=n(37795),u=n(52683);function d(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l{constructor(){d(this,"pendingMessages",[]),d(this,"urgentChats",[]),d(this,"urgentChatsInitialized",!1),d(this,"timmer",void 0)}initTask(){this.timmer&&clearInterval(this.timmer),this.timmer=setInterval((()=>{this.checkUrgentMessage()}),3e5)}static getTextWithoutEntities(e,t){const n=t.map((e=>({start:e.offset,length:e.length}))).sort(((e,t)=>t.start-e.start));for(const{start:t,length:r}of n)e=e.slice(0,t)+e.slice(t+r);return e}checkUrgentMessage(){if(!this.pendingMessages.length)return;console.log("checkUrgentMessage",this.pendingMessages);const e=this.pendingMessages.map((e=>({chatId:e.chatId,senderId:e.senderId,messageId:e.id,content:e.content.text?.text})));i.zs.urgentTopic?.getAllUrgentTopic().then((t=>{t.unshift(a.eF),fetch("https://telegpt-three.vercel.app/urgent-message-check",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:e,urgentTopics:t})}).then((e=>e.json())).then((e=>{console.log("urgent check response",e);const n=e?.data||[];if(n.length>0){const e={timestamp:(new Date).getTime(),content:JSON.stringify(n),id:(0,r.A)(),createdAt:new Date,role:"assistant",annotations:[{type:"urgent-message-check"}]};i.zs.summary?.storeMessage(e),o.A.emit(o.E.AddUrgentMessage,e),s.A.increaseUnreadCount();try{const e=function(e,t){if(e instanceof Array&&e.length>0){const n=Array.from(new Set(e.flatMap((e=>e.matchUrgentTopicIds)))),r=t.find((e=>n.includes(e.id)&&e.strongAlert))?.phoneNumber;return r||null}return null}(n,t);e&&(fetch(`https://telegpt-three.vercel.app/voice-call?phoneNumber=${e}`,{method:"GET"}),(0,u.J)("call_reminder"))}catch(e){console.log("error",e)}}}))})),this.clearPendingMessages()}updateUrgentChats(e){this.urgentChats=e,this.pendingMessages=this.pendingMessages.filter((t=>e.includes(t.chatId))),console.log("checkUrgentMessage",this.pendingMessages)}getUrgentChats(){return new Promise((e=>{this.urgentChatsInitialized?e(this.urgentChats):(this.urgentChatsInitialized=!0,i.zs.general?.get(c.ai).then((t=>{this.urgentChats=t||[],e(t||[])})).catch((()=>{e([])})))}))}async addNewMessage(e){const t=await this.getUrgentChats()||[];(0===t.length||t.includes(e.chatId))&&this.pendingMessages.push(e)}clearPendingMessages(){this.pendingMessages=[]}getPendingMessages(){return this.pendingMessages}static getInstance(){return l.instance||(l.instance=new l),l.instance}}d(l,"instance",void 0);const f=l.getInstance()},98221:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,a:()=>s});const r=/\uFE0F/g,o=String.fromCharCode(8205);function s(e){return e.indexOf(o)<0?e.replace(r,""):e}const a=/(?:\ud83c[\udd70\udd71\udd7e\udd7f]\ufe0f)|(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])(?:\u200d\u27a1\ufe0f)?|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f(?:\u200d\u27a1\ufe0f)?)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f(?:\u200d\u27a1\ufe0f)?|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83e\uddd1\u200d\ud83e\uddd1\u200d\ud83e\uddd2\u200d\ud83e\uddd2|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83e\uddd1\u200d\ud83e\uddd1\u200d\ud83e\uddd2|\ud83e\uddd1\u200d\ud83e\uddd2\u200d\ud83e\uddd2|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u26d3\ufe0f\u200d\ud83d\udca5|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udf44\u200d\ud83d\udfeb|\ud83c\udf4b\u200d\ud83d\udfe9|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc26\u200d\ud83d\udd25|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83d\ude42\u200d\u2194\ufe0f|\ud83d\ude42\u200d\u2195\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddd1\u200d\ud83e\uddd2|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b|\ud83d\udc26\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|\ud83e\udef0|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c\udfc3|\ud83d\udeb6|\ud83e\uddce)(?:\ud83c[\udffb-\udfff])?(?:\u200d\u27a1\ufe0f)?|(?:\ud83c[\udf85\udfc2\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4\udeb5\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd\uddcf\uddd1-\udddd\udec3-\udec5\udef1-\udef8]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedc-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude7c\ude80-\ude89\ude8f-\udec2\udec6\udece-\udedc\udedf-\udee9]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g},98255:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(37932),o=n(13439),s=n(22237),a=n(35297);const i=new Map;(0,r.DW)((e=>{for(const[t,{setter:n}]of i)n(t(e))}));const c=function(e){let t=i.get(e);if(!t){const[n,r]=(0,s.n5)(e((0,o.mS)()));t={clientsCount:0,getter:n,setter:r},i.set(e,t)}return(0,a.A)((()=>{const t=i.get(e);return t.clientsCount++,()=>{t.clientsCount--,t.clientsCount||i.delete(e)}}),[e]),t.getter}},98607:(e,t,n)=>{"use strict";function r(e,t,n){const r=e.split(t),[o,...s]=r;return s.reduce(((e,t)=>e.concat(n,t)),[o]).filter(Boolean)}function o(e,t,n){return e.flatMap((e=>"string"==typeof e?r(e,t,n):e),[])}n.d(t,{i:()=>r,t:()=>o})},99375:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>i,Dd:()=>u,zr:()=>c});var r=n(31481);const o={CHAT_RESTRICTED:"You can't send messages in this chat, you were restricted",CHAT_SEND_POLL_FORBIDDEN:"You can't create polls in this chat",CHAT_SEND_STICKERS_FORBIDDEN:"You can't send stickers in this chat",CHAT_SEND_GIFS_FORBIDDEN:"You can't send gifs in this chat",CHAT_SEND_MEDIA_FORBIDDEN:"You can't send media in this chat",CHAT_LINK_EXISTS:"The chat is public, you can't hide the history to new users",SLOWMODE_WAIT_X:"Slowmode is enabled in this chat: you must wait for the specified number of seconds before sending another message to the chat.",USER_BANNED_IN_CHANNEL:"You're banned from sending messages in supergroups / channels",USER_IS_BLOCKED:"You were blocked by this user",YOU_BLOCKED_USER:"You blocked this user",IMAGE_PROCESS_FAILED:"Failure while processing image",MEDIA_EMPTY:"The provided media object is invalid",MEDIA_GROUPED_INVALID:"Failed to replace album media",MEDIA_NEW_INVALID:"Failed to replace new media",MESSAGE_NOT_MODIFIED:"Message not modified. The new content is identical to the current one.",MEDIA_INVALID:"Media invalid",PASSWORD_HASH_INVALID:"Incorrect password",PHOTO_EXT_INVALID:"The extension of the photo is invalid",PHOTO_INVALID_DIMENSIONS:"The photo dimensions are invalid",PHOTO_SAVE_FILE_INVALID:"Internal issues, try again later",MESSAGE_DELETE_FORBIDDEN:"You can't delete one of the messages you tried to delete, most likely because it is a service message.",MESSAGE_POLL_CLOSED:"Poll closed",MESSAGE_EDIT_TIME_EXPIRED:"You can't edit this message anymore.",PINNED_DIALOGS_TOO_MUCH:"Sorry, you can only pin 5 chats to the top",CHANNEL_PRIVATE:"This channel is private",MEDIA_CAPTION_TOO_LONG:"The provided caption is too long",ADDRESS_STREET_LINE1_INVALID:"The address you provided is not valid",ADDRESS_STREET_LINE2_INVALID:"The address you provided is not valid",ADDRESS_CITY_INVALID:"The city you provided is not valid",ADDRESS_COUNTRY_INVALID:"The country you provided is not valid",ADDRESS_POSTCODE_INVALID:"The postcode you provided is not valid",ADDRESS_STATE_INVALID:"The state you provided is not valid",REQ_INFO_NAME_INVALID:"The name you provided is not valid",REQ_INFO_PHONE_INVALID:"The phone you provided is not valid",REQ_INFO_EMAIL_INVALID:"The email you provided is not valid",LINK_NOT_MODIFIED:"This discussion is already linked to the channel",MESSAGE_TOO_LONG:"Message is too long",SERVICE_WORKER_DISABLED:"Service Worker is disabled. Streaming media may not be supported. Try reloading the page without holding <Shift> key",MESSAGE_TOO_LONG_PLEASE_REMOVE_CHARACTERS:"The provided message is too long. Please remove {EXTRA_CHARS_COUNT} character{PLURAL_S}.",FRESH_RESET_AUTHORISATION_FORBIDDEN:"You can’t logout other sessions if less than 24 hours have passed since you logged on the current session",BOTS_TOO_MUCH:"There are too many bots in this chat/channel",BOT_GROUPS_BLOCKED:"This bot can't be added to groups",USERS_TOO_MUCH:"The maximum number of users has been exceeded",USER_CHANNELS_TOO_MUCH:"One of the users you tried to add is already in too many channels/supergroups",USER_KICKED:"This user was kicked from this supergroup/channel",USER_NOT_MUTUAL_CONTACT:"The provided user is not a mutual contact",USER_PRIVACY_RESTRICTED:"The user's privacy settings do not allow you to do this",INVITE_HASH_EMPTY:"The invite hash is empty",INVITE_HASH_EXPIRED:"The invite link has expired",INVITE_HASH_INVALID:"The invite hash is invalid",CHANNELS_TOO_MUCH:"You have joined too many channels/supergroups",USER_ALREADY_PARTICIPANT:"You already in the group",SCHEDULE_DATE_INVALID:"Invalid schedule date provided",WALLPAPER_DIMENSIONS_INVALID:"The wallpaper dimensions are invalid, please select another file",ADMINS_TOO_MUCH:"There are too many admins",ADMIN_RANK_EMOJI_NOT_ALLOWED:"An admin rank cannot contain emojis",ADMIN_RANK_INVALID:"The specified admin rank is invalid",FRESH_CHANGE_ADMINS_FORBIDDEN:"You were just elected admin, you can't add or modify other admins yet",INPUT_USER_DEACTIVATED:"Can't do this action to a deleted account",BOT_PRECHECKOUT_TIMEOUT:"The request for payment has expired",PROVIDER_ACCOUNT_TIMEOUT:"Request to the payment provider has expired",STARGIFT_CONVERT_TOO_OLD:"This gift no longer can be converted to Stars",SUBSCRIPTION_ALREADY_ACTIVE:"You are already subscribed",PEERS_LIST_EMPTY:"No chats are added to the list",PAID_MEDIA_FORBIDDEN:"You can't send paid media in this chat",USER_DISALLOWED_STARGIFTS:"User is not accepting gifts"};r.Oig&&(o.CHAT_WRITE_FORBIDDEN="You can't write in this chat",o.CHAT_ADMIN_REQUIRED="You must be an admin in this chat to do this");const s={ADDRESS_STREET_LINE1_INVALID:{field:"streetLine1",message:"Incorrect street address"},ADDRESS_STREET_LINE2_INVALID:{field:"streetLine2",message:"Incorrect street address"},ADDRESS_CITY_INVALID:{field:"city",message:"Incorrect city"},ADDRESS_COUNTRY_INVALID:{field:"countryIso2",message:"Incorrect country"},ADDRESS_POSTCODE_INVALID:{field:"postCode",message:"Incorrect post code"},ADDRESS_STATE_INVALID:{field:"state",message:"Incorrect state"},REQ_INFO_NAME_INVALID:{field:"fullName",message:"Incorrect name"},REQ_INFO_PHONE_INVALID:{field:"phone",message:"Incorrect phone"},REQ_INFO_EMAIL_INVALID:{field:"email",message:"Incorrect email"}},a=new Set(["BOT_PRECHECKOUT_FAILED","PAYMENT_FAILED"]);function i(e){const{message:t,isSlowMode:n,textParams:r}=e;if(n){const e=t.indexOf(" (caused by");return e>0?t.substring(0,e):t}let s=o[t];return s&&r&&(s=Object.keys(r).reduce(((e,t)=>e.replace(t,r[t])),s)),s}function c(e){return s[e.message]}function u(e){return a.has(e.message)}}},s={};function a(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={id:e,loaded:!1,exports:{}};return o[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=o,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);a.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&n;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>s[e]=()=>n[e]));return s.default=()=>n,a.d(o,s),o},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>e+"."+{26:"7f208c203ceecc4d8d9c",59:"28fc60b08d114434750a",61:"b54a3634f27538855b75",69:"29e96675611021fc18ce",90:"1bf1e87c9fd2552af9dc",103:"24b92b0b320e97c60706",194:"2288f7fe44ca76bc899c",244:"21611f9035cdb781f597",304:"6b1ee1d6b3f467ba3205",313:"3fbe50cc4dde934cfd22",356:"585fcb2f0abd742999dc",373:"3dbd97e51201abe20303",387:"63b7a20e3475559459a9",400:"42925b23d4976680f632",405:"58375636d81348e78571",409:"4812ff8357bee87e890f",433:"64c26100943350c22332",453:"d5700b90d0c300f90122",482:"fc8580e0eea7d6e83cbd",562:"156b379bf2024b97c006",564:"a359a5b8ee0b33eebeae",633:"4a6a911b77c7cbdbe22b",676:"4c185b507e3ea4da96f3",683:"b9d29fd30cf26bb12d7b",695:"bd83d5375c4b8928a375",768:"331a502714764edb415f",835:"856cd5aaa588852d9e63",882:"b4da40f7b6d6244bc2ed",947:"b45eb1b1d5c5b5daea6c",970:"49bf1be694adab9cb238",996:"2ce73189bcfe04245feb",1006:"7928fd736c5a62cd72b7",1022:"e745329f3668d56bf4f0",1095:"3db94ab9911911f7ec67",1105:"345c775d4619145ca085",1164:"9a425fdbd287f848585c",1168:"bad2da0abaa427d5c4cc",1184:"4a9732a467ce3b050057",1215:"a31720f30f9e0878b2e1",1348:"d26291e92c748781fff3",1350:"81c0ee087feeca3893b5",1387:"3c1a89591ee550b3859c",1401:"fd9c0fafd85732a73bfb",1465:"45d4f79a5892dc26e7ba",1516:"ceddb222b80669a9e28b",1575:"1151db571e520773c407",1586:"bb8e6dc0ebb64d95f673",1620:"d5d024d76a5199c3d068",1658:"86fa1ece9b7222d651a1",1692:"e502449c3f6b7b8404d4",1700:"fbb8b7e2fede14d0efae",1775:"c3644f6486c7de86072d",1780:"d36b8e78a31f45224ffc",1877:"511b6164e081bbe40277",2057:"4d21078ecf64a1b35ec4",2118:"37d7454a6e996b69177e",2158:"b3cde9b4a26b8691da1c",2164:"eb8bdce6c8e8b8ba4ba8",2225:"fff1b803e401bcb8e409",2230:"dcc0d2c30f8513b05aa6",2394:"04aee85a2e9a9309d90e",2440:"f881e742fe4f5ef68ea0",2448:"5029cd87c1660d0add4e",2498:"31ac696c3aff77afb7c4",2651:"b1be8925a2f011ed34a1",2663:"2229d10ae4604bbba33e",2670:"ba04dfd99986b3d35b6d",2715:"68bddeaa60baf2fb6e9c",2729:"5d16798084468d0c721e",2800:"83144f2dd20353ca7a5a",2801:"28fdb876737dc9f03cba",2856:"9c90f1cacd5303232514",2857:"dfa1fefefb90e0b42919",2859:"e8d547bfb015cb36dbec",2916:"db4c29b6030b04fde91b",2990:"65e0c76d2f65178f23f4",3080:"c7a3b4e976ceca864548",3325:"545e44233e40dd1a69bd",3363:"30eb689639008b18b2e7",3405:"ae1094e8ba7821654113",3490:"facaa1904bb4d026cac8",3499:"0d91c04cea301d7db274",3524:"449cb83f709ebc7c8c24",3564:"f6589b006aab41c0a8b4",3715:"9c92ed175d28baaf7914",3731:"7dcfa968daa81ad138d2",3745:"b0ac932f39a096ddec27",3747:"98a152555465d68a9a89",3759:"841736a0d20d8c4439dd",3787:"704503c2122084173f7c",3813:"60d8e95e7ad8f91f79f9",3906:"64ba57bb100e0d4a7120",3981:"671217bebcebf630a61f",4008:"97f6a5469d57d0702774",4019:"f5739ef1b5190c8bba2f",4020:"26bf8634def5ebe101f0",4102:"a8553d04f62fe4611719",4128:"1c24b9a1f673fd09325d",4134:"be43db504581c543fdb0",4180:"5cdfd3e2d85f578e9ef0",4204:"6c3c41d1c9663cfaf5db",4230:"3bec9538fbd4082b4190",4326:"16735d217d4bf478dfb9",4336:"a67d5d613be4486bd561",4383:"6d44dcbf90fe35b454fa",4435:"0f8fe704813a6313d7a9",4448:"a9182b747fa845a2323e",4484:"fd3bba66786362b29476",4550:"8ff479c8bdf7db3a2f15",4765:"ea51f981aea478d0024c",4785:"398f059679c783497d14",4878:"58df70cea73e244dc5e2",4903:"4e9f9277de5d16b457fd",4917:"85c88c31be50490e4675",4940:"533a15685f431cc75439",5032:"90c88ec8f580f9bdb21e",5046:"f90328b4d2f5bae9bfb2",5060:"5f1fc24903dee87155d1",5073:"2ef57c07064e80306f4f",5116:"829bc535e428bae35243",5148:"2026dbb9882abc085bee",5193:"4b5399da91db26a505ed",5246:"45fa498e6f0762571f77",5260:"bb3676a05b02fbfd3073",5269:"e1b21bcf9cc07b9b7da5",5336:"24255493079073e0f70c",5345:"b890ad1196b3c38a95da",5361:"7927b9d4ec39a1a4980f",5429:"f169146fc583feb0ac11",5434:"b2e4f36b1e0acf82b176",5438:"2fd1144c38a44f7b0d57",5499:"a29353824e344d3f48d0",5525:"307baf592f78bfff77a1",5628:"315410f8e8539b6dee31",5719:"c88c163e430fea0bb68c",5735:"16d4e446ba241ac72c15",5819:"c76cbe6ff1b35824aa9f",5962:"cb8553bbb2b49bb62a3f",6047:"3387fc1bcdda9d61f37c",6058:"b4f96bfa886f6fa6750b",6167:"2684e2c0752250bf05cd",6168:"37f20379ca46f066c3a7",6241:"2a880fae6cfff8df5d49",6265:"bd5db15d5a7cc161053b",6272:"0b8dbe8a4079f552736e",6308:"1a425a099ee9f2e8908a",6338:"e1bc8c7db937cade311a",6441:"7e70dbdeb1d3578e908c",6442:"8e4f2ea5cdf1261a9d28",6473:"3ca15f76d8a5dabe349f",6685:"6a217875c89e186509f2",6686:"33f06ed4de5f45e3abf2",6708:"fb1e434c608fec027734",6726:"02411ffa61aa3ee56f3a",6802:"0977b1c7a6cc094cebf0",6827:"be8b9379ffaa527c4cdd",6860:"af21c5c9cfa15d65721e",6869:"5ea5e8246aa52f873e25",6930:"53dac769fe0da162d129",6947:"2aba81f73012065341b3",7001:"57cd29fa970f3fa8285a",7120:"2aa6d9d14b8e5397d4b5",7244:"03ab1c6794c47eddd6db",7276:"1bf32e665468bbdc842a",7283:"12483e9bb6ecfadc0b6c",7357:"bafd579b75036863b0d2",7405:"b313a350be944e11eddb",7424:"5b0f689ea4bf2aedfcd1",7487:"a599c3590b20c8daa010",7499:"5673515969adc401e630",7561:"10f0c8ae7896349733ab",7586:"7aea140d6ba8b58e5175",7594:"a72b18f81cdd78a2155c",7612:"dbf3c814066a3e29d868",7617:"3fb7ef70541a40e2d6b2",7643:"8dae8306553c2c398a9d",7688:"9ea900f45decc515467b",7738:"1b241d63744fee517637",7768:"a51fc6a832db1b417c0d",7854:"1cf88b67909653a26d5a",7880:"38103f90b6835d057052",7901:"c76f2eff3639e969330e",7939:"6e8ea52601623c2758ee",7972:"93dc81d9421c7aebdfff",7978:"25cf6194f0363c299394",8043:"93f82e7480b4b328fdcd",8062:"32dfd8cc4ca0639323b1",8100:"bc7c6277f67154311998",8114:"582e652c4403d7bb99ec",8142:"5c11d40e1231d768acce",8150:"6f6b1ccc524b41668a71",8169:"7d78ff22ce43513a2388",8201:"04864f2a3b12820a69f8",8213:"4dd8c82e7aaeed44b984",8214:"a1f6db9e404fbf3f09b9",8233:"19d67cd962ee72960aef",8287:"e246ccf6a476d82bd6b3",8308:"688b4c12136a9dba0621",8349:"f376b12fba655b1fff60",8393:"2a93e9584570b7fb0439",8590:"8937fec2446d28ef6ae4",8602:"391f41367336663370cc",8804:"7da8f2accb1a36ad26b4",8843:"c4b03d15d9dd7ce1e1ca",8924:"34ded1d076d553a11afb",8980:"c04f1c4129098449e070",9004:"a1faf8dd3139f4576fa7",9030:"9c6866236d423f78fd6e",9072:"40fad55916dae8b22355",9141:"9749f9e5e4c13586fe06",9183:"5e9385ae0d773ada87d1",9238:"d4c41e6be296f3862db3",9250:"58c5944c4c38f0080b48",9287:"b99d72ce9355c7ce7e2a",9295:"b1b3a50beb53db572253",9359:"519e26be54aafb965100",9375:"c2165719e3a0044020b4",9451:"17c5bf450791d4a6c87a",9549:"88b307bdcfd4e0c04db1",9623:"5d9fffd1e2e1ee2cdac8",9677:"4f839fd5aec235d04188",9689:"8e1cebdf8e68ed62dd68",9710:"f80ec1d365ec2a40aaa1",9722:"e59cb837f3501aa61e49",9753:"0a6c39040bf132d98ffd",9761:"ab1e9dd2da3261da33cd",9849:"3da3e2358db3d6680236",9869:"1e323db5e1a36e9cd1be",9998:"d0b55186192f26a89966"}[e]+".js",a.miniCssF=e=>(({2394:"BundleCalls",4765:"shared-components",6930:"BundleStars",7405:"BundleAuth",7768:"BundleMain",9451:"BundleExtra"}[e]||e)+"."+{882:"b4da40f7b6d6244bc2ed",1184:"4a9732a467ce3b050057",1350:"81c0ee087feeca3893b5",2394:"04aee85a2e9a9309d90e",4765:"ea51f981aea478d0024c",6930:"53dac769fe0da162d129",7405:"b313a350be944e11eddb",7643:"8dae8306553c2c398a9d",7768:"a51fc6a832db1b417c0d",9451:"17c5bf450791d4a6c87a"}[e]+".css"),a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="telegram-t:",a.l=(e,t,o,s)=>{if(n[e])n[e].push(t);else{var i,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var l=u[d];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==r+o){i=l;break}}i||(c=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",r+o),i.src=e),n[e]=[t];var f=(t,r)=>{i.onerror=i.onload=null,clearTimeout(h);var o=n[e];if(delete n[e],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((e=>e(r))),t)return t(r)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),c&&document.head.appendChild(i)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{if("undefined"!=typeof document){var e={8792:0};a.f.miniCss=(t,n)=>{e[t]?n.push(e[t]):0!==e[t]&&{882:1,1184:1,1350:1,2394:1,4765:1,6930:1,7405:1,7643:1,7768:1,9451:1}[t]&&n.push(e[t]=(e=>new Promise(((t,n)=>{var r=a.miniCssF(e),o=a.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(a=n[r]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===e||o===t))return a}var s=document.getElementsByTagName("style");for(r=0;r<s.length;r++){var a;if((o=(a=s[r]).getAttribute("data-href"))===e||o===t)return a}})(r,o))return t();((e,t,n,r,o)=>{var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",a.nc&&(s.nonce=a.nc),s.onerror=s.onload=n=>{if(s.onerror=s.onload=null,"load"===n.type)r();else{var a=n&&n.type,i=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+": "+i+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=i,s.parentNode&&s.parentNode.removeChild(s),o(c)}},s.href=t,document.head.appendChild(s)})(e,o,0,t,n)})))(t).then((()=>{e[t]=0}),(n=>{throw delete e[t],n})))}}})(),(()=>{a.b=document.baseURI||self.location.href;var e={8792:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var s=a.p+a.u(t),i=new Error;a.l(s,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",i.name="ChunkLoadError",i.type=o,i.request=s,r[1](i)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[s,i,c]=n,u=0;if(s.some((t=>0!==e[t]))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);c&&c(a)}for(t&&t(n);u<s.length;u++)o=s[u],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunktelegram_t=self.webpackChunktelegram_t||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.nc=void 0,(()=>{"use strict";a(2188);var e=a(13439),t=a(31481),n=a(96454),r=a(55148),o=a(87679),s=a(5560);function i(n){const a=n.data;if(t.MVx&&console.log("[SW] Message from worker",a),!a.type)return;const i=(0,e.ko)(),c=a.payload;switch(a.type){case"focusMessage":i.focusMessage?.(c);break;case"playNotificationSound":(0,s.wC)(a.payload.id);break;case"share":i.openChatWithDraft({text:(0,r.E)(c.url,c.text,c.title),files:(0,o.kc)(c.files)})}}function c(){navigator.serviceWorker.removeEventListener("message",i),navigator.serviceWorker.addEventListener("message",i),(0,s.Mi)()}n.Tz&&(window.addEventListener("load",(async()=>{try{const r=navigator.serviceWorker.controller;if(!r||r.scriptURL.includes("/k/")){const e=(await navigator.serviceWorker.getRegistrations()).filter((e=>!e.scope.includes("/k/")));e.length&&(t.Oig&&console.log("[SW] Hard reload detected, re-enabling Service Worker"),await Promise.all(e.map((e=>e.unregister()))))}await navigator.serviceWorker.register(new URL(a.p+a.u(2715),a.b)),t.Oig&&console.log("[SW] ServiceWorker registered"),await navigator.serviceWorker.ready,await navigator.serviceWorker.getRegistration(),navigator.serviceWorker.controller?(t.Oig&&console.log("[SW] ServiceWorker ready"),c()):(t.Oig&&console.error("[SW] ServiceWorker not available"),n.pz||n.Ni||t.W75||(0,e.ko)().showDialog?.({data:{message:"SERVICE_WORKER_DISABLED",hasErrorKey:!0}}))}catch(e){t.Oig&&console.error("[SW] ServiceWorker registration failed: ",e)}})),window.addEventListener("focus",(async()=>{await navigator.serviceWorker.ready,c()})));var u=a(37932),d=a(80140),l=a(17872),f=a(29807);let h,m=[];function p(){let t=(0,e.mS)();if(!t.isInited)return;const n=(0,d.Fm)();Object.values(t.stories.byPeerId).forEach((e=>{Object.values(e.byId).forEach((e=>{"expireDate"in e&&(e.expireDate>n||"isInProfile"in e&&e.isInProfile||"isPublic"in e&&!e.isPublic||(t=(0,l.ONz)(t,e.peerId,e.id)))}))})),(0,e.UF)(t)}(0,u.DW)((e=>{const t=h;h=e;const n=(0,f.nTw)(e)?.isMasterTab,r=t&&(0,f.nTw)(t)?.isMasterTab;n!==r&&(n&&!r?m.length||m.push(window.setInterval(p,12e4)):(m.forEach((e=>clearInterval(e))),m=[]))}));var g=a(63495),y=a(74824),b=a(14487),v=a(42385),w=a(20714),I=a(87894),A=a(57751);async function C(n=!1,r){if(r=r||(0,e.mS)(),!n&&"byTabId"in r)return;const o=(0,I.mg)(w.HB),s=await(0,v.Lj)(o);let a=s||o;t.fng&&(a.authState="authorizationStateReady");const{hasPasscode:i,isScreenLocked:c}=a.passcode;if(i&&!c&&(a=(0,l.Vg3)(a,{isScreenLocked:!0}),(0,A.rE)()),n&&(a.byTabId=r.byTabId),!s){const e=await(0,v.Jr)();e&&(a.sharedState=e)}(0,e.UF)(a)}var S=a(60343),E=a(80089),k=a(66414),P=a(74065),T=a(68344),M=a(32989),x=a(55232);(0,v.r2)(),(0,e.aJ)("initShared",(async(e,t,n)=>{const{force:r}=n||{};await C(r,e)})),(0,e.aJ)("init",((t,n,r)=>{const{tabId:o=(0,b.g0)(),isMasterTab:s}=r||{},a=(0,I.mg)(w.Je);a.id=o,a.isChatInfoShown=Boolean(t.lastIsChatInfoShown),a.audioPlayer.playbackRate=t.audioPlayer.lastPlaybackRate,a.audioPlayer.isPlaybackRateActive=t.audioPlayer.isLastPlaybackRateActive,a.mediaViewer.playbackRate=t.mediaViewer.lastPlaybackRate,t={...t,byTabId:{...t.byTabId,[o]:a}},s&&(a.isMasterTab=!0),g.vM&&a.isMasterTab&&(0,x.X)(t.sharedState),Object.keys(t.messages.byChatId).forEach((e=>{const n=t.messages.byChatId[e].threadsById;Object.keys(n).forEach((n=>{const r=Number(n),s=(0,f.C5H)(t,e,r,"lastViewportIds");s?.every((n=>(0,S.iL)(n)||t.messages.byChatId[e]?.byId[n]))?(t=(0,T.tX)(t,e,r,o),t=(0,l.n4t)(t,e,r,"viewportIds",s,o)):t=(0,l.eww)(t,e,r,"lastViewportIds",void 0)}))})),Object.keys(t.messages.byChatId).forEach((e=>{const n=t.messages.byChatId[e].threadsById,r=Object.keys(n).reduce(((e,t)=>{const r=n[Number(t)];return e[Number(t)]={...r,listedIds:r.lastViewportIds},e}),{});t={...t,messages:{...t.messages,byChatId:{...t.messages.byChatId,[e]:{...t.messages.byChatId[e],threadsById:r}}}}}));const i=(0,k.xV)(t.currentUserId);return"authorizationStateReady"===t.authState||t.passcode.hasPasscode||t.passcode.isScreenLocked||Object.values(t.byTabId).forEach((({id:e})=>{e!==o&&(t=(0,M.w)(t,{isInactive:!0},e))})),(0,y.isCacheApiSupported)().then((n=>{(t=(0,e.mS)()).isCacheApiSupported=n,(0,e.UF)(t)})),t.peerColors&&(0,P.E)(t.peerColors.general),(0,M.w)(t,{messageLists:i?[i]:a.messageLists},o)})),(0,e.aJ)("requestMasterAndCallAction",(async(t,n,r)=>{const{tabId:o=(0,b.g0)()}=r;if((0,f.nTw)(t,o).isMasterTab){const{action:e,payload:t}=r;n[e](t)}else t.phoneCall||t.groupCalls.activeGroupCallId?(await(0,E.po)(E.ar.Calls),"hangUp"in n&&n.hangUp({tabId:o}),"leaveGroupCall"in n&&n.leaveGroupCall({tabId:o})):(0,b.I)(),t=(0,e.mS)(),t=(0,M.w)(t,{multitabNextAction:r},o),(0,e.UF)(t)})),(0,e.aJ)("clearMultitabNextAction",((e,t,n)=>{const{tabId:r=(0,b.g0)()}=n||{};return(0,M.w)(e,{multitabNextAction:void 0},r)}));var N=a(84051),L=a(61433),_=a(66644),B=a(30708),F=a(19822),D=a(37836);let O=!1;async function R(){await new Promise((e=>{const t=[];let n=performance.now();(0,F.i0)((()=>{const r=performance.now();if(t.push(r-n),n=r,10===t.length){const n=t.sort()[Math.floor(t.length/2)];return e(Math.round(1e3/n)),!1}return!0}),D.IJ)}))<=35&&function(){O=!0;const e=document.createElement("div");e.style.cssText="position: absolute; top: 0; left: 0; width: 0; height: 100%; overflow: hidden;";const t=document.createElement("div"),n=1.5*window.screen.height;t.style.cssText=`width: 0; height: ${n}px; transform: translateX(100%); transition: transform 100ms;`,t.innerHTML="&nbsp;",e.appendChild(t),document.body.appendChild(e),requestAnimationFrame((()=>{t.addEventListener("transitionend",(()=>{e.remove()})),t.style.transform=""}))}()}var j=a(59607),U=a(43044),$=a(4350),z=a(19800),V=a(70758),W=a(25624),H=a(59950),G=a(9390),J=a(97676),K=a(40708),q=a(60160),X=a(87357),Y=a(4029),Z=a(70934),Q=a(43503),ee=a(20919),te=a(43874),ne=a(37661),re=a(73767),oe=(a(88742),a(11117),a(48544),a(26943),a(4990),a(14)),se=a(77523),ae=a(26072),ie=a(41036),ce=a(80464),ue=a(52745);const de=()=>{const e=(0,ce.A)(E.ar.Auth,"AuthCode");return e?N.Ay.createElement(e,null):N.Ay.createElement(ue.A,null)},le=()=>{const e=(0,ce.A)(E.ar.Auth,"AuthPassword");return e?N.Ay.createElement(e,null):N.Ay.createElement(ue.A,null)},fe=["400 1em Roboto","500 1em Roboto","500 1em 'Numbers Rounded'"];function he(){if("fonts"in document)return Promise.all(fe.map((e=>document.fonts.load(e))))}var me=a(6e4),pe=a(64713);function ge(){const e=new URL(window.location.href),t=document.referrer?new URL(document.referrer):void 0;if(t?.origin===e.origin&&t.pathname===e.pathname)return void window.history.back();const n=(0,$.Nv)(1);window.location.href=n}function ye(){let e=navigator.language.toLowerCase();return e&&"pt-br"!==e&&(e=e.substr(0,2)),e}var be=a(39351),ve=a(24021),we=a(17712);function Ie(e,n){const[r,o]=(0,N.J0)(void 0),s=(0,we.A)((async()=>{if(!n)return;const r=await(0,ve.px)("fetchLangStrings",{langCode:n,langPack:t.rgX,keys:[e]}),o=r?.strings[e];return o&&"string"==typeof o?o:void 0}));return(0,N.vJ)((()=>{s().then(o)}),[e,n]),r}var Ae=a(93855),Ce=a(18276),Se=a(64493),Ee=a(19806),ke=a(40664),Pe=a(52491),Te=a(529),Me=a(4961),xe=a(35297),Ne=a(22699),Le=a(24433),_e=a(57474);const Be=200+t.xB5;function Fe(e,t=""){if(!t.length)return e;const n=(0,Te.l)(t);return e.filter((e=>n(e.defaultName)||e.name&&n(e.name)))}const De=(0,N.ph)((0,e.EK)((e=>{const{countryList:{phoneCodes:t}}=e;return{phoneCodeList:t}}))((({id:e,value:t,isLoading:r,onChange:o,phoneCodeList:s})=>{const a=(0,be.A)(),i=(0,N.li)(null),[c,u]=(0,N.J0)(),[d,l]=(0,N.J0)([]),f=(0,N.hb)((e=>{u(e),l(Fe(s,e))}),[s]);(0,xe.A)((([e])=>{!e?.length&&s.length&&l(Fe(s,c))}),[s,c]);const h=(0,N.hb)((e=>{o(e),setTimeout((()=>f(void 0)),Be)}),[o,f]),m=(0,N.hb)((e=>{f(e.currentTarget.value)}),[f]),p=(0,N.hb)((e=>{if(8!==e.keyCode)return;const n=e.currentTarget;t&&void 0===c&&(n.value=""),f(n.value)}),[c,f,t]),g=(0,N.hb)((({onTrigger:o,isOpen:s})=>{const u=()=>{if(s)return;setTimeout((()=>{i.current.select()}),50),o();const e=document.getElementById("auth-phone-number-form");e.scrollTo({top:e.scrollHeight,behavior:"smooth"})},d=t&&n.TL&&(0,Me.A)((0,Pe.D0)(t.iso2),["hq_emoji"]),l=c??[d,t?.name||t?.defaultName||""].filter(Boolean).join(" ");return N.Ay.createElement("div",{className:(0,X.A)("input-group",t&&"touched")},N.Ay.createElement("input",{ref:i,className:(0,X.A)("form-control",s&&"focus"),type:"text",id:e,value:l,autoComplete:"off",onClick:u,onFocus:u,onInput:e=>{m(e),u()},onKeyDown:p}),N.Ay.createElement("label",null,a("LoginSelectCountryTitle")),r?N.Ay.createElement(_e.A,{color:"black"}):N.Ay.createElement("i",{onClick:u,className:(0,X.A)("css-icon-down",s&&"open")}))}),[c,m,p,e,r,a,t]);return N.Ay.createElement(Ne.A,{className:"CountryCodeInput",trigger:g},d.map((e=>N.Ay.createElement(Le.A,{key:`${e.iso2}-${e.countryCode}`,className:t&&e.iso2===t.iso2?"selected":"",onClick:()=>h(e)},N.Ay.createElement("span",{className:"country-flag"},(0,Me.A)((0,Pe.D0)(e.iso2),["hq_emoji"])),N.Ay.createElement("span",{className:"country-name"},e.name||e.defaultName),N.Ay.createElement("span",{className:"country-code"},"+",e.countryCode)))),!d.length&&N.Ay.createElement(Le.A,{key:"no-results",className:"no-results",disabled:!0},N.Ay.createElement("span",null,a("CountryNone"))))}))),Oe=a.p+"monkey.a3d5fcdc50b18dc55695.svg";let Re=!1;const je=(0,N.ph)((0,e.EK)((e=>{const{sharedState:{settings:{language:t}},countryList:{phoneCodes:n}}=e;return{...(0,I.Up)(e,["connectionState","authState","authPhoneNumber","authIsLoading","authIsLoadingQrCode","authErrorKey","authRememberMe","authNearestCountry"]),language:t,phoneCodeList:n}}))((({connectionState:t,authState:r,authPhoneNumber:s,authIsLoading:a,authIsLoadingQrCode:i,authErrorKey:c,authRememberMe:u,authNearestCountry:d,phoneCodeList:l,language:f})=>{const{setAuthPhoneNumber:h,setAuthRememberMe:m,loadNearestCountry:p,loadCountryList:g,clearAuthErrorKey:y,goToAuthQrCode:b,setSharedSettingOption:v}=(0,e.ko)(),w=(0,be.A)(),I=(0,N.li)(null),A=ye(),C="connectionStateReady"===t,S=Ie("AuthContinueOnThisLanguage",A),[E,k]=(0,N.J0)(),[P,T]=(0,N.J0)(),[M,x]=(0,N.J0)(!1),[L,B]=(0,N.J0)(),[F,D,O]=(0,ne.A)(),R=(0,Ae.A)(),j=Object.values(R).length>0,U=(0,N.Kr)((()=>Object.entries(R).reduce(((e,[t,{phone:n}])=>(n&&(e[n]=Number(t)),e)),{})),[R]),z=E?`+${E.countryCode} ${P||""}`:P,V=z&&z.replace(/[^\d]+/g,"").length>=7;(0,N.vJ)((()=>{n.TF||I.current.focus()}),[E]),(0,N.vJ)((()=>{C&&!d&&p()}),[C,d]),(0,N.vJ)((()=>{C&&g({langCode:f})}),[C,f]),(0,N.vJ)((()=>{d&&l&&!E&&!M&&k((0,pe.gH)(l,d))}),[E,d,M,l]);const W=(0,we.A)((e=>{e.length||T("");const t=l&&(0,pe.oL)(l,e),n=!E||t&&t.iso2!==E.iso2||!t&&e.length?t:E;(!E||!n||n&&n.iso2!==E.iso2)&&k(n),T((0,pe.n4)(e,n))})),H=(0,we.A)((()=>{D(),(0,me.wT)(A,(()=>{O(),v({language:A})}))}));(0,N.vJ)((()=>{void 0===P&&s&&W(s)}),[s,P,W]),(0,N.Nf)((()=>{I.current&&L&&I.current.setSelectionRange(...L)}),[L]);const G=(0,N.li)(!1),J=(0,we.A)((()=>{G.current=!0,(0,_.YS)((()=>{G.current=!1}))})),K=(0,we.A)((()=>{ge()})),q=(0,we.A)((e=>{k(e),T("")})),X=(0,we.A)((e=>{c&&y(),Re||(Re=!0,he(),(0,o.NN)(Oe));const{value:t,selectionStart:r,selectionEnd:s}=e.target;B(r&&s&&s<t.length?[r,s]:void 0),x(!0);const a=n.Yw&&E&&void 0!==z&&t.length-z.length>1&&!G.current;W(a?`${E.countryCode} ${t}`:t)})),Y=(0,we.A)((e=>{m(e.target.checked)})),Z=(0,we.A)((()=>{b()})),Q="authorizationStateWaitPhoneNumber"===r;return N.Ay.createElement("div",{id:"auth-phone-number-form",className:"custom-scroll"},j&&N.Ay.createElement(Se.A,{size:"smaller",round:!0,color:"translucent",className:"auth-close",onClick:K},N.Ay.createElement(Ce.A,{name:"close"})),N.Ay.createElement("div",{className:"auth-form"},N.Ay.createElement("div",{id:"logo"}),N.Ay.createElement("h1",null,w("AuthTitle")),N.Ay.createElement("p",{className:"note"},w("StartText")),N.Ay.createElement("form",{className:"form",action:"",onSubmit:function(e){if(e.preventDefault(),a)return;const t=z?.replace(/[^\d]/g,"");t&&U[t]?window.location.replace((0,$.Nv)(U[t])):V&&h({phoneNumber:z})}},N.Ay.createElement(De,{id:"sign-in-phone-code",value:E,isLoading:!d&&!E,onChange:q}),N.Ay.createElement(ke.A,{ref:I,id:"sign-in-phone-number",label:w("LoginPhonePlaceholder"),value:z,error:c&&w.withRegular(c),inputMode:"tel",onChange:X,onPaste:n.Yw?J:void 0}),N.Ay.createElement(Ee.A,{id:"sign-in-keep-session",label:w("AuthKeepSignedIn"),checked:Boolean(u),onChange:Y}),V&&(Q?N.Ay.createElement(Se.A,{size:"smaller",type:"submit",ripple:!0,isLoading:a},w("LoginNext")):N.Ay.createElement(ue.A,null)),Q&&N.Ay.createElement(Se.A,{size:"smaller",isText:!0,ripple:!0,isLoading:i,onClick:Z},w("LoginQRLogin")),A&&A!==f&&S&&N.Ay.createElement(Se.A,{size:"smaller",isText:!0,isLoading:F,onClick:H},S))))})));var Ue=a(75357),$e=a(78376),ze=a(56863),Ve=a(83057),We=a(4438),He=a(61911);let Ge;const Je=(0,N.ph)((0,e.EK)((e=>{const{connectionState:t,authState:n,authQrCode:r}=e,{language:o}=(0,B.l)(e);return{connectionState:t,authState:n,authQrCode:r,language:o}}))((({connectionState:n,authState:r,authQrCode:o,language:s})=>{const{returnToAuthPhoneNumber:i,setSharedSettingOption:c}=(0,e.ko)(),u=ye(),d=(0,be.A)(),l=(0,N.li)(null),f="connectionStateReady"===n,h=Ie("AuthContinueOnThisLanguage",u),[m,p,g]=(0,ne.A)(),[y,b,v]=(0,ne.A)(),w=(0,Ae.A)(),I=Object.values(w).length>0,{result:A}=(0,ze.A)((async()=>new(0,(await(Ge||(Ge=a.e(7283).then(a.t.bind(a,97283,23))),Ge)).default)({width:280,height:280,image:He,margin:10,type:"svg",dotsOptions:{type:"rounded"},cornersSquareOptions:{type:"extra-rounded"},imageOptions:{imageSize:.4,margin:8},qrOptions:{errorCorrectionLevel:"M"}})),[]),C=(0,Ve.A)(y);(0,N.Nf)((()=>{if(!o||!A)return()=>{v()};if(!f)return;const e=l.current,n=`tg://login?token=${o.token}`;t.rkj&&(0,Ue.oA)(),A.update({data:n}),y||(A.append(e),b()),t.rkj&&setTimeout((()=>{(0,Ue.Z3)()}),50)}),[f,o,y,b,v,A]);const S=(0,we.A)((()=>{ge()})),E=(0,we.A)((()=>{p(),(0,me.wT)(u,(()=>{g(),c({language:u})}))})),k=(0,we.A)((()=>{i()})),P="authorizationStateWaitQrCode"===r;return N.Ay.createElement("div",{id:"auth-qr-form",className:"custom-scroll"},I&&N.Ay.createElement(Se.A,{size:"smaller",round:!0,color:"translucent",className:"auth-close",onClick:S},N.Ay.createElement(Ce.A,{name:"close"})),N.Ay.createElement("div",{className:"auth-form qr"},N.Ay.createElement("div",{className:"qr-outer"},N.Ay.createElement("div",{className:(0,X.A)("qr-inner",C),key:"qr-inner"},N.Ay.createElement("div",{key:"qr-container",className:"qr-container",ref:l,style:"width: 280px; height: 280px"}),N.Ay.createElement(We.A,{tgsUrl:$e.w.QrPlane,size:54,className:"qr-plane",nonInteractive:!0,noLoop:!1})),!y&&N.Ay.createElement("div",{className:"qr-loading"},N.Ay.createElement(ue.A,null))),N.Ay.createElement("h1",null,d("LoginQRTitle")),N.Ay.createElement("ol",null,N.Ay.createElement("li",null,N.Ay.createElement("span",null,d("LoginQRHelp1"))),N.Ay.createElement("li",null,N.Ay.createElement("span",null,d("LoginQRHelp2",void 0,{withNodes:!0,withMarkdown:!0}))),N.Ay.createElement("li",null,N.Ay.createElement("span",null,d("LoginQRHelp3")))),P&&N.Ay.createElement(Se.A,{size:"smaller",isText:!0,onClick:k},d("LoginQRCancel")),u&&u!==s&&h&&N.Ay.createElement(Se.A,{size:"smaller",isText:!0,isLoading:m,onClick:E},h)))}))),Ke=()=>{const e=(0,ce.A)(E.ar.Auth,"AuthRegister");return e?N.Ay.createElement(e,null):N.Ay.createElement(ue.A,null)},qe=(0,N.ph)((0,e.EK)((e=>({authState:e.authState})))((({authState:t})=>{const{returnToAuthPhoneNumber:r,goToAuthQrCode:o}=(0,e.ko)(),s="iOS"===n.Aw||"Android"===n.Aw;(0,ae.A)({isActive:!s&&"authorizationStateWaitPhoneNumber"===t||s&&"authorizationStateWaitQrCode"===t,onBack:()=>{s?r():o()}});const a=(0,N.li)(null);(0,se.A)(a);const i=(0,oe.A)("authorizationStateReady"!==t?t:void 0,!0);return N.Ay.createElement(ie.Ay,{activeKey:function(){switch(i){case"authorizationStateWaitCode":return 0;case"authorizationStateWaitPassword":return 1;case"authorizationStateWaitRegistration":return 2;case"authorizationStateWaitPhoneNumber":return 3;case"authorizationStateWaitQrCode":return 4;default:return s?3:4}}(),name:"fade",className:"Auth",ref:a},function(){switch(i){case"authorizationStateWaitCode":return N.Ay.createElement(de,null);case"authorizationStateWaitPassword":return N.Ay.createElement(le,null);case"authorizationStateWaitRegistration":return N.Ay.createElement(Ke,null);case"authorizationStateWaitPhoneNumber":return N.Ay.createElement(je,null);case"authorizationStateWaitQrCode":return N.Ay.createElement(Je,null);default:return s?N.Ay.createElement(je,null):N.Ay.createElement(Je,null)}}())})));var Xe=a(23174),Ye=a(62214),Ze=a(58554),Qe=a(15283),et=a(50680);const tt="ThfRMqwq",nt="kN2M6u9m";var rt=a(89704);const ot=a.p+"mask.c474db1e76529489b940.svg",st=a.p+"telegram-logo.1b2bb5b107f046ea9325.svg";function at(){const{listIds:t,byId:n}=(0,e.mS)().chats;if(t.active)return Promise.all(t.active.slice(0,10).map((e=>{const t=n[e];if(!t)return;const r=(0,Ye.cP)(t);return r?Ze.hd(r,Xe.qZ.BlobUrl):void 0})))}const it={main:()=>Promise.all([(0,E.Vw)(E.ar.Main).then(he),at(),(0,o.NN)(ot),U.CO]),authPhoneNumber:()=>Promise.all([he(),(0,o.NN)(st)]),authCode:()=>(0,o.NN)(Oe),authPassword:()=>(0,o.NN)(Oe),authQrCode:he,lock:()=>Promise.all([he(),(0,o.NN)(rt)]),inactive:()=>{}},ct=(0,e.EK)(((e,{isMobile:t})=>{const n=(0,f.nTw)(e);return{shouldSkipHistoryAnimations:n.shouldSkipHistoryAnimations,uiReadyState:n.uiReadyState,isRightColumnShown:(0,f.gjV)(e,t),leftColumnWidth:e.leftColumnWidth}}))((({page:t,children:n,isRightColumnShown:r,shouldSkipHistoryAnimations:o,leftColumnWidth:s})=>{const{setIsUiReady:a}=(0,e.ko)(),[i,c]=(0,ne.A)(),{shouldRender:u,transitionClassNames:d}=(0,et.A)(!i,void 0,!0);return(0,Qe.A)((()=>{let e;return Promise.race([(0,D.v7)(700),t?(async()=>{try{await it[t]()}catch(e){}})():Promise.resolve()]).then((()=>{c(),a({uiReadyState:1}),e=window.setTimeout((()=>{a({uiReadyState:2})}),1e3)})),()=>{e&&(clearTimeout(e),e=void 0),a({uiReadyState:0})}})),N.Ay.createElement(N.Ay.Fragment,null,n,u&&!o&&Boolean(t)&&N.Ay.createElement("div",{className:(0,X.A)("U9MowLv_",d)},"main"===t?N.Ay.createElement("div",{className:"RcG6eRZw"},N.Ay.createElement("div",{className:"oL7XcRwI",style:s?`width: ${s}px`:void 0}),N.Ay.createElement("div",{className:(0,X.A)("LYe7IaQO",tt)}),r&&N.Ay.createElement("div",{className:"wYSGQZXX"})):"inactive"===t||"lock"===t?N.Ay.createElement("div",{className:(0,X.A)(nt,tt)}):N.Ay.createElement("div",{className:nt})))})),ut=a.p+"app-inactive.da3925145f0a7111c0f1.png",dt=()=>{const e=(0,N.hb)((()=>{window.location.reload()}),[]);return(0,ae.A)({isActive:!0,onBack:e,shouldResetUrlHash:!0}),N.Ay.createElement("div",{id:"AppInactive"},N.Ay.createElement("div",{className:"content"},N.Ay.createElement("img",{src:ut,alt:""}),N.Ay.createElement("h3",{className:"title"},"Such error, many tabs"),N.Ay.createElement("div",{className:"description"},"Telegram supports only one active tab with the app.",N.Ay.createElement("br",null),"Please reload this page to continue using this tab or close it."),N.Ay.createElement("div",{className:"actions"},N.Ay.createElement(Se.A,{isText:!0,ripple:!0,onClick:e},"Reload app"))))},lt=e=>{const{isLocked:t}=e,n=(0,ce.A)(E.ar.Main,"LockScreen",!t);return n?N.Ay.createElement(n,e):void 0},ft=e=>{const t=(0,ce.A)(E.ar.Main,"Main");return t?N.Ay.createElement(t,e):void 0};var ht=function(e){return e[e.auth=0]="auth",e[e.main=1]="main",e[e.lock=2]="lock",e[e.inactive=3]="inactive",e}(ht||{});const mt=Object.keys(ht).length/2,pt=`${t.j0M} ${t.LaL}`,gt=(0,e.EK)((e=>{const{currentUserId:t}=e;return t&&(0,ee.Qe)(t),{authState:e.authState,isScreenLocked:e.passcode?.isScreenLocked,hasPasscode:e.passcode?.hasPasscode,isInactiveAuth:(0,f.nTw)(e).isInactive,hasWebAuthTokenFailed:e.hasWebAuthTokenFailed||e.hasWebAuthTokenPasswordRequired,theme:(0,f.SJA)(e),isTestServer:e.config?.isTestServer}}))((({authState:e,isScreenLocked:r,hasPasscode:o,isInactiveAuth:s,hasWebAuthTokenFailed:a,isTestServer:i,theme:c})=>{const[u,d,l]=(0,ne.A)(!1),{isMobile:f}=(0,te.Ay)(),h="iOS"===n.Aw||"Android"===n.Aw;let m,p;if((0,N.vJ)((()=>{n.nB&&(0,Y.a)()}),[]),(0,N.vJ)((()=>{const e=(0,k.cA)();if(!(0,A.wr)()&&!$.Xz&&!e){const t=(0,$.zk)();Object.keys(t).map(Number).sort(((e,t)=>t-e)).forEach((n=>{const r=Number(n);if(t[r]){const t=(0,$.Nv)(r);window.location.href=`${t}#${e||"login"}`}}))}(async()=>{if((0,A.$m)()&&$.Xz&&await(0,Z.H)()){const e=(0,$.Nv)(1);window.location.href=e}})()}),[]),(0,N.vJ)((()=>{const e=document.body,t=e=>{e.preventDefault(),e.dataTransfer&&(e.target.dataset.dropzone?e.dataTransfer.dropEffect="copy":e.dataTransfer.dropEffect="none")},n=e=>{e.preventDefault()};return e.addEventListener("drop",n),e.addEventListener("dragover",t),e.addEventListener("dragenter",t),()=>{e.removeEventListener("drop",n),e.removeEventListener("dragover",t),e.removeEventListener("dragenter",t)}}),[]),u)m=ht.inactive;else if(r)p="lock",m=ht.lock;else if(e)switch(e){case"authorizationStateWaitPhoneNumber":p="authPhoneNumber",m=ht.auth;break;case"authorizationStateWaitCode":p="authCode",m=ht.auth;break;case"authorizationStateWaitPassword":p="authPassword",m=ht.auth;break;case"authorizationStateWaitRegistration":m=ht.auth;break;case"authorizationStateWaitQrCode":p="authQrCode",m=ht.auth;break;case"authorizationStateClosed":case"authorizationStateClosing":case"authorizationStateLoggingOut":case"authorizationStateReady":p="main",m=ht.main}else(0,A.wr)()?(p="main",m=ht.main):o?m=ht.lock:(p=h?"authPhoneNumber":"authQrCode",m=ht.auth);m!==ht.lock&&m!==ht.inactive&&m!==ht.main&&(0,k.f4)()?.tgWebAuthToken&&!a&&(p="main",m=ht.main),(0,N.vJ)((()=>{(0,Q.u)()}),[]),(0,N.vJ)((()=>{s?(document.title=pt,d()):(document.title=t.j0M,l())}),[s,d,l]);const g=(0,re.A)(m);function y(){switch(m){case ht.auth:return N.Ay.createElement(qe,null);case ht.main:return N.Ay.createElement(ft,{isMobile:f});case ht.lock:return N.Ay.createElement(lt,{isLocked:r});case ht.inactive:return N.Ay.createElement(dt,null)}}return(0,N.Nf)((()=>{document.body.classList.add(tt)}),[]),(0,N.Nf)((()=>{document.body.style.setProperty("--theme-background-color","dark"===c?t.PqE:t.XLD)}),[c]),N.Ay.createElement(ct,{page:p,isMobile:f},N.Ay.createElement(ie.Ay,{name:"fade",activeKey:m,shouldCleanup:!0,className:(0,X.A)("full-height",(m===ht.auth||g===ht.auth)&&"is-auth"),renderCount:mt},y),m===ht.auth&&i&&N.Ay.createElement("div",{className:"test-server-badge"},"Test server"))}));t.rkj&&(0,_.Z3)(),async function(){if(t.Oig&&console.log(">>> INIT"),!window.isCompatTestPassed)return;(0,z.Tq)(),await(window.electron?.restoreLocalStorage()),(0,j.mY)(),await(0,j.Ld)("10.9.50"),localStorage.setItem($.pn,"1"),(0,D.yu)((()=>{const t=(0,e.mS)();1===Object.keys(t.byTabId).length&&localStorage.removeItem($.pn)})),await C(),(0,e.ko)().init(),(0,e.ko)().updateShouldEnableDebugLog(),(0,e.ko)().updateShouldDebugExportedSenders();const r=(0,e.mS)();(0,U.S7)((0,B.l)(r).language,!0),V.xS.get("auto-translate-language").then((t=>{(0,e.ko)().setSettingOption({autoTranslateLanguage:t||"en"}),(0,e.ko)().setSettingOption({translationLanguage:t||"en"})})),V.xS.get("auto-translate").then((t=>{(0,e.ko)().setSettingOption({autoTranslate:t||!1})})),H.z.initTask(),G.n.initTask(),J.J.initTask(),q.qX.getText(K.Gb).then((e=>{e||q.qX.addText("约会，安排会议，创建会议，schedule meeting",K.Gb,{})})),q.qX.getText(K.ne).then((e=>{e||q.qX.addText("searching for group/chanel/team/channel",K.ne,{})})),q.qX.getText(K.GB).then((e=>{e||q.qX.addText("searching for a user/person/peer",K.GB,{})})),W.x.initTask(),(0,b.wr)((t=>{(0,e.ko)().switchMultitabRole({isMasterTab:t},{forceSyncOnIOs:!0})}));const o="authorizationStateReady"!==(0,e.mS)().authState;(0,b.UJ)(o),t.Oig&&console.log(">>> START INITIAL RENDER"),(0,_.RK)((()=>{!function(){if(!n.MP)return;const e=document.getElementById("the-manifest-placeholder");if(!e)return;const r=`site_apple${t.Oig?"_dev":""}.webmanifest`;e.setAttribute("href",r)}(),L.Ay.render(N.Ay.createElement(gt,null),document.getElementById("root")),function(){if(!n.pz)return;let e,t=Date.now();function r(){e||O||(e=window.setInterval(R,5e3))}window.addEventListener("focus",(()=>{const e=Date.now();e-t<100||(t=e,r(),R())})),window.addEventListener("blur",(()=>{clearInterval(e),e=void 0})),document.hasFocus()&&(r(),R())}()})),t.Oig&&console.log(">>> FINISH INITIAL RENDER"),t.Oig&&document.addEventListener("dblclick",(()=>{console.warn("TAB STATE",(0,f.nTw)((0,e.mS)())),console.warn("GLOBAL STATE",(0,e.mS)())}))}(),(0,D.yu)((()=>{const t=(0,e.ko)();t.leaveGroupCall?.({isPageUnload:!0}),t.hangUp?.({isPageUnload:!0})}))})()})();
//# sourceMappingURL=main.c8d8fba19fe2b3d07e4a.js.map